{
  "version": 3,
  "sources": ["../../object-hash/dist/object_hash.js", "../../@puckeditor/core/dist/chunk-TNORMHZU.mjs", "../../@puckeditor/core/dist/chunk-EBISZQTK.mjs", "../../zustand/esm/react/shallow.mjs", "../../zustand/esm/vanilla/shallow.mjs", "../../@puckeditor/core/node_modules/@dnd-kit/react/index.js", "../../@preact/signals-core/src/index.ts", "../../@dnd-kit/state/dist/index.mjs", "../../@dnd-kit/geometry/dist/index.mjs", "../../@dnd-kit/abstract/src/core/plugins/utilities.ts", "../../@dnd-kit/abstract/src/core/plugins/plugin.ts", "../../@dnd-kit/abstract/src/core/plugins/registry.ts", "../../@dnd-kit/abstract/src/core/collision/utilities.ts", "../../@dnd-kit/abstract/src/core/collision/observer.ts", "../../@dnd-kit/abstract/src/core/manager/events.ts", "../../@dnd-kit/abstract/src/core/collision/notifier.ts", "../../@dnd-kit/abstract/src/core/collision/types.ts", "../../@dnd-kit/abstract/src/core/manager/status.ts", "../../@dnd-kit/abstract/src/core/manager/actions.ts", "../../@dnd-kit/abstract/src/core/entities/entity/entity.ts", "../../@dnd-kit/abstract/src/core/entities/entity/registry.ts", "../../@dnd-kit/abstract/src/core/entities/draggable/draggable.ts", "../../@dnd-kit/abstract/src/core/entities/droppable/droppable.ts", "../../@dnd-kit/abstract/src/core/sensors/sensor.ts", "../../@dnd-kit/abstract/src/core/modifiers/modifier.ts", "../../@dnd-kit/abstract/src/core/manager/registry.ts", "../../@dnd-kit/abstract/src/core/manager/operation.ts", "../../@dnd-kit/abstract/src/core/manager/renderer.ts", "../../@dnd-kit/abstract/src/core/manager/manager.ts", "../../@dnd-kit/dom/src/utilities/type-guards/isKeyframeEffect.ts", "../../@dnd-kit/dom/src/utilities/animations/getFinalKeyframe.ts", "../../@dnd-kit/dom/src/utilities/bounding-rectangle/getBoundingRectangle.ts", "../../@dnd-kit/dom/src/utilities/execution-context/canUseDOM.ts", "../../@dnd-kit/dom/src/utilities/type-guards/isWindow.ts", "../../@dnd-kit/dom/src/utilities/type-guards/isNode.ts", "../../@dnd-kit/dom/src/utilities/execution-context/getWindow.ts", "../../@dnd-kit/dom/src/utilities/type-guards/isDocument.ts", "../../@dnd-kit/dom/src/utilities/type-guards/isHTMLElement.ts", "../../@dnd-kit/dom/src/utilities/type-guards/isSVGElement.ts", "../../@dnd-kit/dom/src/utilities/execution-context/getDocument.ts", "../../@dnd-kit/dom/src/utilities/bounding-rectangle/getViewportBoundingRectangle.ts", "../../@dnd-kit/dom/src/utilities/bounding-rectangle/isOverflowVisible.ts", "../../@dnd-kit/dom/src/utilities/bounding-rectangle/getVisibleBoundingRectangle.ts", "../../@dnd-kit/dom/src/utilities/execution-context/isSafari.ts", "../../@dnd-kit/dom/src/utilities/element/cloneElement.ts", "../../@dnd-kit/dom/src/utilities/element/getElementFromPoint.ts", "../../@dnd-kit/dom/src/utilities/element/proxiedElements.ts", "../../@dnd-kit/dom/src/utilities/event-listeners/Listeners.ts", "../../@dnd-kit/dom/src/utilities/frame/getFrameElement.ts", "../../@dnd-kit/dom/src/utilities/frame/getFrameElements.ts", "../../@dnd-kit/dom/src/utilities/scheduling/timeout.ts", "../../@dnd-kit/dom/src/utilities/scheduling/throttle.ts", "../../@dnd-kit/dom/src/utilities/bounding-rectangle/isRectEqual.ts", "../../@dnd-kit/dom/src/utilities/bounding-rectangle/isVisible.ts", "../../@dnd-kit/dom/src/utilities/observers/ResizeNotifier.ts", "../../@dnd-kit/dom/src/utilities/observers/PositionObserver.ts", "../../@dnd-kit/dom/src/utilities/observers/FrameObserver.ts", "../../@dnd-kit/dom/src/utilities/popover/supportsPopover.ts", "../../@dnd-kit/dom/src/utilities/popover/showPopover.ts", "../../@dnd-kit/dom/src/utilities/popover/hidePopover.ts", "../../@dnd-kit/dom/src/utilities/scroll/documentScrollingElement.ts", "../../@dnd-kit/dom/src/utilities/scroll/getScrollPosition.ts", "../../@dnd-kit/dom/src/utilities/scroll/canScroll.ts", "../../@dnd-kit/dom/src/utilities/scheduling/scheduler.ts", "../../@dnd-kit/dom/src/utilities/styles/getComputedStyles.ts", "../../@dnd-kit/dom/src/utilities/scroll/isFixed.ts", "../../@dnd-kit/dom/src/utilities/scroll/isScrollable.ts", "../../@dnd-kit/dom/src/utilities/scroll/getScrollableAncestors.ts", "../../@dnd-kit/dom/src/utilities/frame/getFrameTransform.ts", "../../@dnd-kit/dom/src/utilities/transform/parseScale.ts", "../../@dnd-kit/dom/src/utilities/transform/parseTranslate.ts", "../../@dnd-kit/dom/src/utilities/transform/parseTransform.ts", "../../@dnd-kit/dom/src/utilities/scroll/detectScrollIntent.ts", "../../@dnd-kit/dom/src/utilities/scroll/scrollIntoViewIfNeeded.ts", "../../@dnd-kit/dom/src/utilities/transform/applyTransform.ts", "../../@dnd-kit/dom/src/utilities/transform/inverseTransform.ts", "../../@dnd-kit/dom/src/utilities/transform/animateTransform.ts", "../../@dnd-kit/dom/src/utilities/transform/computeTranslate.ts", "../../@dnd-kit/dom/src/utilities/animations/forceFinishAnimations.ts", "../../@dnd-kit/dom/src/utilities/shapes/DOMRectangle.ts", "../../@dnd-kit/dom/src/utilities/type-guards/supportsStyle.ts", "../../@dnd-kit/dom/src/utilities/styles/Styles.ts", "../../@dnd-kit/dom/src/utilities/type-guards/isElement.ts", "../../@dnd-kit/dom/src/utilities/type-guards/isKeyboardEvent.ts", "../../@dnd-kit/dom/src/utilities/type-guards/isPointerEvent.ts", "../../@dnd-kit/dom/src/utilities/type-guards/supportsViewTransition.ts", "../../@dnd-kit/dom/src/utilities/type-guards/isTextInput.ts", "../../@dnd-kit/dom/src/utilities/misc/generateUniqueId.ts", "../../@dnd-kit/collision/dist/index.js", "../../@dnd-kit/dom/src/core/plugins/accessibility/defaults.ts", "../../@dnd-kit/dom/src/core/plugins/accessibility/utilities.ts", "../../@dnd-kit/dom/src/core/plugins/accessibility/HiddenText.ts", "../../@dnd-kit/dom/src/core/plugins/accessibility/LiveRegion.ts", "../../@dnd-kit/dom/src/core/plugins/accessibility/Accessibility.ts", "../../@dnd-kit/dom/src/core/plugins/cursor/Cursor.ts", "../../@dnd-kit/dom/src/core/plugins/feedback/constants.ts", "../../@dnd-kit/dom/src/core/plugins/feedback/utilities.ts", "../../@dnd-kit/dom/src/core/plugins/feedback/Feedback.ts", "../../@dnd-kit/dom/src/core/plugins/scrolling/ScrollLock.ts", "../../@dnd-kit/dom/src/core/plugins/scrolling/ScrollIntent.ts", "../../@dnd-kit/dom/src/core/plugins/scrolling/Scroller.ts", "../../@dnd-kit/dom/src/utilities/scheduling/scheduler.ts", "../../@dnd-kit/dom/src/core/plugins/scrolling/AutoScroller.ts", "../../@dnd-kit/dom/src/core/plugins/scrolling/ScrollListener.ts", "../../@dnd-kit/dom/src/core/plugins/selection/PreventSelection.ts", "../../@dnd-kit/dom/src/core/sensors/keyboard/KeyboardSensor.ts", "../../@dnd-kit/dom/src/core/sensors/pointer/PointerSensor.ts", "../../@dnd-kit/dom/src/core/manager/manager.ts", "../../@dnd-kit/dom/src/core/entities/draggable/draggable.ts", "../../@dnd-kit/dom/src/core/entities/droppable/droppable.ts", "../../@puckeditor/core/node_modules/@dnd-kit/react/hooks.js", "../../@puckeditor/core/node_modules/@dnd-kit/react/utilities.js", "../../@puckeditor/core/node_modules/@dnd-kit/react/sortable.js", "../../@dnd-kit/dom/src/sortable/utilities.ts", "../../@dnd-kit/dom/src/sortable/plugins/SortableKeyboardPlugin.ts", "../../@dnd-kit/helpers/dist/index.js", "../../@dnd-kit/dom/src/sortable/plugins/OptimisticSortingPlugin.ts", "../../@dnd-kit/dom/src/sortable/sortable.ts"],
  "sourcesContent": ["!function(e){var t;\"object\"==typeof exports?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(\"undefined\"!=typeof window?t=window:\"undefined\"!=typeof global?t=global:\"undefined\"!=typeof self&&(t=self),t.objectHash=e())}(function(){return function r(o,i,u){function s(n,e){if(!i[n]){if(!o[n]){var t=\"function\"==typeof require&&require;if(!e&&t)return t(n,!0);if(a)return a(n,!0);throw new Error(\"Cannot find module '\"+n+\"'\")}e=i[n]={exports:{}};o[n][0].call(e.exports,function(e){var t=o[n][1][e];return s(t||e)},e,e.exports,r,o,i,u)}return i[n].exports}for(var a=\"function\"==typeof require&&require,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(w,b,m){!function(e,n,s,c,d,h,p,g,y){\"use strict\";var r=w(\"crypto\");function t(e,t){t=u(e,t);var n;return void 0===(n=\"passthrough\"!==t.algorithm?r.createHash(t.algorithm):new l).write&&(n.write=n.update,n.end=n.update),f(t,n).dispatch(e),n.update||n.end(\"\"),n.digest?n.digest(\"buffer\"===t.encoding?void 0:t.encoding):(e=n.read(),\"buffer\"!==t.encoding?e.toString(t.encoding):e)}(m=b.exports=t).sha1=function(e){return t(e)},m.keys=function(e){return t(e,{excludeValues:!0,algorithm:\"sha1\",encoding:\"hex\"})},m.MD5=function(e){return t(e,{algorithm:\"md5\",encoding:\"hex\"})},m.keysMD5=function(e){return t(e,{algorithm:\"md5\",encoding:\"hex\",excludeValues:!0})};var o=r.getHashes?r.getHashes().slice():[\"sha1\",\"md5\"],i=(o.push(\"passthrough\"),[\"buffer\",\"hex\",\"binary\",\"base64\"]);function u(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||\"sha1\",n.encoding=t.encoding||\"hex\",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error(\"Object argument required.\");for(var r=0;r<o.length;++r)o[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=o[r]);if(-1===o.indexOf(n.algorithm))throw new Error('Algorithm \"'+n.algorithm+'\"  not supported. supported values: '+o.join(\", \"));if(-1===i.indexOf(n.encoding)&&\"passthrough\"!==n.algorithm)throw new Error('Encoding \"'+n.encoding+'\"  not supported. supported values: '+i.join(\", \"));return n}function a(e){if(\"function\"==typeof e)return null!=/^function\\s+\\w*\\s*\\(\\s*\\)\\s*{\\s+\\[native code\\]\\s+}$/i.exec(Function.prototype.toString.call(e))}function f(o,t,i){i=i||[];function u(e){return t.update?t.update(e,\"utf8\"):t.write(e,\"utf8\")}return{dispatch:function(e){return this[\"_\"+(null===(e=o.replacer?o.replacer(e):e)?\"null\":typeof e)](e)},_object:function(t){var n,e=Object.prototype.toString.call(t),r=/\\[object (.*)\\]/i.exec(e);r=(r=r?r[1]:\"unknown:[\"+e+\"]\").toLowerCase();if(0<=(e=i.indexOf(t)))return this.dispatch(\"[CIRCULAR:\"+e+\"]\");if(i.push(t),void 0!==s&&s.isBuffer&&s.isBuffer(t))return u(\"buffer:\"),u(t);if(\"object\"===r||\"function\"===r||\"asyncfunction\"===r)return e=Object.keys(t),o.unorderedObjects&&(e=e.sort()),!1===o.respectType||a(t)||e.splice(0,0,\"prototype\",\"__proto__\",\"constructor\"),o.excludeKeys&&(e=e.filter(function(e){return!o.excludeKeys(e)})),u(\"object:\"+e.length+\":\"),n=this,e.forEach(function(e){n.dispatch(e),u(\":\"),o.excludeValues||n.dispatch(t[e]),u(\",\")});if(!this[\"_\"+r]){if(o.ignoreUnknown)return u(\"[\"+r+\"]\");throw new Error('Unknown object type \"'+r+'\"')}this[\"_\"+r](t)},_array:function(e,t){t=void 0!==t?t:!1!==o.unorderedArrays;var n=this;if(u(\"array:\"+e.length+\":\"),!t||e.length<=1)return e.forEach(function(e){return n.dispatch(e)});var r=[],t=e.map(function(e){var t=new l,n=i.slice();return f(o,t,n).dispatch(e),r=r.concat(n.slice(i.length)),t.read().toString()});return i=i.concat(r),t.sort(),this._array(t,!1)},_date:function(e){return u(\"date:\"+e.toJSON())},_symbol:function(e){return u(\"symbol:\"+e.toString())},_error:function(e){return u(\"error:\"+e.toString())},_boolean:function(e){return u(\"bool:\"+e.toString())},_string:function(e){u(\"string:\"+e.length+\":\"),u(e.toString())},_function:function(e){u(\"fn:\"),a(e)?this.dispatch(\"[native]\"):this.dispatch(e.toString()),!1!==o.respectFunctionNames&&this.dispatch(\"function-name:\"+String(e.name)),o.respectFunctionProperties&&this._object(e)},_number:function(e){return u(\"number:\"+e.toString())},_xml:function(e){return u(\"xml:\"+e.toString())},_null:function(){return u(\"Null\")},_undefined:function(){return u(\"Undefined\")},_regexp:function(e){return u(\"regex:\"+e.toString())},_uint8array:function(e){return u(\"uint8array:\"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return u(\"uint8clampedarray:\"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return u(\"int8array:\"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return u(\"uint16array:\"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return u(\"int16array:\"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return u(\"uint32array:\"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return u(\"int32array:\"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return u(\"float32array:\"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return u(\"float64array:\"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return u(\"arraybuffer:\"),this.dispatch(new Uint8Array(e))},_url:function(e){return u(\"url:\"+e.toString())},_map:function(e){u(\"map:\");e=Array.from(e);return this._array(e,!1!==o.unorderedSets)},_set:function(e){u(\"set:\");e=Array.from(e);return this._array(e,!1!==o.unorderedSets)},_file:function(e){return u(\"file:\"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(o.ignoreUnknown)return u(\"[blob]\");throw Error('Hashing Blob objects is currently not supported\\n(see https://github.com/puleos/object-hash/issues/26)\\nUse \"options.replacer\" or \"options.ignoreUnknown\"\\n')},_domwindow:function(){return u(\"domwindow\")},_bigint:function(e){return u(\"bigint:\"+e.toString())},_process:function(){return u(\"process\")},_timer:function(){return u(\"timer\")},_pipe:function(){return u(\"pipe\")},_tcp:function(){return u(\"tcp\")},_udp:function(){return u(\"udp\")},_tty:function(){return u(\"tty\")},_statwatcher:function(){return u(\"statwatcher\")},_securecontext:function(){return u(\"securecontext\")},_connection:function(){return u(\"connection\")},_zlib:function(){return u(\"zlib\")},_context:function(){return u(\"context\")},_nodescript:function(){return u(\"nodescript\")},_httpparser:function(){return u(\"httpparser\")},_dataview:function(){return u(\"dataview\")},_signal:function(){return u(\"signal\")},_fsevent:function(){return u(\"fsevent\")},_tlswrap:function(){return u(\"tlswrap\")}}}function l(){return{buf:\"\",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}m.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),f(t=u(e,t),n).dispatch(e)}}.call(this,w(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},w(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/fake_9a5aa49d.js\",\"/\")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,f){!function(e,t,n,r,o,i,u,s,a){!function(e){\"use strict\";var a=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,t=\"+\".charCodeAt(0),n=\"/\".charCodeAt(0),r=\"0\".charCodeAt(0),o=\"a\".charCodeAt(0),i=\"A\".charCodeAt(0),u=\"-\".charCodeAt(0),s=\"_\".charCodeAt(0);function f(e){e=e.charCodeAt(0);return e===t||e===u?62:e===n||e===s?63:e<r?-1:e<r+10?e-r+26+26:e<i+26?e-i:e<o+26?e-o+26:void 0}e.toByteArray=function(e){var t,n;if(0<e.length%4)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=e.length,r=\"=\"===e.charAt(r-2)?2:\"=\"===e.charAt(r-1)?1:0,o=new a(3*e.length/4-r),i=0<r?e.length-4:e.length,u=0;function s(e){o[u++]=e}for(t=0;t<i;t+=4,0)s((16711680&(n=f(e.charAt(t))<<18|f(e.charAt(t+1))<<12|f(e.charAt(t+2))<<6|f(e.charAt(t+3))))>>16),s((65280&n)>>8),s(255&n);return 2==r?s(255&(n=f(e.charAt(t))<<2|f(e.charAt(t+1))>>4)):1==r&&(s((n=f(e.charAt(t))<<10|f(e.charAt(t+1))<<4|f(e.charAt(t+2))>>2)>>8&255),s(255&n)),o},e.fromByteArray=function(e){var t,n,r,o,i=e.length%3,u=\"\";function s(e){return\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(e)}for(t=0,r=e.length-i;t<r;t+=3)n=(e[t]<<16)+(e[t+1]<<8)+e[t+2],u+=s((o=n)>>18&63)+s(o>>12&63)+s(o>>6&63)+s(63&o);switch(i){case 1:u=(u+=s((n=e[e.length-1])>>2))+s(n<<4&63)+\"==\";break;case 2:u=(u=(u+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+s(n>>4&63))+s(n<<2&63)+\"=\"}return u}}(void 0===f?this.base64js={}:f)}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js\",\"/node_modules/gulp-browserify/node_modules/base64-js/lib\")},{buffer:3,lYpoI2:11}],3:[function(O,e,H){!function(e,n,f,r,h,p,g,y,w){var a=O(\"base64-js\"),i=O(\"ieee754\");function f(e,t,n){if(!(this instanceof f))return new f(e,t,n);var r,o,i,u,s=typeof e;if(\"base64\"===t&&\"string\"==s)for(e=(u=e).trim?u.trim():u.replace(/^\\s+|\\s+$/g,\"\");e.length%4!=0;)e+=\"=\";if(\"number\"==s)r=j(e);else if(\"string\"==s)r=f.byteLength(e,t);else{if(\"object\"!=s)throw new Error(\"First argument needs to be a number, array or string.\");r=j(e.length)}if(f._useTypedArrays?o=f._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),f._useTypedArrays&&\"number\"==typeof e.byteLength)o._set(e);else if(C(u=e)||f.isBuffer(u)||u&&\"object\"==typeof u&&\"number\"==typeof u.length)for(i=0;i<r;i++)f.isBuffer(e)?o[i]=e.readUInt8(i):o[i]=e[i];else if(\"string\"==s)o.write(e,0,t);else if(\"number\"==s&&!f._useTypedArrays&&!n)for(i=0;i<r;i++)o[i]=0;return o}function b(e,t,n,r){return f._charsWritten=c(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return f._charsWritten=c(function(e){for(var t,n,r=[],o=0;o<e.length;o++)n=e.charCodeAt(o),t=n>>8,n=n%256,r.push(n),r.push(t);return r}(t),e,n,r)}function v(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}function o(e,t,n,r){r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+1<e.length,\"Trying to read beyond buffer length\"));var o,r=e.length;if(!(r<=t))return n?(o=e[t],t+1<r&&(o|=e[t+1]<<8)):(o=e[t]<<8,t+1<r&&(o|=e[t+1])),o}function u(e,t,n,r){r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+3<e.length,\"Trying to read beyond buffer length\"));var o,r=e.length;if(!(r<=t))return n?(t+2<r&&(o=e[t+2]<<16),t+1<r&&(o|=e[t+1]<<8),o|=e[t],t+3<r&&(o+=e[t+3]<<24>>>0)):(t+1<r&&(o=e[t+1]<<16),t+2<r&&(o|=e[t+2]<<8),t+3<r&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}function _(e,t,n,r){if(r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+1<e.length,\"Trying to read beyond buffer length\")),!(e.length<=t))return r=o(e,t,n,!0),32768&r?-1*(65535-r+1):r}function E(e,t,n,r){if(r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+3<e.length,\"Trying to read beyond buffer length\")),!(e.length<=t))return r=u(e,t,n,!0),2147483648&r?-1*(4294967295-r+1):r}function I(e,t,n,r){return r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(t+3<e.length,\"Trying to read beyond buffer length\")),i.read(e,t,n,23,4)}function A(e,t,n,r){return r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(t+7<e.length,\"Trying to read beyond buffer length\")),i.read(e,t,n,52,8)}function s(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+1<e.length,\"trying to write beyond buffer length\"),Y(t,65535));o=e.length;if(!(o<=n))for(var i=0,u=Math.min(o-n,2);i<u;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function l(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+3<e.length,\"trying to write beyond buffer length\"),Y(t,4294967295));o=e.length;if(!(o<=n))for(var i=0,u=Math.min(o-n,4);i<u;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function B(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+1<e.length,\"Trying to write beyond buffer length\"),F(t,32767,-32768)),e.length<=n||s(e,0<=t?t:65535+t+1,n,r,o)}function L(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+3<e.length,\"Trying to write beyond buffer length\"),F(t,2147483647,-2147483648)),e.length<=n||l(e,0<=t?t:4294967295+t+1,n,r,o)}function U(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+3<e.length,\"Trying to write beyond buffer length\"),D(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||i.write(e,t,n,r,23,4)}function x(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+7<e.length,\"Trying to write beyond buffer length\"),D(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||i.write(e,t,n,r,52,8)}H.Buffer=f,H.SlowBuffer=f,H.INSPECT_MAX_BYTES=50,f.poolSize=8192,f._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&\"function\"==typeof t.subarray}catch(e){return!1}}(),f.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"raw\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},f.isBuffer=function(e){return!(null==e||!e._isBuffer)},f.byteLength=function(e,t){var n;switch(e+=\"\",t||\"utf8\"){case\"hex\":n=e.length/2;break;case\"utf8\":case\"utf-8\":n=T(e).length;break;case\"ascii\":case\"binary\":case\"raw\":n=e.length;break;case\"base64\":n=M(e).length;break;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":n=2*e.length;break;default:throw new Error(\"Unknown encoding\")}return n},f.concat=function(e,t){if(d(C(e),\"Usage: Buffer.concat(list, [totalLength])\\nlist should be an Array.\"),0===e.length)return new f(0);if(1===e.length)return e[0];if(\"number\"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new f(t),r=0,o=0;o<e.length;o++){var i=e[o];i.copy(n,r),r+=i.length}return n},f.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(a=r,r=t,t=n,n=a),t=Number(t)||0;var o,i,u,s,a=this.length-t;switch((!n||a<(n=Number(n)))&&(n=a),r=String(r||\"utf8\").toLowerCase()){case\"hex\":o=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o),d((o=t.length)%2==0,\"Invalid hex string\"),o/2<r&&(r=o/2);for(var i=0;i<r;i++){var u=parseInt(t.substr(2*i,2),16);d(!isNaN(u),\"Invalid hex string\"),e[n+i]=u}return f._charsWritten=2*i,i}(this,e,t,n);break;case\"utf8\":case\"utf-8\":i=this,u=t,s=n,o=f._charsWritten=c(T(e),i,u,s);break;case\"ascii\":case\"binary\":o=b(this,e,t,n);break;case\"base64\":i=this,u=t,s=n,o=f._charsWritten=c(M(e),i,u,s);break;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":o=m(this,e,t,n);break;default:throw new Error(\"Unknown encoding\")}return o},f.prototype.toString=function(e,t,n){var r,o,i,u,s=this;if(e=String(e||\"utf8\").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):s.length)===t)return\"\";switch(e){case\"hex\":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0);(!n||n<0||r<n)&&(n=r);for(var o=\"\",i=t;i<n;i++)o+=k(e[i]);return o}(s,t,n);break;case\"utf8\":case\"utf-8\":r=function(e,t,n){var r=\"\",o=\"\";n=Math.min(e.length,n);for(var i=t;i<n;i++)e[i]<=127?(r+=N(o)+String.fromCharCode(e[i]),o=\"\"):o+=\"%\"+e[i].toString(16);return r+N(o)}(s,t,n);break;case\"ascii\":case\"binary\":r=v(s,t,n);break;case\"base64\":o=s,u=n,r=0===(i=t)&&u===o.length?a.fromByteArray(o):a.fromByteArray(o.slice(i,u));break;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":r=function(e,t,n){for(var r=e.slice(t,n),o=\"\",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}(s,t,n);break;default:throw new Error(\"Unknown encoding\")}return r},f.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}},f.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){d(n<=r,\"sourceEnd < sourceStart\"),d(0<=t&&t<e.length,\"targetStart out of bounds\"),d(0<=n&&n<this.length,\"sourceStart out of bounds\"),d(0<=r&&r<=this.length,\"sourceEnd out of bounds\"),r>this.length&&(r=this.length);var o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(o<100||!f._useTypedArrays)for(var i=0;i<o;i++)e[i+t]=this[i+n];else e._set(this.subarray(n,n+o),t)}},f.prototype.slice=function(e,t){var n=this.length;if(e=S(e,n,0),t=S(t,n,n),f._useTypedArrays)return f._augment(this.subarray(e,t));for(var r=t-e,o=new f(r,void 0,!0),i=0;i<r;i++)o[i]=this[i+e];return o},f.prototype.get=function(e){return console.log(\".get() is deprecated. Access using array indexes instead.\"),this.readUInt8(e)},f.prototype.set=function(e,t){return console.log(\".set() is deprecated. Access using array indexes instead.\"),this.writeUInt8(e,t)},f.prototype.readUInt8=function(e,t){if(t||(d(null!=e,\"missing offset\"),d(e<this.length,\"Trying to read beyond buffer length\")),!(e>=this.length))return this[e]},f.prototype.readUInt16LE=function(e,t){return o(this,e,!0,t)},f.prototype.readUInt16BE=function(e,t){return o(this,e,!1,t)},f.prototype.readUInt32LE=function(e,t){return u(this,e,!0,t)},f.prototype.readUInt32BE=function(e,t){return u(this,e,!1,t)},f.prototype.readInt8=function(e,t){if(t||(d(null!=e,\"missing offset\"),d(e<this.length,\"Trying to read beyond buffer length\")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){return _(this,e,!0,t)},f.prototype.readInt16BE=function(e,t){return _(this,e,!1,t)},f.prototype.readInt32LE=function(e,t){return E(this,e,!0,t)},f.prototype.readInt32BE=function(e,t){return E(this,e,!1,t)},f.prototype.readFloatLE=function(e,t){return I(this,e,!0,t)},f.prototype.readFloatBE=function(e,t){return I(this,e,!1,t)},f.prototype.readDoubleLE=function(e,t){return A(this,e,!0,t)},f.prototype.readDoubleBE=function(e,t){return A(this,e,!1,t)},f.prototype.writeUInt8=function(e,t,n){n||(d(null!=e,\"missing value\"),d(null!=t,\"missing offset\"),d(t<this.length,\"trying to write beyond buffer length\"),Y(e,255)),t>=this.length||(this[t]=e)},f.prototype.writeUInt16LE=function(e,t,n){s(this,e,t,!0,n)},f.prototype.writeUInt16BE=function(e,t,n){s(this,e,t,!1,n)},f.prototype.writeUInt32LE=function(e,t,n){l(this,e,t,!0,n)},f.prototype.writeUInt32BE=function(e,t,n){l(this,e,t,!1,n)},f.prototype.writeInt8=function(e,t,n){n||(d(null!=e,\"missing value\"),d(null!=t,\"missing offset\"),d(t<this.length,\"Trying to write beyond buffer length\"),F(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},f.prototype.writeInt16LE=function(e,t,n){B(this,e,t,!0,n)},f.prototype.writeInt16BE=function(e,t,n){B(this,e,t,!1,n)},f.prototype.writeInt32LE=function(e,t,n){L(this,e,t,!0,n)},f.prototype.writeInt32BE=function(e,t,n){L(this,e,t,!1,n)},f.prototype.writeFloatLE=function(e,t,n){U(this,e,t,!0,n)},f.prototype.writeFloatBE=function(e,t,n){U(this,e,t,!1,n)},f.prototype.writeDoubleLE=function(e,t,n){x(this,e,t,!0,n)},f.prototype.writeDoubleBE=function(e,t,n){x(this,e,t,!1,n)},f.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,d(\"number\"==typeof(e=\"string\"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),\"value is not a number\"),d(t<=n,\"end < start\"),n!==t&&0!==this.length){d(0<=t&&t<this.length,\"start out of bounds\"),d(0<=n&&n<=this.length,\"end out of bounds\");for(var r=t;r<n;r++)this[r]=e}},f.prototype.inspect=function(){for(var e=[],t=this.length,n=0;n<t;n++)if(e[n]=k(this[n]),n===H.INSPECT_MAX_BYTES){e[n+1]=\"...\";break}return\"<Buffer \"+e.join(\" \")+\">\"},f.prototype.toArrayBuffer=function(){if(\"undefined\"==typeof Uint8Array)throw new Error(\"Buffer.toArrayBuffer not supported in this browser\");if(f._useTypedArrays)return new f(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var t=f.prototype;function S(e,t,n){return\"number\"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function j(e){return(e=~~Math.ceil(+e))<0?0:e}function C(e){return(Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)})(e)}function k(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function T(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var o=n,i=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(o,n+1)).substr(1).split(\"%\")),u=0;u<i.length;u++)t.push(parseInt(i[u],16))}return t}function M(e){return a.toByteArray(e)}function c(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function N(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function Y(e,t){d(\"number\"==typeof e,\"cannot write a non-number as a number\"),d(0<=e,\"specified a negative value for writing an unsigned value\"),d(e<=t,\"value is larger than maximum value for type\"),d(Math.floor(e)===e,\"value has a fractional component\")}function F(e,t,n){d(\"number\"==typeof e,\"cannot write a non-number as a number\"),d(e<=t,\"value larger than maximum allowed value\"),d(n<=e,\"value smaller than minimum allowed value\"),d(Math.floor(e)===e,\"value has a fractional component\")}function D(e,t,n){d(\"number\"==typeof e,\"cannot write a non-number as a number\"),d(e<=t,\"value larger than maximum allowed value\"),d(n<=e,\"value smaller than minimum allowed value\")}function d(e,t){if(!e)throw new Error(t||\"Failed assertion\")}f._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=t.get,e.set=t.set,e.write=t.write,e.toString=t.toString,e.toLocaleString=t.toString,e.toJSON=t.toJSON,e.copy=t.copy,e.slice=t.slice,e.readUInt8=t.readUInt8,e.readUInt16LE=t.readUInt16LE,e.readUInt16BE=t.readUInt16BE,e.readUInt32LE=t.readUInt32LE,e.readUInt32BE=t.readUInt32BE,e.readInt8=t.readInt8,e.readInt16LE=t.readInt16LE,e.readInt16BE=t.readInt16BE,e.readInt32LE=t.readInt32LE,e.readInt32BE=t.readInt32BE,e.readFloatLE=t.readFloatLE,e.readFloatBE=t.readFloatBE,e.readDoubleLE=t.readDoubleLE,e.readDoubleBE=t.readDoubleBE,e.writeUInt8=t.writeUInt8,e.writeUInt16LE=t.writeUInt16LE,e.writeUInt16BE=t.writeUInt16BE,e.writeUInt32LE=t.writeUInt32LE,e.writeUInt32BE=t.writeUInt32BE,e.writeInt8=t.writeInt8,e.writeInt16LE=t.writeInt16LE,e.writeInt16BE=t.writeInt16BE,e.writeInt32LE=t.writeInt32LE,e.writeInt32BE=t.writeInt32BE,e.writeFloatLE=t.writeFloatLE,e.writeFloatBE=t.writeFloatBE,e.writeDoubleLE=t.writeDoubleLE,e.writeDoubleBE=t.writeDoubleBE,e.fill=t.fill,e.inspect=t.inspect,e.toArrayBuffer=t.toArrayBuffer,e}}.call(this,O(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},O(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/buffer/index.js\",\"/node_modules/gulp-browserify/node_modules/buffer\")},{\"base64-js\":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(c,d,e){!function(e,t,a,n,r,o,i,u,s){var a=c(\"buffer\").Buffer,f=4,l=new a(f);l.fill(0);d.exports={hash:function(e,t,n,r){for(var o=t(function(e,t){e.length%f!=0&&(n=e.length+(f-e.length%f),e=a.concat([e,l],n));for(var n,r=[],o=t?e.readInt32BE:e.readInt32LE,i=0;i<e.length;i+=f)r.push(o.call(e,i));return r}(e=a.isBuffer(e)?e:new a(e),r),8*e.length),t=r,i=new a(n),u=t?i.writeInt32BE:i.writeInt32LE,s=0;s<o.length;s++)u.call(i,o[s],4*s,!0);return i}}}.call(this,c(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},c(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{buffer:3,lYpoI2:11}],5:[function(v,e,_){!function(l,c,u,d,h,p,g,y,w){var u=v(\"buffer\").Buffer,e=v(\"./sha\"),t=v(\"./sha256\"),n=v(\"./rng\"),b={sha1:e,sha256:t,md5:v(\"./md5\")},s=64,a=new u(s);function r(e,n){var r=b[e=e||\"sha1\"],o=[];return r||i(\"algorithm:\",e,\"is not yet supported\"),{update:function(e){return u.isBuffer(e)||(e=new u(e)),o.push(e),e.length,this},digest:function(e){var t=u.concat(o),t=n?function(e,t,n){u.isBuffer(t)||(t=new u(t)),u.isBuffer(n)||(n=new u(n)),t.length>s?t=e(t):t.length<s&&(t=u.concat([t,a],s));for(var r=new u(s),o=new u(s),i=0;i<s;i++)r[i]=54^t[i],o[i]=92^t[i];return n=e(u.concat([r,n])),e(u.concat([o,n]))}(r,n,t):r(t);return o=null,e?t.toString(e):t}}}function i(){var e=[].slice.call(arguments).join(\" \");throw new Error([e,\"we accept pull requests\",\"http://github.com/dominictarr/crypto-browserify\"].join(\"\\n\"))}a.fill(0),_.createHash=function(e){return r(e)},_.createHmac=r,_.randomBytes=function(e,t){if(!t||!t.call)return new u(n(e));try{t.call(this,void 0,new u(n(e)))}catch(e){t(e)}};var o,f=[\"createCredentials\",\"createCipher\",\"createCipheriv\",\"createDecipher\",\"createDecipheriv\",\"createSign\",\"createVerify\",\"createDiffieHellman\",\"pbkdf2\"],m=function(e){_[e]=function(){i(\"sorry,\",e,\"is not implemented yet\")}};for(o in f)m(f[o],o)}.call(this,v(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},v(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./md5\":6,\"./rng\":7,\"./sha\":8,\"./sha256\":9,buffer:3,lYpoI2:11}],6:[function(w,b,e){!function(e,r,o,i,u,a,f,l,y){var t=w(\"./helpers\");function n(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,u=0;u<e.length;u+=16){var s=n,a=r,f=o,l=i,n=c(n,r,o,i,e[u+0],7,-680876936),i=c(i,n,r,o,e[u+1],12,-389564586),o=c(o,i,n,r,e[u+2],17,606105819),r=c(r,o,i,n,e[u+3],22,-1044525330);n=c(n,r,o,i,e[u+4],7,-176418897),i=c(i,n,r,o,e[u+5],12,1200080426),o=c(o,i,n,r,e[u+6],17,-1473231341),r=c(r,o,i,n,e[u+7],22,-45705983),n=c(n,r,o,i,e[u+8],7,1770035416),i=c(i,n,r,o,e[u+9],12,-1958414417),o=c(o,i,n,r,e[u+10],17,-42063),r=c(r,o,i,n,e[u+11],22,-1990404162),n=c(n,r,o,i,e[u+12],7,1804603682),i=c(i,n,r,o,e[u+13],12,-40341101),o=c(o,i,n,r,e[u+14],17,-1502002290),n=d(n,r=c(r,o,i,n,e[u+15],22,1236535329),o,i,e[u+1],5,-165796510),i=d(i,n,r,o,e[u+6],9,-1069501632),o=d(o,i,n,r,e[u+11],14,643717713),r=d(r,o,i,n,e[u+0],20,-373897302),n=d(n,r,o,i,e[u+5],5,-701558691),i=d(i,n,r,o,e[u+10],9,38016083),o=d(o,i,n,r,e[u+15],14,-660478335),r=d(r,o,i,n,e[u+4],20,-405537848),n=d(n,r,o,i,e[u+9],5,568446438),i=d(i,n,r,o,e[u+14],9,-1019803690),o=d(o,i,n,r,e[u+3],14,-187363961),r=d(r,o,i,n,e[u+8],20,1163531501),n=d(n,r,o,i,e[u+13],5,-1444681467),i=d(i,n,r,o,e[u+2],9,-51403784),o=d(o,i,n,r,e[u+7],14,1735328473),n=h(n,r=d(r,o,i,n,e[u+12],20,-1926607734),o,i,e[u+5],4,-378558),i=h(i,n,r,o,e[u+8],11,-2022574463),o=h(o,i,n,r,e[u+11],16,1839030562),r=h(r,o,i,n,e[u+14],23,-35309556),n=h(n,r,o,i,e[u+1],4,-1530992060),i=h(i,n,r,o,e[u+4],11,1272893353),o=h(o,i,n,r,e[u+7],16,-155497632),r=h(r,o,i,n,e[u+10],23,-1094730640),n=h(n,r,o,i,e[u+13],4,681279174),i=h(i,n,r,o,e[u+0],11,-358537222),o=h(o,i,n,r,e[u+3],16,-722521979),r=h(r,o,i,n,e[u+6],23,76029189),n=h(n,r,o,i,e[u+9],4,-640364487),i=h(i,n,r,o,e[u+12],11,-421815835),o=h(o,i,n,r,e[u+15],16,530742520),n=p(n,r=h(r,o,i,n,e[u+2],23,-995338651),o,i,e[u+0],6,-198630844),i=p(i,n,r,o,e[u+7],10,1126891415),o=p(o,i,n,r,e[u+14],15,-1416354905),r=p(r,o,i,n,e[u+5],21,-57434055),n=p(n,r,o,i,e[u+12],6,1700485571),i=p(i,n,r,o,e[u+3],10,-1894986606),o=p(o,i,n,r,e[u+10],15,-1051523),r=p(r,o,i,n,e[u+1],21,-2054922799),n=p(n,r,o,i,e[u+8],6,1873313359),i=p(i,n,r,o,e[u+15],10,-30611744),o=p(o,i,n,r,e[u+6],15,-1560198380),r=p(r,o,i,n,e[u+13],21,1309151649),n=p(n,r,o,i,e[u+4],6,-145523070),i=p(i,n,r,o,e[u+11],10,-1120210379),o=p(o,i,n,r,e[u+2],15,718787259),r=p(r,o,i,n,e[u+9],21,-343485551),n=g(n,s),r=g(r,a),o=g(o,f),i=g(i,l)}return Array(n,r,o,i)}function s(e,t,n,r,o,i){return g((t=g(g(t,e),g(r,i)))<<o|t>>>32-o,n)}function c(e,t,n,r,o,i,u){return s(t&n|~t&r,e,t,o,i,u)}function d(e,t,n,r,o,i,u){return s(t&r|n&~r,e,t,o,i,u)}function h(e,t,n,r,o,i,u){return s(t^n^r,e,t,o,i,u)}function p(e,t,n,r,o,i,u){return s(n^(t|~r),e,t,o,i,u)}function g(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}b.exports=function(e){return t.hash(e,n,16)}}.call(this,w(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},w(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./helpers\":4,buffer:3,lYpoI2:11}],7:[function(e,l,t){!function(e,t,n,r,o,i,u,s,f){var a;l.exports=a||function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{buffer:3,lYpoI2:11}],8:[function(c,d,e){!function(e,t,n,r,o,s,a,f,l){var i=c(\"./helpers\");function u(l,c){l[c>>5]|=128<<24-c%32,l[15+(c+64>>9<<4)]=c;for(var e,t,n,r=Array(80),o=1732584193,i=-271733879,u=-1732584194,s=271733878,d=-1009589776,h=0;h<l.length;h+=16){for(var p=o,g=i,y=u,w=s,b=d,a=0;a<80;a++){r[a]=a<16?l[h+a]:v(r[a-3]^r[a-8]^r[a-14]^r[a-16],1);var f=m(m(v(o,5),(f=i,t=u,n=s,(e=a)<20?f&t|~f&n:!(e<40)&&e<60?f&t|f&n|t&n:f^t^n)),m(m(d,r[a]),(e=a)<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514)),d=s,s=u,u=v(i,30),i=o,o=f}o=m(o,p),i=m(i,g),u=m(u,y),s=m(s,w),d=m(d,b)}return Array(o,i,u,s,d)}function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function v(e,t){return e<<t|e>>>32-t}d.exports=function(e){return i.hash(e,u,20,!0)}}.call(this,c(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},c(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./helpers\":4,buffer:3,lYpoI2:11}],9:[function(c,d,e){!function(e,t,n,r,u,s,a,f,l){function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,l){var c,d=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),t=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),n=new Array(64);e[l>>5]|=128<<24-l%32,e[15+(l+64>>9<<4)]=l;for(var r,o,h=0;h<e.length;h+=16){for(var i=t[0],u=t[1],s=t[2],p=t[3],a=t[4],g=t[5],y=t[6],w=t[7],f=0;f<64;f++)n[f]=f<16?e[f+h]:b(b(b((o=n[f-2],m(o,17)^m(o,19)^v(o,10)),n[f-7]),(o=n[f-15],m(o,7)^m(o,18)^v(o,3))),n[f-16]),c=b(b(b(b(w,m(o=a,6)^m(o,11)^m(o,25)),a&g^~a&y),d[f]),n[f]),r=b(m(r=i,2)^m(r,13)^m(r,22),i&u^i&s^u&s),w=y,y=g,g=a,a=b(p,c),p=s,s=u,u=i,i=b(c,r);t[0]=b(i,t[0]),t[1]=b(u,t[1]),t[2]=b(s,t[2]),t[3]=b(p,t[3]),t[4]=b(a,t[4]),t[5]=b(g,t[5]),t[6]=b(y,t[6]),t[7]=b(w,t[7])}return t}var i=c(\"./helpers\"),m=function(e,t){return e>>>t|e<<32-t},v=function(e,t){return e>>>t};d.exports=function(e){return i.hash(e,o,32,!0)}}.call(this,c(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},c(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./helpers\":4,buffer:3,lYpoI2:11}],10:[function(e,t,f){!function(e,t,n,r,o,i,u,s,a){f.read=function(e,t,n,r,o){var i,u,l=8*o-r-1,c=(1<<l)-1,d=c>>1,s=-7,a=n?o-1:0,f=n?-1:1,o=e[t+a];for(a+=f,i=o&(1<<-s)-1,o>>=-s,s+=l;0<s;i=256*i+e[t+a],a+=f,s-=8);for(u=i&(1<<-s)-1,i>>=-s,s+=r;0<s;u=256*u+e[t+a],a+=f,s-=8);if(0===i)i=1-d;else{if(i===c)return u?NaN:1/0*(o?-1:1);u+=Math.pow(2,r),i-=d}return(o?-1:1)*u*Math.pow(2,i-r)},f.write=function(e,t,l,n,r,c){var o,i,u=8*c-r-1,s=(1<<u)-1,a=s>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:c-1,h=n?1:-1,c=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,o=s):(o=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-o))<1&&(o--,n*=2),2<=(t+=1<=o+a?d/n:d*Math.pow(2,1-a))*n&&(o++,n/=2),s<=o+a?(i=0,o=s):1<=o+a?(i=(t*n-1)*Math.pow(2,r),o+=a):(i=t*Math.pow(2,a-1)*Math.pow(2,r),o=0));8<=r;e[l+f]=255&i,f+=h,i/=256,r-=8);for(o=o<<r|i,u+=r;0<u;e[l+f]=255&o,f+=h,o/=256,u-=8);e[l+f-h]|=128*c}}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/ieee754/index.js\",\"/node_modules/gulp-browserify/node_modules/ieee754\")},{buffer:3,lYpoI2:11}],11:[function(e,h,t){!function(e,t,n,r,o,f,l,c,d){var i,u,s;function a(){}(e=h.exports={}).nextTick=(u=\"undefined\"!=typeof window&&window.setImmediate,s=\"undefined\"!=typeof window&&window.postMessage&&window.addEventListener,u?function(e){return window.setImmediate(e)}:s?(i=[],window.addEventListener(\"message\",function(e){var t=e.source;t!==window&&null!==t||\"process-tick\"!==e.data||(e.stopPropagation(),0<i.length&&i.shift()())},!0),function(e){i.push(e),window.postMessage(\"process-tick\",\"*\")}):function(e){setTimeout(e,0)}),e.title=\"browser\",e.browser=!0,e.env={},e.argv=[],e.on=a,e.addListener=a,e.once=a,e.off=a,e.removeListener=a,e.removeAllListeners=a,e.emit=a,e.binding=function(e){throw new Error(\"process.binding is not supported\")},e.cwd=function(){return\"/\"},e.chdir=function(e){throw new Error(\"process.chdir is not supported\")}}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/process/browser.js\",\"/node_modules/gulp-browserify/node_modules/process\")},{buffer:3,lYpoI2:11}]},{},[1])(1)});", "import {\n  styles_module_default\n} from \"./chunk-AOEDIUVK.mjs\";\nimport {\n  defaultAppState,\n  resolveComponentData,\n  toComponent\n} from \"./chunk-MDUBGHWF.mjs\";\nimport {\n  get_class_name_factory_default\n} from \"./chunk-Y2EFNT5P.mjs\";\nimport {\n  generateId,\n  getZoneId,\n  mapFields,\n  walkAppState,\n  walkTree\n} from \"./chunk-PMXRXC2B.mjs\";\nimport {\n  __async,\n  __objRest,\n  __spreadProps,\n  __spreadValues,\n  init_react_import\n} from \"./chunk-M6W7YEVX.mjs\";\n\n// lib/migrate.ts\ninit_react_import();\nvar migrations = [\n  // Migrate root to root.props\n  (data) => {\n    const rootProps = data.root.props || data.root;\n    if (Object.keys(data.root).length > 0 && !data.root.props) {\n      console.warn(\n        \"Migration applied: Root props moved from `root` to `root.props`.\"\n      );\n      return __spreadProps(__spreadValues({}, data), {\n        root: {\n          props: __spreadValues({}, rootProps)\n        }\n      });\n    }\n    return data;\n  },\n  // Migrate zones to slots\n  (data, config, migrationOptions) => {\n    var _a, _b;\n    if (!config) return data;\n    console.log(\"Migrating DropZones to slots...\");\n    const updatedItems = {};\n    const appState = __spreadProps(__spreadValues({}, defaultAppState), { data });\n    const { indexes } = walkAppState(appState, config);\n    const deletedCompounds = [];\n    walkAppState(appState, config, (content, zoneCompound, zoneType) => {\n      var _a2, _b2, _c;\n      if (zoneType === \"dropzone\") {\n        const [id, slotName] = zoneCompound.split(\":\");\n        const nodeData = indexes.nodes[id].data;\n        const componentType = nodeData.type;\n        const configForComponent = id === \"root\" ? config.root : config.components[componentType];\n        if (((_b2 = (_a2 = configForComponent == null ? void 0 : configForComponent.fields) == null ? void 0 : _a2[slotName]) == null ? void 0 : _b2.type) === \"slot\") {\n          updatedItems[id] = __spreadProps(__spreadValues({}, nodeData), {\n            props: __spreadProps(__spreadValues(__spreadValues({}, nodeData.props), (_c = updatedItems[id]) == null ? void 0 : _c.props), {\n              [slotName]: content\n            })\n          });\n          deletedCompounds.push(zoneCompound);\n        }\n        return content;\n      }\n      return content;\n    });\n    const updated = walkAppState(\n      appState,\n      config,\n      (content) => content,\n      (item) => {\n        var _a2;\n        return (_a2 = updatedItems[item.props.id]) != null ? _a2 : item;\n      }\n    );\n    deletedCompounds.forEach((zoneCompound) => {\n      var _a2;\n      const [_, propName] = zoneCompound.split(\":\");\n      console.log(\n        `\\u2713 Success: Migrated \"${zoneCompound}\" from DropZone to slot field \"${propName}\"`\n      );\n      (_a2 = updated.data.zones) == null ? true : delete _a2[zoneCompound];\n    });\n    if (migrationOptions == null ? void 0 : migrationOptions.migrateDynamicZonesForComponent) {\n      const unmigratedZonesGrouped = {};\n      Object.keys((_a = updated.data.zones) != null ? _a : {}).forEach((zoneCompound) => {\n        var _a2;\n        const [componentId, propName] = zoneCompound.split(\":\");\n        const content = (_a2 = updated.data.zones) == null ? void 0 : _a2[zoneCompound];\n        if (!content) {\n          return;\n        }\n        if (!unmigratedZonesGrouped[componentId]) {\n          unmigratedZonesGrouped[componentId] = {};\n        }\n        if (!unmigratedZonesGrouped[componentId][propName]) {\n          unmigratedZonesGrouped[componentId][propName] = content;\n        }\n      });\n      Object.keys(unmigratedZonesGrouped).forEach((componentId) => {\n        updated.data = walkTree(updated.data, config, (content) => {\n          return content.map((child) => {\n            var _a2;\n            if (child.props.id !== componentId) {\n              return child;\n            }\n            const migrateFn = (_a2 = migrationOptions == null ? void 0 : migrationOptions.migrateDynamicZonesForComponent) == null ? void 0 : _a2[child.type];\n            if (!migrateFn) {\n              return child;\n            }\n            const zones = unmigratedZonesGrouped[componentId];\n            const migratedProps = migrateFn(child.props, zones);\n            Object.keys(zones).forEach((propName) => {\n              var _a3;\n              const zoneCompound = `${componentId}:${propName}`;\n              console.log(`\\u2713 Success: Migrated \"${zoneCompound}\" DropZone`);\n              (_a3 = updated.data.zones) == null ? true : delete _a3[zoneCompound];\n            });\n            return __spreadProps(__spreadValues({}, child), {\n              props: migratedProps\n            });\n          });\n        });\n      });\n    }\n    Object.keys((_b = updated.data.zones) != null ? _b : {}).forEach((zoneCompound) => {\n      const [_, propName] = zoneCompound.split(\":\");\n      throw new Error(\n        `Could not migrate DropZone \"${zoneCompound}\" to slot field. No slot exists with the name \"${propName}\".`\n      );\n    });\n    delete updated.data.zones;\n    return updated.data;\n  }\n];\nfunction migrate(data, config, migrationOptions) {\n  return migrations == null ? void 0 : migrations.reduce(\n    (acc, migration) => migration(acc, config, migrationOptions),\n    data\n  );\n}\n\n// lib/transform-props.ts\ninit_react_import();\n\n// lib/data/default-data.ts\ninit_react_import();\nvar defaultData = (data) => __spreadProps(__spreadValues({}, data), {\n  root: data.root || {},\n  content: data.content || []\n});\n\n// lib/transform-props.ts\nfunction transformProps(data, propTransforms, config = { components: {} }) {\n  const mapItem = (item) => {\n    if (propTransforms[item.type]) {\n      return __spreadProps(__spreadValues({}, item), {\n        props: __spreadValues({\n          id: item.props.id\n        }, propTransforms[item.type](item.props))\n      });\n    }\n    return item;\n  };\n  const defaultedData = defaultData(data);\n  const rootProps = defaultedData.root.props || defaultedData.root;\n  let newRoot = __spreadValues({}, defaultedData.root);\n  if (propTransforms[\"root\"]) {\n    newRoot.props = propTransforms[\"root\"](rootProps);\n  }\n  const dataWithUpdatedRoot = __spreadProps(__spreadValues({}, defaultedData), { root: newRoot });\n  const updatedData = walkTree(\n    dataWithUpdatedRoot,\n    config,\n    (content) => content.map(mapItem)\n  );\n  if (!defaultedData.root.props) {\n    updatedData.root = updatedData.root.props;\n  }\n  return updatedData;\n}\n\n// lib/resolve-all-data.ts\ninit_react_import();\n\n// lib/group-zones-by-component.ts\ninit_react_import();\nvar groupZonesByComponent = (data) => {\n  var _a;\n  const zoneEntries = Object.entries((_a = data.zones) != null ? _a : {});\n  return zoneEntries.reduce((acc, [zoneCompound, zoneContent]) => {\n    const [componentId, zoneName] = getZoneId(zoneCompound);\n    if (!componentId.length || !zoneName.length) return acc;\n    if (!acc[componentId]) {\n      acc[componentId] = [];\n    }\n    acc[componentId].push({ zoneCompound, content: zoneContent });\n    return acc;\n  }, {});\n};\n\n// lib/resolve-all-data.ts\nfunction resolveAllData(_0, _1) {\n  return __async(this, arguments, function* (data, config, metadata = {}, onResolveStart, onResolveEnd) {\n    const defaultedData = defaultData(data);\n    const zonesByComponent = groupZonesByComponent(defaultedData);\n    let resolvedZones = {};\n    const resolveNode = (_node, parent) => __async(null, null, function* () {\n      const node = toComponent(_node);\n      onResolveStart == null ? void 0 : onResolveStart(node);\n      const resolved = (yield resolveComponentData(\n        node,\n        config,\n        metadata,\n        () => {\n        },\n        () => {\n        },\n        \"force\",\n        parent\n      )).node;\n      const resolvedAsComponent = toComponent(resolved);\n      const resolvedDeepPromise = mapFields(\n        resolved,\n        {\n          slot: ({ value }) => processContent(value, resolvedAsComponent)\n        },\n        config\n      );\n      let resolveZonePromises = [];\n      if (zonesByComponent[resolvedAsComponent.props.id]) {\n        resolveZonePromises = zonesByComponent[resolvedAsComponent.props.id].map(\n          (_02) => __async(null, [_02], function* ({ zoneCompound, content }) {\n            resolvedZones[zoneCompound] = yield processContent(\n              content,\n              resolvedAsComponent\n            );\n          })\n        );\n      }\n      const resolvedDeep = yield resolvedDeepPromise;\n      yield Promise.all(resolveZonePromises);\n      onResolveEnd == null ? void 0 : onResolveEnd(toComponent(resolvedDeep));\n      return resolvedDeep;\n    });\n    const processContent = (content, parent) => __async(null, null, function* () {\n      return Promise.all(content.map((item) => resolveNode(item, parent)));\n    });\n    const result = defaultData({});\n    result.root = yield resolveNode(defaultedData.root, null);\n    result.content = yield processContent(\n      defaultedData.content,\n      toComponent(result.root)\n    );\n    result.zones = resolvedZones;\n    return result;\n  });\n}\n\n// lib/field-transforms/default-transforms/slot-transform.tsx\ninit_react_import();\nvar getSlotTransform = (renderSlotEdit, renderSlotRender = renderSlotEdit) => ({\n  slot: ({ value: content, propName, field, isReadOnly }) => {\n    const render = isReadOnly ? renderSlotRender : renderSlotEdit;\n    const Slot = (dzProps) => render(__spreadProps(__spreadValues({\n      allow: (field == null ? void 0 : field.type) === \"slot\" ? field.allow : [],\n      disallow: (field == null ? void 0 : field.type) === \"slot\" ? field.disallow : []\n    }, dzProps), {\n      zone: propName,\n      content\n    }));\n    return Slot;\n  }\n});\n\n// lib/use-slots.tsx\ninit_react_import();\n\n// lib/field-transforms/use-field-transforms.tsx\ninit_react_import();\nimport { useMemo } from \"react\";\n\n// lib/field-transforms/build-mappers.ts\ninit_react_import();\nfunction buildMappers(transforms, readOnly, forceReadOnly) {\n  return Object.keys(transforms).reduce((acc, _fieldType) => {\n    const fieldType = _fieldType;\n    return __spreadProps(__spreadValues({}, acc), {\n      [fieldType]: (_a) => {\n        var _b = _a, {\n          parentId\n        } = _b, params = __objRest(_b, [\n          \"parentId\"\n        ]);\n        const wildcardPath = params.propPath.replace(/\\[\\d+\\]/g, \"[*]\");\n        const isReadOnly = (readOnly == null ? void 0 : readOnly[params.propPath]) || (readOnly == null ? void 0 : readOnly[wildcardPath]) || forceReadOnly || false;\n        const fn = transforms[fieldType];\n        return fn == null ? void 0 : fn(__spreadProps(__spreadValues({}, params), {\n          isReadOnly,\n          componentId: parentId\n        }));\n      }\n    });\n  }, {});\n}\n\n// lib/field-transforms/use-field-transforms.tsx\nfunction useFieldTransforms(config, item, transforms, readOnly, forceReadOnly) {\n  const mappers = useMemo(\n    () => buildMappers(transforms, readOnly, forceReadOnly),\n    [transforms, readOnly, forceReadOnly]\n  );\n  const transformedProps = useMemo(() => {\n    return mapFields(item, mappers, config).props;\n  }, [config, item, mappers]);\n  const mergedProps = useMemo(\n    () => __spreadValues(__spreadValues({}, item.props), transformedProps),\n    [item.props, transformedProps]\n  );\n  return mergedProps;\n}\n\n// lib/use-slots.tsx\nfunction useSlots(config, item, renderSlotEdit, renderSlotRender = renderSlotEdit, readOnly, forceReadOnly) {\n  return useFieldTransforms(\n    config,\n    item,\n    getSlotTransform(renderSlotEdit, renderSlotRender),\n    readOnly,\n    forceReadOnly\n  );\n}\n\n// components/RichTextEditor/lib/use-richtext-props.tsx\ninit_react_import();\nimport { lazy, Suspense, useMemo as useMemo2 } from \"react\";\n\n// components/RichTextEditor/components/RenderFallback.tsx\ninit_react_import();\nimport { jsx } from \"react/jsx-runtime\";\nvar getClassName = get_class_name_factory_default(\"RichTextEditor\", styles_module_default);\nfunction RichTextRenderFallback({ content }) {\n  return /* @__PURE__ */ jsx(\"div\", { className: getClassName(), children: /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      className: \"rich-text\",\n      dangerouslySetInnerHTML: { __html: content }\n    }\n  ) });\n}\n\n// components/RichTextEditor/lib/mapDeep.ts\ninit_react_import();\nvar mapDeep = (source, path, render) => {\n  if (!source) {\n    return null;\n  }\n  if (path.length === 0) {\n    return render(source);\n  }\n  const [key, ...rest] = path;\n  if (Array.isArray(source)) {\n    return source.map((item) => mapDeep(item, path, render));\n  }\n  return __spreadProps(__spreadValues({}, source), {\n    [key]: mapDeep(source[key], rest, render)\n  });\n};\n\n// components/RichTextEditor/lib/use-richtext-props.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nfunction useRichtextProps(fields, props) {\n  const findAllRichtextKeys = (fields2, path = []) => {\n    if (!fields2) return [];\n    const result = [];\n    for (const [key, field] of Object.entries(fields2)) {\n      const currentPath = [...path, key];\n      if (field.type === \"richtext\") {\n        result.push({\n          path: currentPath,\n          field\n        });\n      }\n      if (field.type === \"array\" && \"arrayFields\" in field) {\n        result.push(...findAllRichtextKeys(field.arrayFields, currentPath));\n      }\n      if (field.type === \"object\" && \"objectFields\" in field) {\n        result.push(...findAllRichtextKeys(field.objectFields, currentPath));\n      }\n    }\n    return result;\n  };\n  const richtextKeys = useMemo2(() => findAllRichtextKeys(fields), [fields]);\n  const richtextProps = useMemo2(() => {\n    if (!(richtextKeys == null ? void 0 : richtextKeys.length)) return {};\n    const RichTextRender = lazy(\n      () => import(\"./Render-CU35UAWV.mjs\").then((m) => ({\n        default: m.RichTextRender\n      }))\n    );\n    let result = __spreadValues({}, props);\n    for (const { path, field } of richtextKeys) {\n      result = mapDeep(result, path, (content) => /* @__PURE__ */ jsx2(\n        Suspense,\n        {\n          fallback: /* @__PURE__ */ jsx2(RichTextRenderFallback, { content }),\n          children: /* @__PURE__ */ jsx2(RichTextRender, { content, field })\n        },\n        generateId()\n      ));\n    }\n    return result;\n  }, [richtextKeys, props, fields]);\n  return richtextProps;\n}\n\n// components/SlotRender/server.tsx\ninit_react_import();\nimport { forwardRef } from \"react\";\nimport { jsx as jsx3 } from \"react/jsx-runtime\";\nvar SlotRenderPure = (props) => /* @__PURE__ */ jsx3(SlotRender, __spreadValues({}, props));\nvar Item = ({\n  config,\n  item,\n  metadata\n}) => {\n  const Component = config.components[item.type];\n  const props = useSlots(config, item, (slotProps) => /* @__PURE__ */ jsx3(SlotRenderPure, __spreadProps(__spreadValues({}, slotProps), { config, metadata })));\n  const richtextProps = useRichtextProps(Component.fields, props);\n  return /* @__PURE__ */ jsx3(\n    Component.render,\n    __spreadProps(__spreadValues(__spreadValues({}, props), richtextProps), {\n      puck: __spreadProps(__spreadValues({}, props.puck), {\n        metadata: metadata || {}\n      })\n    })\n  );\n};\nvar SlotRender = forwardRef(\n  function SlotRenderInternal({ className, style, content, config, metadata, as }, ref) {\n    const El = as != null ? as : \"div\";\n    return /* @__PURE__ */ jsx3(El, { className, style, ref, children: content.map((item) => {\n      if (!config.components[item.type]) {\n        return null;\n      }\n      return /* @__PURE__ */ jsx3(\n        Item,\n        {\n          config,\n          item,\n          metadata\n        },\n        item.props.id\n      );\n    }) });\n  }\n);\n\nexport {\n  buildMappers,\n  getSlotTransform,\n  useSlots,\n  RichTextRenderFallback,\n  useRichtextProps,\n  SlotRenderPure,\n  SlotRender,\n  migrate,\n  transformProps,\n  resolveAllData\n};\n", "import {\n  EditorInner,\n  LoadedRichTextMenu\n} from \"./chunk-RHVK562Z.mjs\";\nimport {\n  RichTextRenderFallback,\n  SlotRender,\n  SlotRenderPure,\n  buildMappers,\n  getSlotTransform,\n  useRichtextProps,\n  useSlots\n} from \"./chunk-TNORMHZU.mjs\";\nimport {\n  ActionBar,\n  IconButton,\n  LoadedRichTextMenuInner,\n  Loader\n} from \"./chunk-5V242HXR.mjs\";\nimport {\n  ChevronDown,\n  ChevronRight,\n  ChevronUp,\n  CircleCheckBig,\n  Copy,\n  CornerLeftUp,\n  EllipsisVertical,\n  Expand,\n  Globe,\n  Hammer,\n  Hash,\n  Layers,\n  LayoutGrid,\n  Link,\n  List,\n  Lock,\n  LockOpen,\n  Maximize2,\n  Minimize2,\n  Monitor,\n  PanelLeft,\n  PanelRight,\n  Plus,\n  RectangleEllipsis,\n  Redo2,\n  Search,\n  SlidersHorizontal,\n  Smartphone,\n  Tablet,\n  ToyBrick,\n  Trash,\n  Type,\n  Undo2,\n  X,\n  ZoomIn,\n  ZoomOut,\n  appStoreContext,\n  createAppStore,\n  getBox,\n  monitorHotkeys,\n  reorder,\n  replace,\n  useAppStore,\n  useAppStoreApi,\n  useHotkey,\n  useMonitorHotkeys,\n  useRegisterFieldsSlice,\n  useRegisterHistorySlice,\n  useRegisterPermissionsSlice,\n  useResetAutoZoom\n} from \"./chunk-UMTU6EA7.mjs\";\nimport {\n  getItem,\n  insert,\n  insertAction,\n  makeStatePublic,\n  populateIds\n} from \"./chunk-37HTE4KO.mjs\";\nimport {\n  defaultAppState,\n  defaultViewports,\n  toComponent\n} from \"./chunk-MDUBGHWF.mjs\";\nimport {\n  get_class_name_factory_default\n} from \"./chunk-Y2EFNT5P.mjs\";\nimport {\n  defaultSlots,\n  expandNode,\n  generateId,\n  mapFields,\n  rootAreaId,\n  rootDroppableId,\n  rootZone,\n  setupZone,\n  walkAppState,\n  walkField\n} from \"./chunk-PMXRXC2B.mjs\";\nimport {\n  __async,\n  __objRest,\n  __spreadProps,\n  __spreadValues,\n  init_react_import\n} from \"./chunk-M6W7YEVX.mjs\";\n\n// bundle/index.ts\ninit_react_import();\n\n// bundle/core.ts\ninit_react_import();\n\n// types/API/index.ts\ninit_react_import();\n\n// types/API/DropZone.ts\ninit_react_import();\n\n// types/API/Viewports.ts\ninit_react_import();\n\n// types/API/FieldTransforms.ts\ninit_react_import();\n\n// types/index.ts\ninit_react_import();\n\n// types/API/Overrides.ts\ninit_react_import();\nvar overrideKeys = [\n  \"header\",\n  \"headerActions\",\n  \"fields\",\n  \"fieldLabel\",\n  \"drawer\",\n  \"drawerItem\",\n  \"componentOverlay\",\n  \"outline\",\n  \"puck\",\n  \"preview\"\n];\n\n// types/AppState.tsx\ninit_react_import();\n\n// types/Config.tsx\ninit_react_import();\n\n// types/Data.tsx\ninit_react_import();\n\n// types/Fields.ts\ninit_react_import();\n\n// types/Props.tsx\ninit_react_import();\n\n// types/Utils.tsx\ninit_react_import();\n\n// components/AutoField/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/AutoField/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default = { \"InputWrapper\": \"_InputWrapper_bsxfo_1\", \"Input-label\": \"_Input-label_bsxfo_5\", \"Input-labelIcon\": \"_Input-labelIcon_bsxfo_14\", \"Input-disabledIcon\": \"_Input-disabledIcon_bsxfo_21\", \"Input-input\": \"_Input-input_bsxfo_26\", \"Input\": \"_Input_bsxfo_1\", \"Input--readOnly\": \"_Input--readOnly_bsxfo_82\", \"Input-radioGroupItems\": \"_Input-radioGroupItems_bsxfo_93\", \"Input-radio\": \"_Input-radio_bsxfo_93\", \"Input-radioInner\": \"_Input-radioInner_bsxfo_110\", \"Input-radioInput\": \"_Input-radioInput_bsxfo_155\" };\n\n// components/AutoField/index.tsx\nimport {\n  useCallback as useCallback4,\n  useContext as useContext4,\n  useEffect as useEffect7,\n  useMemo as useMemo5\n} from \"react\";\n\n// components/AutoField/fields/index.tsx\ninit_react_import();\n\n// components/AutoField/fields/ArrayField/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/AutoField/fields/ArrayField/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default2 = { \"ArrayField\": \"_ArrayField_1vaho_5\", \"ArrayField--isDraggingFrom\": \"_ArrayField--isDraggingFrom_1vaho_13\", \"ArrayField-addButton\": \"_ArrayField-addButton_1vaho_18\", \"ArrayField--hasItems\": \"_ArrayField--hasItems_1vaho_33\", \"ArrayField-inner\": \"_ArrayField-inner_1vaho_59\", \"ArrayFieldItem\": \"_ArrayFieldItem_1vaho_67\", \"ArrayFieldItem--isDragging\": \"_ArrayFieldItem--isDragging_1vaho_78\", \"ArrayFieldItem--isExpanded\": \"_ArrayFieldItem--isExpanded_1vaho_82\", \"ArrayFieldItem-summary\": \"_ArrayFieldItem-summary_1vaho_97\", \"ArrayFieldItem--noFields\": \"_ArrayFieldItem--noFields_1vaho_122\", \"ArrayField--addDisabled\": \"_ArrayField--addDisabled_1vaho_131\", \"ArrayFieldItem-body\": \"_ArrayFieldItem-body_1vaho_170\", \"ArrayFieldItem-fieldset\": \"_ArrayFieldItem-fieldset_1vaho_179\", \"ArrayFieldItem-rhs\": \"_ArrayFieldItem-rhs_1vaho_187\", \"ArrayFieldItem-actions\": \"_ArrayFieldItem-actions_1vaho_193\" };\n\n// components/AutoField/store.ts\ninit_react_import();\nimport { useContext as useContext2 } from \"react\";\nimport { useShallow as useShallow2 } from \"zustand/react/shallow\";\n\n// lib/use-context-store.tsx\ninit_react_import();\nimport { createContext, useContext, useState } from \"react\";\nimport { createStore, useStore } from \"zustand\";\nimport { subscribeWithSelector } from \"zustand/middleware\";\nimport { useShallow } from \"zustand/react/shallow\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction useContextStore(context, selector) {\n  const store = useContext(context);\n  if (!store) {\n    throw new Error(\"useContextStore must be used inside context\");\n  }\n  return useStore(store, useShallow(selector));\n}\nfunction createStoreProvider(ContextComponent) {\n  const StoreProvider = ({\n    children,\n    value\n  }) => {\n    const [store] = useState(() => createStore(() => value));\n    return /* @__PURE__ */ jsx(ContextComponent.Provider, { value: store, children });\n  };\n  return StoreProvider;\n}\nfunction createContextStore(defaultValue) {\n  const ctx = createContext(\n    createStore(subscribeWithSelector(() => defaultValue))\n  );\n  return {\n    ctx,\n    Provider: createStoreProvider(ctx)\n  };\n}\n\n// components/AutoField/store.ts\nimport { useStore as useStore2 } from \"zustand\";\nvar fieldContextStore = createContextStore({});\nvar useFieldStoreApi = () => useContext2(fieldContextStore.ctx);\nfunction useFieldStore(selector) {\n  const store = useContext2(fieldContextStore.ctx);\n  if (!store) {\n    throw new Error(\"useContextStore must be used inside context\");\n  }\n  return useStore2(store, useShallow2(selector));\n}\n\n// components/AutoField/fields/ArrayField/index.tsx\nimport {\n  memo as memo2,\n  useCallback,\n  useEffect,\n  useMemo as useMemo2,\n  useRef,\n  useState as useState3\n} from \"react\";\n\n// components/DragIcon/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/DragIcon/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default3 = { \"DragIcon\": \"_DragIcon_17p8x_1\", \"DragIcon--disabled\": \"_DragIcon--disabled_17p8x_8\" };\n\n// components/DragIcon/index.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nvar getClassName = get_class_name_factory_default(\"DragIcon\", styles_module_default3);\nvar DragIcon = ({ isDragDisabled }) => /* @__PURE__ */ jsx2(\"div\", { className: getClassName({ disabled: isDragDisabled }), children: /* @__PURE__ */ jsx2(\"svg\", { viewBox: \"0 0 20 20\", width: \"12\", fill: \"currentColor\", children: /* @__PURE__ */ jsx2(\"path\", { d: \"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z\" }) }) });\n\n// components/Sortable/index.tsx\ninit_react_import();\nimport { DragDropProvider } from \"@dnd-kit/react\";\n\n// lib/dnd/use-sensors.ts\ninit_react_import();\nimport { useState as useState2 } from \"react\";\nimport { PointerSensor } from \"@dnd-kit/react\";\nimport { isElement } from \"@dnd-kit/dom/utilities\";\nvar touchDefault = { delay: { value: 200, tolerance: 10 } };\nvar otherDefault = {\n  delay: { value: 200, tolerance: 10 },\n  distance: { value: 5 }\n};\nvar useSensors = ({\n  other = otherDefault,\n  mouse,\n  touch = touchDefault\n} = {\n  touch: touchDefault,\n  other: otherDefault\n}) => {\n  const [sensors] = useState2(() => [\n    PointerSensor.configure({\n      activationConstraints(event, source) {\n        var _a;\n        const { pointerType, target } = event;\n        if (pointerType === \"mouse\" && isElement(target) && (source.handle === target || ((_a = source.handle) == null ? void 0 : _a.contains(target)))) {\n          return mouse;\n        }\n        if (pointerType === \"touch\") {\n          return touch;\n        }\n        return other;\n      }\n    })\n  ]);\n  return sensors;\n};\n\n// lib/dnd/collision/dynamic/index.ts\ninit_react_import();\nimport {\n  CollisionPriority as CollisionPriority7,\n  CollisionType as CollisionType7\n} from \"@dnd-kit/abstract\";\n\n// lib/dnd/collision/directional/index.ts\ninit_react_import();\nimport { CollisionType } from \"@dnd-kit/abstract\";\n\n// lib/dnd/collision/collision-debug.ts\ninit_react_import();\nvar DEBUG = false;\nvar debugElements = {};\nvar timeout;\nvar collisionDebug = (a, b, id, color, label) => {\n  if (!DEBUG) return;\n  const debugId = `${id}-debug`;\n  clearTimeout(timeout);\n  timeout = setTimeout(() => {\n    Object.entries(debugElements).forEach(([id2, { svg }]) => {\n      svg.remove();\n      delete debugElements[id2];\n    });\n  }, 1e3);\n  requestAnimationFrame(() => {\n    var _a, _b;\n    const existingEl = debugElements[debugId];\n    let line = (_a = debugElements[debugId]) == null ? void 0 : _a.line;\n    let text = (_b = debugElements[debugId]) == null ? void 0 : _b.text;\n    if (!existingEl) {\n      const svgNs = \"http://www.w3.org/2000/svg\";\n      const svg = document.createElementNS(svgNs, \"svg\");\n      line = document.createElementNS(svgNs, \"line\");\n      text = document.createElementNS(svgNs, \"text\");\n      svg.setAttribute(\"id\", debugId);\n      svg.setAttribute(\n        \"style\",\n        \"position: fixed; height: 100%; width: 100%; pointer-events: none; top: 0px; left: 0px;\"\n      );\n      svg.appendChild(line);\n      svg.appendChild(text);\n      text.setAttribute(\"fill\", `black`);\n      document.body.appendChild(svg);\n      debugElements[debugId] = { svg, line, text };\n    }\n    line.setAttribute(\"x1\", a.x.toString());\n    line.setAttribute(\"x2\", b.x.toString());\n    line.setAttribute(\"y1\", a.y.toString());\n    line.setAttribute(\"y2\", b.y.toString());\n    line.setAttribute(\"style\", `stroke:${color};stroke-width:2`);\n    text.setAttribute(\"x\", (a.x - (a.x - b.x) / 2).toString());\n    text.setAttribute(\"y\", (a.y - (a.y - b.y) / 2).toString());\n    if (label) {\n      text.innerHTML = label;\n    }\n  });\n};\n\n// lib/dnd/collision/directional/index.ts\nvar distanceChange = \"increasing\";\nvar directionalCollision = (input, previous) => {\n  var _a;\n  const { dragOperation, droppable } = input;\n  const { shape: dropShape } = droppable;\n  const { position } = dragOperation;\n  const dragShape = (_a = dragOperation.shape) == null ? void 0 : _a.current;\n  if (!dragShape || !dropShape) return null;\n  const dropCenter = dropShape.center;\n  const distanceToPrevious = Math.sqrt(\n    Math.pow(dropCenter.x - previous.x, 2) + Math.pow(dropCenter.y - previous.y, 2)\n  );\n  const distanceToCurrent = Math.sqrt(\n    Math.pow(dropCenter.x - position.current.x, 2) + Math.pow(dropCenter.y - position.current.y, 2)\n  );\n  distanceChange = distanceToCurrent === distanceToPrevious ? distanceChange : distanceToCurrent < distanceToPrevious ? \"decreasing\" : \"increasing\";\n  collisionDebug(\n    dragShape.center,\n    dropCenter,\n    droppable.id.toString(),\n    \"rebeccapurple\"\n  );\n  if (distanceChange === \"decreasing\") {\n    return {\n      id: droppable.id,\n      value: 1,\n      type: CollisionType.Collision\n    };\n  }\n  return null;\n};\n\n// lib/dnd/collision/dynamic/get-direction.ts\ninit_react_import();\nvar getDirection = (dragAxis, delta) => {\n  if (dragAxis === \"dynamic\") {\n    if (Math.abs(delta.y) > Math.abs(delta.x)) {\n      return delta.y === 0 ? null : delta.y > 0 ? \"down\" : \"up\";\n    } else {\n      return delta.x === 0 ? null : delta.x > 0 ? \"right\" : \"left\";\n    }\n  } else if (dragAxis === \"x\") {\n    return delta.x === 0 ? null : delta.x > 0 ? \"right\" : \"left\";\n  }\n  return delta.y === 0 ? null : delta.y > 0 ? \"down\" : \"up\";\n};\n\n// lib/dnd/collision/dynamic/get-midpoint-impact.ts\ninit_react_import();\nvar getMidpointImpact = (dragShape, dropShape, direction, offsetMultiplier = 0) => {\n  const dragRect = dragShape.boundingRectangle;\n  const dropCenter = dropShape.center;\n  if (direction === \"down\") {\n    const offset2 = offsetMultiplier * dropShape.boundingRectangle.height;\n    return dragRect.bottom >= dropCenter.y + offset2;\n  } else if (direction === \"up\") {\n    const offset2 = offsetMultiplier * dropShape.boundingRectangle.height;\n    return dragRect.top < dropCenter.y - offset2;\n  } else if (direction === \"left\") {\n    const offset2 = offsetMultiplier * dropShape.boundingRectangle.width;\n    return dropCenter.x - offset2 >= dragRect.left;\n  }\n  const offset = offsetMultiplier * dropShape.boundingRectangle.width;\n  return dragRect.right - offset >= dropCenter.x;\n};\n\n// lib/dnd/collision/dynamic/track-movement-interval.ts\ninit_react_import();\nimport { Point } from \"@dnd-kit/geometry\";\nvar INTERVAL_SENSITIVITY = 10;\nvar intervalCache = {\n  current: { x: 0, y: 0 },\n  delta: { x: 0, y: 0 },\n  previous: { x: 0, y: 0 },\n  direction: null\n};\nvar trackMovementInterval = (point, dragAxis = \"dynamic\") => {\n  intervalCache.current = point;\n  intervalCache.delta = {\n    x: point.x - intervalCache.previous.x,\n    y: point.y - intervalCache.previous.y\n  };\n  intervalCache.direction = getDirection(dragAxis, intervalCache.delta) || intervalCache.direction;\n  if (Math.abs(intervalCache.delta.x) > INTERVAL_SENSITIVITY || Math.abs(intervalCache.delta.y) > INTERVAL_SENSITIVITY) {\n    intervalCache.previous = Point.from(point);\n  }\n  return intervalCache;\n};\n\n// ../../node_modules/@dnd-kit/collision/dist/index.js\ninit_react_import();\nimport { CollisionPriority, CollisionType as CollisionType2 } from \"@dnd-kit/abstract\";\nimport { Point as Point2 } from \"@dnd-kit/geometry\";\nimport { CollisionPriority as CollisionPriority2, CollisionType as CollisionType22 } from \"@dnd-kit/abstract\";\nimport { Point as Point22 } from \"@dnd-kit/geometry\";\nimport { CollisionPriority as CollisionPriority3, CollisionType as CollisionType3 } from \"@dnd-kit/abstract\";\nimport { Point as Point3, Rectangle } from \"@dnd-kit/geometry\";\nimport { CollisionPriority as CollisionPriority4, CollisionType as CollisionType4 } from \"@dnd-kit/abstract\";\nimport { Point as Point4 } from \"@dnd-kit/geometry\";\nimport { CollisionPriority as CollisionPriority5, CollisionType as CollisionType5 } from \"@dnd-kit/abstract\";\nimport { Point as Point5 } from \"@dnd-kit/geometry\";\nimport { CollisionPriority as CollisionPriority6, CollisionType as CollisionType6 } from \"@dnd-kit/abstract\";\nimport { Point as Point6 } from \"@dnd-kit/geometry\";\nvar pointerIntersection = ({\n  dragOperation,\n  droppable\n}) => {\n  const pointerCoordinates = dragOperation.position.current;\n  if (!pointerCoordinates) {\n    return null;\n  }\n  const { id } = droppable;\n  if (!droppable.shape) {\n    return null;\n  }\n  if (droppable.shape.containsPoint(pointerCoordinates)) {\n    const distance = Point2.distance(droppable.shape.center, pointerCoordinates);\n    return {\n      id,\n      value: 1 / distance,\n      type: CollisionType2.PointerIntersection,\n      priority: CollisionPriority.High\n    };\n  }\n  return null;\n};\nvar closestCorners = (input) => {\n  const { dragOperation, droppable } = input;\n  const { shape, position } = dragOperation;\n  if (!droppable.shape) {\n    return null;\n  }\n  const shapeCorners = shape ? Rectangle.from(shape.current.boundingRectangle).corners : void 0;\n  const distance = Rectangle.from(\n    droppable.shape.boundingRectangle\n  ).corners.reduce(\n    (acc, corner, index) => {\n      var _a;\n      return acc + Point3.distance(\n        Point3.from(corner),\n        (_a = shapeCorners == null ? void 0 : shapeCorners[index]) != null ? _a : position.current\n      );\n    },\n    0\n  );\n  const value = distance / 4;\n  return {\n    id: droppable.id,\n    value: 1 / value,\n    type: CollisionType3.Collision,\n    priority: CollisionPriority3.Normal\n  };\n};\n\n// lib/dnd/collision/dynamic/store.ts\ninit_react_import();\nimport { createStore as createStore2 } from \"zustand/vanilla\";\nvar collisionStore = createStore2(() => ({\n  fallbackEnabled: false\n}));\n\n// lib/dnd/collision/dynamic/index.ts\nvar flushNext = \"\";\nvar createDynamicCollisionDetector = (dragAxis, midpointOffset = 0.05) => ((input) => {\n  var _a, _b, _c, _d, _e;\n  const { dragOperation, droppable } = input;\n  const { position } = dragOperation;\n  const dragShape = (_a = dragOperation.shape) == null ? void 0 : _a.current;\n  const { shape: dropShape } = droppable;\n  if (!dragShape || !dropShape) {\n    return null;\n  }\n  const { center: dragCenter } = dragShape;\n  const { fallbackEnabled } = collisionStore.getState();\n  const interval = trackMovementInterval(position.current, dragAxis);\n  const data = {\n    direction: interval.direction\n  };\n  const { center: dropCenter } = dropShape;\n  const overMidpoint = getMidpointImpact(\n    dragShape,\n    dropShape,\n    interval.direction,\n    midpointOffset\n  );\n  if (((_b = dragOperation.source) == null ? void 0 : _b.id) === droppable.id) {\n    const collision = directionalCollision(input, interval.previous);\n    collisionDebug(dragCenter, dropCenter, droppable.id.toString(), \"yellow\");\n    if (collision) {\n      return __spreadProps(__spreadValues({}, collision), {\n        priority: CollisionPriority7.Highest,\n        data\n      });\n    }\n  }\n  const intersectionArea = dragShape.intersectionArea(dropShape);\n  const intersectionRatio = intersectionArea / dropShape.area;\n  if (intersectionArea && overMidpoint) {\n    collisionDebug(\n      dragCenter,\n      dropCenter,\n      droppable.id.toString(),\n      \"green\",\n      interval.direction\n    );\n    const collision = {\n      id: droppable.id,\n      value: intersectionRatio,\n      priority: CollisionPriority7.High,\n      type: CollisionType7.Collision\n    };\n    const shouldFlushId = flushNext === droppable.id;\n    flushNext = \"\";\n    return __spreadProps(__spreadValues({}, collision), { id: shouldFlushId ? \"flush\" : collision.id, data });\n  }\n  if (fallbackEnabled && ((_c = dragOperation.source) == null ? void 0 : _c.id) !== droppable.id) {\n    const xAxisIntersection = dropShape.boundingRectangle.right > dragShape.boundingRectangle.left && dropShape.boundingRectangle.left < dragShape.boundingRectangle.right;\n    const yAxisIntersection = dropShape.boundingRectangle.bottom > dragShape.boundingRectangle.top && dropShape.boundingRectangle.top < dragShape.boundingRectangle.bottom;\n    if (dragAxis === \"y\" && xAxisIntersection || yAxisIntersection) {\n      const fallbackCollision = closestCorners(input);\n      if (fallbackCollision) {\n        const direction = getDirection(dragAxis, {\n          x: dragShape.center.x - (((_d = droppable.shape) == null ? void 0 : _d.center.x) || 0),\n          y: dragShape.center.y - (((_e = droppable.shape) == null ? void 0 : _e.center.y) || 0)\n        });\n        data.direction = direction;\n        if (intersectionArea) {\n          collisionDebug(\n            dragCenter,\n            dropCenter,\n            droppable.id.toString(),\n            \"red\",\n            direction || \"\"\n          );\n          flushNext = droppable.id;\n          return __spreadProps(__spreadValues({}, fallbackCollision), {\n            priority: CollisionPriority7.Low,\n            data\n          });\n        }\n        collisionDebug(\n          dragCenter,\n          dropCenter,\n          droppable.id.toString(),\n          \"orange\",\n          direction || \"\"\n        );\n        return __spreadProps(__spreadValues({}, fallbackCollision), {\n          priority: CollisionPriority7.Lowest,\n          data\n        });\n      }\n    }\n  }\n  collisionDebug(dragCenter, dropCenter, droppable.id.toString(), \"hotpink\");\n  return null;\n});\n\n// components/Sortable/index.tsx\nimport { useSortable } from \"@dnd-kit/react/sortable\";\nimport { jsx as jsx3 } from \"react/jsx-runtime\";\nvar SortableProvider = ({\n  children,\n  onDragStart,\n  onDragEnd,\n  onMove\n}) => {\n  const sensors = useSensors({\n    mouse: { distance: { value: 5 } }\n  });\n  return /* @__PURE__ */ jsx3(\n    DragDropProvider,\n    {\n      sensors,\n      onDragStart: (event) => {\n        var _a, _b;\n        return onDragStart((_b = (_a = event.operation.source) == null ? void 0 : _a.id.toString()) != null ? _b : \"\");\n      },\n      onDragOver: (event, manager) => {\n        var _a;\n        event.preventDefault();\n        const { operation } = event;\n        const { source, target } = operation;\n        if (!source || !target) return;\n        let sourceIndex = source.data.index;\n        let targetIndex = target.data.index;\n        const collisionData = (_a = manager.collisionObserver.collisions[0]) == null ? void 0 : _a.data;\n        if (sourceIndex !== targetIndex && source.id !== target.id) {\n          const collisionPosition = (collisionData == null ? void 0 : collisionData.direction) === \"up\" ? \"before\" : \"after\";\n          if (targetIndex >= sourceIndex) {\n            targetIndex = targetIndex - 1;\n          }\n          if (collisionPosition === \"after\") {\n            targetIndex = targetIndex + 1;\n          }\n          onMove({\n            source: sourceIndex,\n            target: targetIndex\n          });\n        }\n      },\n      onDragEnd: () => {\n        setTimeout(() => {\n          onDragEnd();\n        }, 250);\n      },\n      children\n    }\n  );\n};\nvar Sortable = ({\n  id,\n  index,\n  disabled,\n  children,\n  type = \"item\"\n}) => {\n  const {\n    ref: sortableRef,\n    isDragging,\n    isDropping,\n    handleRef\n  } = useSortable({\n    id,\n    type,\n    index,\n    disabled,\n    data: { index },\n    collisionDetector: createDynamicCollisionDetector(\"y\")\n  });\n  return children({ isDragging, isDropping, ref: sortableRef, handleRef });\n};\n\n// components/AutoField/context.tsx\ninit_react_import();\nimport { createContext as createContext2, useContext as useContext3, useMemo } from \"react\";\nimport { jsx as jsx4 } from \"react/jsx-runtime\";\nvar NestedFieldContext = createContext2({});\nvar useNestedFieldContext = () => {\n  const context = useContext3(NestedFieldContext);\n  return __spreadProps(__spreadValues({}, context), {\n    readOnlyFields: context.readOnlyFields || {}\n  });\n};\nvar NestedFieldProvider = ({\n  children,\n  name,\n  subName,\n  wildcardName = name,\n  readOnlyFields\n}) => {\n  const subPath = `${name}.${subName}`;\n  const wildcardSubPath = `${wildcardName}.${subName}`;\n  const subReadOnlyFields = useMemo(\n    () => Object.keys(readOnlyFields).reduce((acc, readOnlyKey) => {\n      const isLocal = readOnlyKey.indexOf(subPath) > -1 || readOnlyKey.indexOf(wildcardSubPath) > -1;\n      if (isLocal) {\n        const subPathPattern = new RegExp(\n          `^(${name}|${wildcardName}).`.replace(/\\[/g, \"\\\\[\").replace(/\\]/g, \"\\\\]\").replace(/\\./g, \"\\\\.\").replace(/\\*/g, \"\\\\*\")\n        );\n        const localName = readOnlyKey.replace(subPathPattern, \"\");\n        return __spreadProps(__spreadValues({}, acc), {\n          [localName]: readOnlyFields[readOnlyKey]\n        });\n      }\n      return acc;\n    }, {}),\n    [name, subName, wildcardName, readOnlyFields]\n  );\n  return /* @__PURE__ */ jsx4(\n    NestedFieldContext.Provider,\n    {\n      value: { readOnlyFields: subReadOnlyFields, localName: subName },\n      children\n    }\n  );\n};\n\n// lib/data/get-deep.ts\ninit_react_import();\nvar getDeep = (node, path) => {\n  const pathParts = path.split(\".\");\n  return pathParts.reduce((acc, item) => {\n    if (!acc) return;\n    const [prop, indexStr] = item.replace(\"]\", \"\").split(\"[\");\n    const val = acc[prop];\n    if (indexStr && val) {\n      return val[parseInt(indexStr)];\n    }\n    return val;\n  }, node);\n};\n\n// components/AutoField/subfield.tsx\ninit_react_import();\nimport { memo } from \"react\";\nimport { jsx as jsx5 } from \"react/jsx-runtime\";\nvar SubFieldInternal = ({\n  field,\n  id,\n  index,\n  name,\n  subName,\n  localName,\n  onChange,\n  forceReadOnly\n}) => {\n  const indexName = typeof index !== \"undefined\" ? `${name}[${index}]` : name;\n  const subPath = name ? `${indexName}.${subName}` : subName;\n  const localIndexName = typeof index !== \"undefined\" ? `${localName}[${index}]` : localName != null ? localName : subName;\n  const localWildcardName = typeof index !== \"undefined\" ? `${localName}[*]` : localName;\n  const localSubPath = `${localIndexName}.${subName}`;\n  const localWildcardSubPath = `${localWildcardName}.${subName}`;\n  const { readOnlyFields } = useNestedFieldContext();\n  const subReadOnly = forceReadOnly ? forceReadOnly : typeof readOnlyFields[subPath] !== \"undefined\" ? readOnlyFields[localSubPath] : readOnlyFields[localWildcardSubPath];\n  const label = field.label || subName;\n  return /* @__PURE__ */ jsx5(\n    NestedFieldProvider,\n    {\n      name: localIndexName,\n      wildcardName: localWildcardName,\n      subName,\n      readOnlyFields,\n      children: /* @__PURE__ */ jsx5(\n        AutoFieldPrivate,\n        {\n          name: subPath,\n          label,\n          id,\n          readOnly: subReadOnly,\n          field: __spreadProps(__spreadValues({}, field), {\n            label\n            // May be used by custom fields\n          }),\n          onChange: (val, ui) => {\n            onChange(val, ui, subName);\n          }\n        }\n      )\n    }\n  );\n};\nvar SubField = memo(SubFieldInternal);\n\n// components/AutoField/fields/ArrayField/index.tsx\nimport { Fragment, jsx as jsx6, jsxs } from \"react/jsx-runtime\";\nvar getClassName2 = get_class_name_factory_default(\"ArrayField\", styles_module_default2);\nvar getClassNameItem = get_class_name_factory_default(\"ArrayFieldItem\", styles_module_default2);\nvar ItemSummaryInner = ({\n  index,\n  originalIndex,\n  field,\n  name\n}) => {\n  const data = useFieldStore((s) => {\n    const path = `${[name]}[${index}]`;\n    return getDeep(s, path);\n  });\n  const itemSummary = useMemo2(() => {\n    if (data && field.getItemSummary) {\n      return field.getItemSummary(data, index);\n    }\n    return `Item #${originalIndex}`;\n  }, [data, field, originalIndex, index]);\n  return itemSummary;\n};\nvar ItemSummary = memo2(ItemSummaryInner);\nvar ArrayFieldItemInternal = ({\n  id,\n  arrayId,\n  index,\n  dragIndex,\n  originalIndex,\n  field,\n  onChange,\n  onToggleExpand,\n  readOnly,\n  actions,\n  name,\n  localName\n}) => {\n  const isExpanded = useAppStore((s) => {\n    var _a;\n    return ((_a = s.state.ui.arrayState[arrayId]) == null ? void 0 : _a.openId) === id;\n  });\n  const canEdit = useAppStore(\n    (s) => s.permissions.getPermissions({ item: s.selectedItem }).edit\n  );\n  const hasVisibleFields = useMemo2(() => {\n    if (!field.arrayFields) {\n      return false;\n    }\n    return Object.values(field.arrayFields).some(\n      (subField) => subField.type !== \"slot\" && subField.visible !== false\n    );\n  }, [field.arrayFields]);\n  return /* @__PURE__ */ jsx6(Sortable, { id, index: dragIndex, disabled: readOnly, children: ({ isDragging, ref, handleRef }) => /* @__PURE__ */ jsxs(\n    \"div\",\n    {\n      ref,\n      className: getClassNameItem({\n        isExpanded: isExpanded && hasVisibleFields,\n        isDragging,\n        noFields: !hasVisibleFields\n      }),\n      children: [\n        /* @__PURE__ */ jsxs(\n          \"div\",\n          {\n            ref: handleRef,\n            onClick: (e) => {\n              if (isDragging || !hasVisibleFields) return;\n              e.preventDefault();\n              e.stopPropagation();\n              onToggleExpand(id, isExpanded);\n            },\n            className: getClassNameItem(\"summary\"),\n            children: [\n              /* @__PURE__ */ jsx6(\n                ItemSummary,\n                {\n                  index,\n                  originalIndex,\n                  field,\n                  name\n                }\n              ),\n              /* @__PURE__ */ jsxs(\"div\", { className: getClassNameItem(\"rhs\"), children: [\n                !readOnly && /* @__PURE__ */ jsx6(\"div\", { className: getClassNameItem(\"actions\"), children: actions }),\n                /* @__PURE__ */ jsx6(\"div\", { children: /* @__PURE__ */ jsx6(DragIcon, {}) })\n              ] })\n            ]\n          }\n        ),\n        /* @__PURE__ */ jsx6(\"div\", { className: getClassNameItem(\"body\"), children: isExpanded && hasVisibleFields && /* @__PURE__ */ jsx6(\"fieldset\", { className: getClassNameItem(\"fieldset\"), children: Object.keys(field.arrayFields).map((subName) => {\n          const subField = field.arrayFields[subName];\n          return /* @__PURE__ */ jsx6(\n            SubField,\n            {\n              id: `${id}_${subName}`,\n              name,\n              index,\n              subName,\n              localName,\n              field: subField,\n              onChange,\n              forceReadOnly: !canEdit\n            },\n            `${id}_${subName}_${index}`\n          );\n        }) }) })\n      ]\n    }\n  ) });\n};\nvar ArrayFieldItem = memo2(ArrayFieldItemInternal);\nvar ArrayField = ({\n  field,\n  onChange,\n  id,\n  name = id,\n  label,\n  labelIcon,\n  readOnly,\n  Label = (props) => /* @__PURE__ */ jsx6(\"div\", __spreadValues({}, props))\n}) => {\n  const setUi = useAppStore((s) => s.setUi);\n  const appStoreApi = useAppStoreApi();\n  const fieldStore = useFieldStoreApi();\n  const { localName = name } = useNestedFieldContext();\n  const getValue = () => {\n    var _a;\n    return (_a = getDeep(fieldStore.getState(), name)) != null ? _a : [];\n  };\n  const getArrayState = useCallback(() => {\n    var _a;\n    const { state } = appStoreApi.getState();\n    const thisState = state.ui.arrayState[id];\n    if ((_a = thisState == null ? void 0 : thisState.items) == null ? void 0 : _a.length) return thisState;\n    const value = getValue();\n    return {\n      items: Array.from(value || []).map((item, idx) => {\n        return {\n          _originalIndex: idx,\n          _currentIndex: idx,\n          _arrayId: `${id}-${idx}`\n        };\n      }),\n      openId: \"\"\n    };\n  }, [appStoreApi, id, getValue, name]);\n  const numItems = useFieldStore(() => {\n    return getValue().length;\n  });\n  const defaultArrayState = useMemo2(getArrayState, [getArrayState]);\n  const mirror = useAppStore((s) => {\n    const thisArrayState = s.state.ui.arrayState[id];\n    return thisArrayState != null ? thisArrayState : defaultArrayState;\n  });\n  const appStore = useAppStoreApi();\n  const mapArrayStateToUi = useCallback(\n    (partialArrayState) => {\n      const state = appStore.getState().state;\n      return {\n        arrayState: __spreadProps(__spreadValues({}, state.ui.arrayState), {\n          [id]: __spreadValues(__spreadValues({}, getArrayState()), partialArrayState)\n        })\n      };\n    },\n    [appStore]\n  );\n  const getHighestIndex = useCallback(() => {\n    return getArrayState().items.reduce(\n      (acc, item) => item._originalIndex > acc ? item._originalIndex : acc,\n      -1\n    );\n  }, []);\n  const regenerateArrayState = useCallback((value) => {\n    let highestIndex = getHighestIndex();\n    const arrayState = getArrayState();\n    const newItems = Array.from(value || []).map((item, idx) => {\n      var _a, _b, _c;\n      const arrayStateItem = arrayState.items[idx];\n      const newItem = {\n        _originalIndex: (_a = arrayStateItem == null ? void 0 : arrayStateItem._originalIndex) != null ? _a : highestIndex + 1,\n        _currentIndex: (_b = arrayStateItem == null ? void 0 : arrayStateItem._currentIndex) != null ? _b : idx,\n        _arrayId: ((_c = arrayState.items[idx]) == null ? void 0 : _c._arrayId) || `${id}-${highestIndex + 1}`\n      };\n      if (newItem._originalIndex > highestIndex) {\n        highestIndex = newItem._originalIndex;\n      }\n      return newItem;\n    });\n    return __spreadProps(__spreadValues({}, arrayState), { items: newItems });\n  }, []);\n  const [draggedItem, setDraggedItem] = useState3(\"\");\n  const isDraggingAny = !!draggedItem;\n  const valueRef = useRef([]);\n  useEffect(() => {\n    valueRef.current = getValue();\n  }, []);\n  const uniqifyItem = useCallback(\n    (val) => {\n      if (field.type !== \"array\" || !field.arrayFields) return;\n      const config = appStore.getState().config;\n      return walkField({\n        value: val,\n        fields: field.arrayFields,\n        mappers: {\n          slot: ({ value }) => {\n            const content = value;\n            return content.map((item) => populateIds(item, config, true));\n          }\n        },\n        config\n      });\n    },\n    [appStore, field]\n  );\n  const syncCurrentIndexes = useCallback(() => {\n    const arrayState = getArrayState();\n    const newArrayStateItems = arrayState.items.map((item, index) => __spreadProps(__spreadValues({}, item), {\n      _currentIndex: index\n    }));\n    const state = appStore.getState().state;\n    const newUi = {\n      arrayState: __spreadProps(__spreadValues({}, state.ui.arrayState), {\n        [id]: __spreadProps(__spreadValues({}, arrayState), { items: newArrayStateItems })\n      })\n    };\n    setUi(newUi, false);\n  }, []);\n  const updateValue = useCallback(\n    (newValue) => {\n      const newArrayState = regenerateArrayState(newValue);\n      setUi(mapArrayStateToUi(newArrayState), false);\n      onChange(newValue);\n    },\n    [regenerateArrayState, setUi, mapArrayStateToUi, onChange]\n  );\n  useEffect(() => {\n    const newArrayState = regenerateArrayState(getValue());\n    setUi(mapArrayStateToUi(newArrayState), false);\n  }, [numItems]);\n  if (field.type !== \"array\" || !field.arrayFields) {\n    return null;\n  }\n  const addDisabled = field.max !== void 0 && (mirror == null ? void 0 : mirror.items.length) >= field.max || readOnly;\n  return /* @__PURE__ */ jsx6(\n    Label,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ jsx6(List, { size: 16 }),\n      el: \"div\",\n      readOnly,\n      children: /* @__PURE__ */ jsx6(\n        SortableProvider,\n        {\n          onDragStart: (id2) => {\n            valueRef.current = getValue();\n            setDraggedItem(id2);\n            syncCurrentIndexes();\n          },\n          onDragEnd: () => {\n            setDraggedItem(\"\");\n            onChange(valueRef.current);\n            const currentFieldVal = fieldStore.getState();\n            fieldStore.setState(setDeep(currentFieldVal, name, valueRef.current));\n            syncCurrentIndexes();\n          },\n          onMove: (move) => {\n            const arrayState = getArrayState();\n            if (arrayState.items[move.source]._arrayId !== draggedItem) {\n              return;\n            }\n            const newValue = reorder(valueRef.current, move.source, move.target);\n            const newArrayStateItems = reorder(\n              arrayState.items,\n              move.source,\n              move.target\n            );\n            const state = appStore.getState().state;\n            const newUi = {\n              arrayState: __spreadProps(__spreadValues({}, state.ui.arrayState), {\n                [id]: __spreadProps(__spreadValues({}, arrayState), { items: newArrayStateItems })\n              })\n            };\n            setUi(newUi, false);\n            valueRef.current = newValue;\n          },\n          children: /* @__PURE__ */ jsxs(\n            \"div\",\n            {\n              className: getClassName2({\n                hasItems: numItems > 0,\n                addDisabled\n              }),\n              children: [\n                mirror.items.length > 0 && /* @__PURE__ */ jsx6(\"div\", { className: getClassName2(\"inner\"), \"data-dnd-container\": true, children: mirror.items.map((item, index) => {\n                  const {\n                    _arrayId = `${id}-${index}`,\n                    _originalIndex = index,\n                    _currentIndex = index\n                  } = item;\n                  return /* @__PURE__ */ jsx6(\n                    ArrayFieldItem,\n                    {\n                      index: _currentIndex,\n                      dragIndex: index,\n                      originalIndex: _originalIndex,\n                      arrayId: id,\n                      id: _arrayId,\n                      readOnly,\n                      field,\n                      name,\n                      localName,\n                      onChange: (val, ui, subName) => {\n                        const value = getValue();\n                        const data = Array.from(value || [])[index] || {};\n                        onChange(\n                          replace(value, index, __spreadProps(__spreadValues({}, data), {\n                            [subName]: val\n                          })),\n                          ui\n                        );\n                      },\n                      onToggleExpand: (id2, isExpanded) => {\n                        if (isExpanded) {\n                          setUi(\n                            mapArrayStateToUi({\n                              openId: \"\"\n                            })\n                          );\n                        } else {\n                          setUi(\n                            mapArrayStateToUi({\n                              openId: id2\n                            })\n                          );\n                        }\n                      },\n                      actions: /* @__PURE__ */ jsxs(Fragment, { children: [\n                        /* @__PURE__ */ jsx6(\"div\", { className: getClassNameItem(\"action\"), children: /* @__PURE__ */ jsx6(\n                          IconButton,\n                          {\n                            type: \"button\",\n                            disabled: !!addDisabled,\n                            onClick: (e) => {\n                              e.stopPropagation();\n                              const value = getValue();\n                              const existingValue = [...value || []];\n                              const newItem = uniqifyItem(existingValue[index]);\n                              existingValue.splice(index, 0, newItem);\n                              updateValue(existingValue);\n                            },\n                            title: \"Duplicate\",\n                            children: /* @__PURE__ */ jsx6(Copy, { size: 16 })\n                          }\n                        ) }),\n                        /* @__PURE__ */ jsx6(\"div\", { className: getClassNameItem(\"action\"), children: /* @__PURE__ */ jsx6(\n                          IconButton,\n                          {\n                            type: \"button\",\n                            disabled: field.min !== void 0 && field.min >= mirror.items.length,\n                            onClick: (e) => {\n                              e.stopPropagation();\n                              const value = getValue();\n                              const existingValue = [...value || []];\n                              existingValue.splice(index, 1);\n                              updateValue(existingValue);\n                            },\n                            title: \"Delete\",\n                            children: /* @__PURE__ */ jsx6(Trash, { size: 16 })\n                          }\n                        ) })\n                      ] })\n                    },\n                    _arrayId\n                  );\n                }) }),\n                !addDisabled && /* @__PURE__ */ jsx6(\n                  \"button\",\n                  {\n                    type: \"button\",\n                    className: getClassName2(\"addButton\"),\n                    onClick: () => {\n                      var _a;\n                      if (isDraggingAny) return;\n                      const value = getValue();\n                      const existingValue = value || [];\n                      const defaultProps = typeof field.defaultItemProps === \"function\" ? field.defaultItemProps(existingValue.length) : (_a = field.defaultItemProps) != null ? _a : {};\n                      const newItem = defaultSlots(\n                        uniqifyItem(defaultProps),\n                        field.arrayFields\n                      );\n                      const newValue = [...existingValue, newItem];\n                      updateValue(newValue);\n                    },\n                    children: /* @__PURE__ */ jsx6(Plus, { size: 21 })\n                  }\n                )\n              ]\n            }\n          )\n        }\n      )\n    }\n  );\n};\n\n// components/AutoField/fields/DefaultField/index.tsx\ninit_react_import();\n\n// components/AutoField/lib/use-local-value.ts\ninit_react_import();\nimport { useCallback as useCallback2, useEffect as useEffect2, useState as useState4 } from \"react\";\n\n// components/AutoField/lib/use-deep-field.ts\ninit_react_import();\nvar useDeepField = (path) => {\n  return useFieldStore((s) => getDeep(s, path));\n};\n\n// components/AutoField/lib/use-is-focused.ts\ninit_react_import();\nvar useIsFocused = (path) => {\n  return useAppStore((s) => s.state.ui.field.focus === path);\n};\n\n// components/AutoField/lib/use-local-value.ts\nvar useLocalValue = (path, onChange) => {\n  const value = useDeepField(path);\n  const isFocused = useIsFocused(path);\n  const [localValue, setLocalValue] = useState4(value == null ? void 0 : value.toString());\n  const onChangeLocal = useCallback2((val) => {\n    setLocalValue(val);\n    onChange(val);\n  }, []);\n  useEffect2(() => {\n    if (!isFocused) {\n      setLocalValue(value);\n    }\n  }, [isFocused, value]);\n  return [localValue != null ? localValue : \"\", onChangeLocal];\n};\n\n// components/AutoField/fields/DefaultField/index.tsx\nimport { Fragment as Fragment2, jsx as jsx7, jsxs as jsxs2 } from \"react/jsx-runtime\";\nvar getClassName3 = get_class_name_factory_default(\"Input\", styles_module_default);\nvar DefaultField = ({\n  field,\n  onChange,\n  readOnly,\n  id,\n  name = id,\n  label,\n  labelIcon,\n  Label\n}) => {\n  const [localValue, onChangeLocal] = useLocalValue(name, onChange);\n  return /* @__PURE__ */ jsx7(\n    Label,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ jsxs2(Fragment2, { children: [\n        field.type === \"text\" && /* @__PURE__ */ jsx7(Type, { size: 16 }),\n        field.type === \"number\" && /* @__PURE__ */ jsx7(Hash, { size: 16 })\n      ] }),\n      readOnly,\n      children: /* @__PURE__ */ jsx7(\n        \"input\",\n        {\n          className: getClassName3(\"input\"),\n          autoComplete: \"off\",\n          type: field.type,\n          title: label || name,\n          name,\n          value: localValue,\n          onChange: (e) => {\n            if (field.type === \"number\") {\n              const numberValue = Number(e.currentTarget.value);\n              if (typeof field.min !== \"undefined\" && numberValue < field.min) {\n                return;\n              }\n              if (typeof field.max !== \"undefined\" && numberValue > field.max) {\n                return;\n              }\n              onChangeLocal(numberValue);\n            } else {\n              onChangeLocal(e.currentTarget.value);\n            }\n          },\n          readOnly,\n          tabIndex: readOnly ? -1 : void 0,\n          id,\n          min: field.type === \"number\" ? field.min : void 0,\n          max: field.type === \"number\" ? field.max : void 0,\n          placeholder: field.type === \"text\" || field.type === \"number\" ? field.placeholder : void 0,\n          step: field.type === \"number\" ? field.step : void 0\n        }\n      )\n    }\n  );\n};\n\n// components/AutoField/fields/ExternalField/index.tsx\ninit_react_import();\nimport { useEffect as useEffect6 } from \"react\";\n\n// components/ExternalInput/index.tsx\ninit_react_import();\nimport {\n  useMemo as useMemo3,\n  useEffect as useEffect5,\n  useState as useState7,\n  useCallback as useCallback3,\n  isValidElement\n} from \"react\";\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/ExternalInput/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default4 = { \"ExternalInput-actions\": \"_ExternalInput-actions_91ls0_1\", \"ExternalInput-button\": \"_ExternalInput-button_91ls0_5\", \"ExternalInput--dataSelected\": \"_ExternalInput--dataSelected_91ls0_24\", \"ExternalInput--readOnly\": \"_ExternalInput--readOnly_91ls0_31\", \"ExternalInput-detachButton\": \"_ExternalInput-detachButton_91ls0_35\", \"ExternalInput\": \"_ExternalInput_91ls0_1\", \"ExternalInputModal\": \"_ExternalInputModal_91ls0_79\", \"ExternalInputModal-grid\": \"_ExternalInputModal-grid_91ls0_89\", \"ExternalInputModal--filtersToggled\": \"_ExternalInputModal--filtersToggled_91ls0_100\", \"ExternalInputModal-filters\": \"_ExternalInputModal-filters_91ls0_105\", \"ExternalInputModal-masthead\": \"_ExternalInputModal-masthead_91ls0_124\", \"ExternalInputModal-tableWrapper\": \"_ExternalInputModal-tableWrapper_91ls0_133\", \"ExternalInputModal-table\": \"_ExternalInputModal-table_91ls0_133\", \"ExternalInputModal-thead\": \"_ExternalInputModal-thead_91ls0_149\", \"ExternalInputModal-th\": \"_ExternalInputModal-th_91ls0_149\", \"ExternalInputModal-td\": \"_ExternalInputModal-td_91ls0_164\", \"ExternalInputModal-tr\": \"_ExternalInputModal-tr_91ls0_169\", \"ExternalInputModal-tbody\": \"_ExternalInputModal-tbody_91ls0_176\", \"ExternalInputModal--hasData\": \"_ExternalInputModal--hasData_91ls0_202\", \"ExternalInputModal-loadingBanner\": \"_ExternalInputModal-loadingBanner_91ls0_206\", \"ExternalInputModal--isLoading\": \"_ExternalInputModal--isLoading_91ls0_223\", \"ExternalInputModal-searchForm\": \"_ExternalInputModal-searchForm_91ls0_227\", \"ExternalInputModal-search\": \"_ExternalInputModal-search_91ls0_227\", \"ExternalInputModal-searchIcon\": \"_ExternalInputModal-searchIcon_91ls0_264\", \"ExternalInputModal-searchIconText\": \"_ExternalInputModal-searchIconText_91ls0_289\", \"ExternalInputModal-searchInput\": \"_ExternalInputModal-searchInput_91ls0_299\", \"ExternalInputModal-searchActions\": \"_ExternalInputModal-searchActions_91ls0_313\", \"ExternalInputModal-searchActionIcon\": \"_ExternalInputModal-searchActionIcon_91ls0_326\", \"ExternalInputModal-footerContainer\": \"_ExternalInputModal-footerContainer_91ls0_330\", \"ExternalInputModal-footer\": \"_ExternalInputModal-footer_91ls0_330\", \"ExternalInputModal-field\": \"_ExternalInputModal-field_91ls0_343\" };\n\n// components/Modal/index.tsx\ninit_react_import();\nimport { useEffect as useEffect3, useState as useState5 } from \"react\";\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Modal/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default5 = { \"Modal\": \"_Modal_ikbaj_1\", \"Modal--isOpen\": \"_Modal--isOpen_ikbaj_15\", \"Modal-inner\": \"_Modal-inner_ikbaj_19\" };\n\n// components/Modal/index.tsx\nimport { createPortal } from \"react-dom\";\nimport { jsx as jsx8 } from \"react/jsx-runtime\";\nvar getClassName4 = get_class_name_factory_default(\"Modal\", styles_module_default5);\nvar Modal = ({\n  children,\n  onClose,\n  isOpen\n}) => {\n  const [rootEl, setRootEl] = useState5(null);\n  useEffect3(() => {\n    setRootEl(document.getElementById(\"puck-portal-root\"));\n  }, []);\n  if (!rootEl) {\n    return /* @__PURE__ */ jsx8(\"div\", {});\n  }\n  return createPortal(\n    /* @__PURE__ */ jsx8(\"div\", { className: getClassName4({ isOpen }), onClick: onClose, children: /* @__PURE__ */ jsx8(\n      \"div\",\n      {\n        className: getClassName4(\"inner\"),\n        onClick: (e) => e.stopPropagation(),\n        children\n      }\n    ) }),\n    rootEl\n  );\n};\n\n// components/Heading/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Heading/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default6 = { \"Heading\": \"_Heading_qxrry_1\", \"Heading--xxxxl\": \"_Heading--xxxxl_qxrry_12\", \"Heading--xxxl\": \"_Heading--xxxl_qxrry_18\", \"Heading--xxl\": \"_Heading--xxl_qxrry_22\", \"Heading--xl\": \"_Heading--xl_qxrry_26\", \"Heading--l\": \"_Heading--l_qxrry_30\", \"Heading--m\": \"_Heading--m_qxrry_34\", \"Heading--s\": \"_Heading--s_qxrry_38\", \"Heading--xs\": \"_Heading--xs_qxrry_42\" };\n\n// components/Heading/index.tsx\nimport { jsx as jsx9 } from \"react/jsx-runtime\";\nvar getClassName5 = get_class_name_factory_default(\"Heading\", styles_module_default6);\nvar Heading = ({ children, rank, size = \"m\" }) => {\n  const Tag = rank ? `h${rank}` : \"span\";\n  return /* @__PURE__ */ jsx9(\n    Tag,\n    {\n      className: getClassName5({\n        [size]: true\n      }),\n      children\n    }\n  );\n};\n\n// components/Button/index.ts\ninit_react_import();\n\n// components/Button/Button.tsx\ninit_react_import();\nimport { useEffect as useEffect4, useState as useState6 } from \"react\";\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Button/Button.module.css#css-module\ninit_react_import();\nvar Button_module_default = { \"Button\": \"_Button_10byl_1\", \"Button--medium\": \"_Button--medium_10byl_29\", \"Button--large\": \"_Button--large_10byl_37\", \"Button-icon\": \"_Button-icon_10byl_44\", \"Button--primary\": \"_Button--primary_10byl_48\", \"Button--secondary\": \"_Button--secondary_10byl_67\", \"Button--flush\": \"_Button--flush_10byl_84\", \"Button--disabled\": \"_Button--disabled_10byl_88\", \"Button--fullWidth\": \"_Button--fullWidth_10byl_95\", \"Button-spinner\": \"_Button-spinner_10byl_100\" };\n\n// lib/filter-data-attrs.ts\ninit_react_import();\nvar dataAttrRe = /^(data-.*)$/;\nvar filterDataAttrs = (props) => {\n  let filteredProps = {};\n  for (const prop in props) {\n    if (Object.prototype.hasOwnProperty.call(props, prop) && dataAttrRe.test(prop)) {\n      filteredProps[prop] = props[prop];\n    }\n  }\n  return filteredProps;\n};\n\n// components/Button/Button.tsx\nimport { jsx as jsx10, jsxs as jsxs3 } from \"react/jsx-runtime\";\nvar getClassName6 = get_class_name_factory_default(\"Button\", Button_module_default);\nvar Button = (_a) => {\n  var _b = _a, {\n    children,\n    href,\n    onClick,\n    variant = \"primary\",\n    type,\n    disabled,\n    tabIndex,\n    newTab,\n    fullWidth,\n    icon,\n    size = \"medium\",\n    loading: loadingProp = false\n  } = _b, props = __objRest(_b, [\n    \"children\",\n    \"href\",\n    \"onClick\",\n    \"variant\",\n    \"type\",\n    \"disabled\",\n    \"tabIndex\",\n    \"newTab\",\n    \"fullWidth\",\n    \"icon\",\n    \"size\",\n    \"loading\"\n  ]);\n  const [loading, setLoading] = useState6(loadingProp);\n  useEffect4(() => setLoading(loadingProp), [loadingProp]);\n  const ElementType = href ? \"a\" : type ? \"button\" : \"span\";\n  const dataAttrs = filterDataAttrs(props);\n  const el = /* @__PURE__ */ jsxs3(\n    ElementType,\n    __spreadProps(__spreadValues({\n      className: getClassName6({\n        primary: variant === \"primary\",\n        secondary: variant === \"secondary\",\n        disabled,\n        fullWidth,\n        [size]: true\n      }),\n      onClick: (e) => {\n        if (!onClick) return;\n        setLoading(true);\n        Promise.resolve(onClick(e)).then(() => {\n          setLoading(false);\n        });\n      },\n      type,\n      disabled: disabled || loading,\n      tabIndex,\n      target: newTab ? \"_blank\" : void 0,\n      rel: newTab ? \"noreferrer\" : void 0,\n      href\n    }, dataAttrs), {\n      children: [\n        icon && /* @__PURE__ */ jsx10(\"div\", { className: getClassName6(\"icon\"), children: icon }),\n        children,\n        loading && /* @__PURE__ */ jsx10(\"div\", { className: getClassName6(\"spinner\"), children: /* @__PURE__ */ jsx10(Loader, { size: 14 }) })\n      ]\n    })\n  );\n  return el;\n};\n\n// components/ExternalInput/index.tsx\nimport { Fragment as Fragment3, jsx as jsx11, jsxs as jsxs4 } from \"react/jsx-runtime\";\nvar getClassName7 = get_class_name_factory_default(\"ExternalInput\", styles_module_default4);\nvar getClassNameModal = get_class_name_factory_default(\"ExternalInputModal\", styles_module_default4);\nvar dataCache = {};\nvar ExternalInput = ({\n  field,\n  onChange,\n  value = null,\n  name,\n  id,\n  readOnly\n}) => {\n  var _a;\n  const {\n    mapProp = (val) => val,\n    mapRow = (val) => val,\n    filterFields\n  } = field || {};\n  const { enabled: shouldCacheData } = (_a = field.cache) != null ? _a : { enabled: true };\n  const [data, setData] = useState7([]);\n  const [isOpen, setOpen] = useState7(false);\n  const [isLoading, setIsLoading] = useState7(true);\n  const hasFilterFields = !!filterFields;\n  const [filters, setFilters] = useState7(field.initialFilters || {});\n  const [filtersToggled, setFiltersToggled] = useState7(hasFilterFields);\n  const mappedData = useMemo3(() => {\n    return data.map(mapRow);\n  }, [data]);\n  const keys = useMemo3(() => {\n    const validKeys = /* @__PURE__ */ new Set();\n    for (const item of mappedData) {\n      for (const key of Object.keys(item)) {\n        if (typeof item[key] === \"string\" || typeof item[key] === \"number\" || isValidElement(item[key])) {\n          validKeys.add(key);\n        }\n      }\n    }\n    return Array.from(validKeys);\n  }, [mappedData]);\n  const [searchQuery, setSearchQuery] = useState7(field.initialQuery || \"\");\n  const search = useCallback3(\n    (query, filters2) => __async(null, null, function* () {\n      setIsLoading(true);\n      const cacheKey = `${id}-${query}-${JSON.stringify(filters2)}`;\n      let listData;\n      if (shouldCacheData && dataCache[cacheKey]) {\n        listData = dataCache[cacheKey];\n      } else {\n        listData = yield field.fetchList({ query, filters: filters2 });\n      }\n      if (listData) {\n        setData(listData);\n        setIsLoading(false);\n        if (shouldCacheData) {\n          dataCache[cacheKey] = listData;\n        }\n      }\n    }),\n    [id, field]\n  );\n  const Footer = useCallback3(\n    (props) => field.renderFooter ? field.renderFooter(props) : /* @__PURE__ */ jsxs4(\"span\", { className: getClassNameModal(\"footer\"), children: [\n      props.items.length,\n      \" result\",\n      props.items.length === 1 ? \"\" : \"s\"\n    ] }),\n    [field.renderFooter]\n  );\n  useEffect5(() => {\n    search(searchQuery, filters);\n  }, []);\n  return /* @__PURE__ */ jsxs4(\n    \"div\",\n    {\n      className: getClassName7({\n        dataSelected: !!value,\n        modalVisible: isOpen,\n        readOnly\n      }),\n      id,\n      children: [\n        /* @__PURE__ */ jsxs4(\"div\", { className: getClassName7(\"actions\"), children: [\n          /* @__PURE__ */ jsx11(\n            \"button\",\n            {\n              type: \"button\",\n              onClick: () => setOpen(true),\n              className: getClassName7(\"button\"),\n              disabled: readOnly,\n              children: value ? field.getItemSummary ? field.getItemSummary(value) : \"External item\" : /* @__PURE__ */ jsxs4(Fragment3, { children: [\n                /* @__PURE__ */ jsx11(Link, { size: \"16\" }),\n                /* @__PURE__ */ jsx11(\"span\", { children: field.placeholder })\n              ] })\n            }\n          ),\n          value && /* @__PURE__ */ jsx11(\n            \"button\",\n            {\n              type: \"button\",\n              className: getClassName7(\"detachButton\"),\n              onClick: () => {\n                onChange(null);\n              },\n              disabled: readOnly,\n              children: /* @__PURE__ */ jsx11(LockOpen, { size: 16 })\n            }\n          )\n        ] }),\n        /* @__PURE__ */ jsx11(Modal, { onClose: () => setOpen(false), isOpen, children: /* @__PURE__ */ jsxs4(\n          \"form\",\n          {\n            className: getClassNameModal({\n              isLoading,\n              loaded: !isLoading,\n              hasData: mappedData.length > 0,\n              filtersToggled\n            }),\n            onSubmit: (e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              search(searchQuery, filters);\n            },\n            children: [\n              /* @__PURE__ */ jsx11(\"div\", { className: getClassNameModal(\"masthead\"), children: field.showSearch ? /* @__PURE__ */ jsxs4(\"div\", { className: getClassNameModal(\"searchForm\"), children: [\n                /* @__PURE__ */ jsxs4(\"label\", { className: getClassNameModal(\"search\"), children: [\n                  /* @__PURE__ */ jsx11(\"span\", { className: getClassNameModal(\"searchIconText\"), children: \"Search\" }),\n                  /* @__PURE__ */ jsx11(\"div\", { className: getClassNameModal(\"searchIcon\"), children: /* @__PURE__ */ jsx11(Search, { size: \"18\" }) }),\n                  /* @__PURE__ */ jsx11(\n                    \"input\",\n                    {\n                      className: getClassNameModal(\"searchInput\"),\n                      name: \"q\",\n                      type: \"search\",\n                      placeholder: field.placeholder,\n                      onChange: (e) => {\n                        setSearchQuery(e.currentTarget.value);\n                      },\n                      autoComplete: \"off\",\n                      value: searchQuery\n                    }\n                  )\n                ] }),\n                /* @__PURE__ */ jsxs4(\"div\", { className: getClassNameModal(\"searchActions\"), children: [\n                  /* @__PURE__ */ jsx11(Button, { type: \"submit\", loading: isLoading, fullWidth: true, children: \"Search\" }),\n                  hasFilterFields && /* @__PURE__ */ jsx11(\"div\", { className: getClassNameModal(\"searchActionIcon\"), children: /* @__PURE__ */ jsx11(\n                    IconButton,\n                    {\n                      type: \"button\",\n                      title: \"Toggle filters\",\n                      onClick: (e) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        setFiltersToggled(!filtersToggled);\n                      },\n                      children: /* @__PURE__ */ jsx11(SlidersHorizontal, { size: 20 })\n                    }\n                  ) })\n                ] })\n              ] }) : /* @__PURE__ */ jsx11(Heading, { rank: \"2\", size: \"xs\", children: field.placeholder || \"Select data\" }) }),\n              /* @__PURE__ */ jsxs4(\"div\", { className: getClassNameModal(\"grid\"), children: [\n                hasFilterFields && /* @__PURE__ */ jsx11(\"div\", { className: getClassNameModal(\"filters\"), children: hasFilterFields && Object.keys(filterFields).map((fieldName) => {\n                  const filterField = filterFields[fieldName];\n                  return /* @__PURE__ */ jsx11(\n                    \"div\",\n                    {\n                      className: getClassNameModal(\"field\"),\n                      children: /* @__PURE__ */ jsx11(FieldLabel, { label: filterField.label || fieldName, children: /* @__PURE__ */ jsx11(\n                        AutoField,\n                        {\n                          field: filterField,\n                          id: `external_field_${fieldName}_filter`,\n                          value: filters[fieldName],\n                          onChange: (value2) => {\n                            setFilters((filters2) => {\n                              const newFilters = __spreadProps(__spreadValues({}, filters2), {\n                                [fieldName]: value2\n                              });\n                              search(searchQuery, newFilters);\n                              return newFilters;\n                            });\n                          }\n                        }\n                      ) })\n                    },\n                    fieldName\n                  );\n                }) }),\n                /* @__PURE__ */ jsxs4(\"div\", { className: getClassNameModal(\"tableWrapper\"), children: [\n                  /* @__PURE__ */ jsxs4(\"table\", { className: getClassNameModal(\"table\"), children: [\n                    /* @__PURE__ */ jsx11(\"thead\", { className: getClassNameModal(\"thead\"), children: /* @__PURE__ */ jsx11(\"tr\", { className: getClassNameModal(\"tr\"), children: keys.map((key) => /* @__PURE__ */ jsx11(\n                      \"th\",\n                      {\n                        className: getClassNameModal(\"th\"),\n                        style: { textAlign: \"left\" },\n                        children: key\n                      },\n                      key\n                    )) }) }),\n                    /* @__PURE__ */ jsx11(\"tbody\", { className: getClassNameModal(\"tbody\"), children: mappedData.map((item, i) => {\n                      return /* @__PURE__ */ jsx11(\n                        \"tr\",\n                        {\n                          style: { whiteSpace: \"nowrap\" },\n                          className: getClassNameModal(\"tr\"),\n                          onClick: () => {\n                            onChange(mapProp(data[i]));\n                            setOpen(false);\n                          },\n                          children: keys.map((key) => /* @__PURE__ */ jsx11(\"td\", { className: getClassNameModal(\"td\"), children: item[key] }, key))\n                        },\n                        i\n                      );\n                    }) })\n                  ] }),\n                  /* @__PURE__ */ jsx11(\"div\", { className: getClassNameModal(\"loadingBanner\"), children: /* @__PURE__ */ jsx11(Loader, { size: 24 }) })\n                ] })\n              ] }),\n              /* @__PURE__ */ jsx11(\"div\", { className: getClassNameModal(\"footerContainer\"), children: /* @__PURE__ */ jsx11(Footer, { items: mappedData }) })\n            ]\n          }\n        ) })\n      ]\n    }\n  );\n};\n\n// components/AutoField/fields/ExternalField/index.tsx\nimport { jsx as jsx12 } from \"react/jsx-runtime\";\nvar ExternalField = ({\n  field,\n  onChange,\n  id,\n  name = id,\n  label,\n  labelIcon,\n  Label,\n  readOnly\n}) => {\n  var _a, _b, _c;\n  const value = useDeepField(name);\n  const validField = field;\n  const deprecatedField = field;\n  useEffect6(() => {\n    if (deprecatedField.adaptor) {\n      console.error(\n        \"Warning: The `adaptor` API is deprecated. Please use updated APIs on the `external` field instead. This will be a breaking change in a future release.\"\n      );\n    }\n  }, []);\n  if (field.type !== \"external\") {\n    return null;\n  }\n  return /* @__PURE__ */ jsx12(\n    Label,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ jsx12(Link, { size: 16 }),\n      el: \"div\",\n      children: /* @__PURE__ */ jsx12(\n        ExternalInput,\n        {\n          name,\n          field: __spreadProps(__spreadValues({}, validField), {\n            // DEPRECATED\n            placeholder: ((_a = deprecatedField.adaptor) == null ? void 0 : _a.name) ? `Select from ${deprecatedField.adaptor.name}` : validField.placeholder || \"Select data\",\n            mapProp: ((_b = deprecatedField.adaptor) == null ? void 0 : _b.mapProp) || validField.mapProp,\n            mapRow: validField.mapRow,\n            fetchList: ((_c = deprecatedField.adaptor) == null ? void 0 : _c.fetchList) ? () => __async(null, null, function* () {\n              return yield deprecatedField.adaptor.fetchList(\n                deprecatedField.adaptorParams\n              );\n            }) : validField.fetchList\n          }),\n          onChange,\n          value,\n          id,\n          readOnly\n        }\n      )\n    }\n  );\n};\n\n// components/AutoField/fields/RadioField/index.tsx\ninit_react_import();\nimport { jsx as jsx13, jsxs as jsxs5 } from \"react/jsx-runtime\";\nvar getClassName8 = get_class_name_factory_default(\"Input\", styles_module_default);\nvar RadioField = ({\n  field,\n  onChange,\n  readOnly,\n  id,\n  name = id,\n  label,\n  labelIcon,\n  Label\n}) => {\n  const value = useDeepField(name);\n  if (field.type !== \"radio\" || !field.options) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx13(\n    Label,\n    {\n      icon: labelIcon || /* @__PURE__ */ jsx13(CircleCheckBig, { size: 16 }),\n      label: label || name,\n      readOnly,\n      el: \"div\",\n      children: /* @__PURE__ */ jsx13(\"div\", { className: getClassName8(\"radioGroupItems\"), id, children: field.options.map((option) => {\n        var _a;\n        return /* @__PURE__ */ jsxs5(\n          \"label\",\n          {\n            className: getClassName8(\"radio\"),\n            children: [\n              /* @__PURE__ */ jsx13(\n                \"input\",\n                {\n                  type: \"radio\",\n                  className: getClassName8(\"radioInput\"),\n                  value: JSON.stringify({ value: option.value }),\n                  name,\n                  onChange: (e) => {\n                    onChange(JSON.parse(e.target.value).value);\n                  },\n                  disabled: readOnly,\n                  checked: value === option.value\n                }\n              ),\n              /* @__PURE__ */ jsx13(\"div\", { className: getClassName8(\"radioInner\"), children: option.label || ((_a = option.value) == null ? void 0 : _a.toString()) })\n            ]\n          },\n          option.label + option.value\n        );\n      }) })\n    }\n  );\n};\n\n// components/AutoField/fields/SelectField/index.tsx\ninit_react_import();\nimport { jsx as jsx14 } from \"react/jsx-runtime\";\nvar getClassName9 = get_class_name_factory_default(\"Input\", styles_module_default);\nvar SelectField = ({\n  field,\n  onChange,\n  label,\n  labelIcon,\n  Label,\n  id,\n  name = id,\n  readOnly\n}) => {\n  const value = useDeepField(name);\n  if (field.type !== \"select\" || !field.options) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx14(\n    Label,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ jsx14(ChevronDown, { size: 16 }),\n      readOnly,\n      children: /* @__PURE__ */ jsx14(\n        \"select\",\n        {\n          id,\n          title: label || name,\n          className: getClassName9(\"input\"),\n          disabled: readOnly,\n          onChange: (e) => {\n            onChange(JSON.parse(e.target.value).value);\n          },\n          value: JSON.stringify({ value }),\n          children: field.options.map((option) => /* @__PURE__ */ jsx14(\n            \"option\",\n            {\n              label: option.label,\n              value: JSON.stringify({ value: option.value })\n            },\n            option.label + JSON.stringify(option.value)\n          ))\n        }\n      )\n    }\n  );\n};\n\n// components/AutoField/fields/TextareaField/index.tsx\ninit_react_import();\nimport { jsx as jsx15 } from \"react/jsx-runtime\";\nvar getClassName10 = get_class_name_factory_default(\"Input\", styles_module_default);\nvar TextareaField = ({\n  field,\n  onChange,\n  readOnly,\n  id,\n  name = id,\n  label,\n  labelIcon,\n  Label\n}) => {\n  const [localValue, onChangeLocal] = useLocalValue(name, onChange);\n  return /* @__PURE__ */ jsx15(\n    Label,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ jsx15(Type, { size: 16 }),\n      readOnly,\n      children: /* @__PURE__ */ jsx15(\n        \"textarea\",\n        {\n          id,\n          className: getClassName10(\"input\"),\n          autoComplete: \"off\",\n          name,\n          value: typeof localValue === \"undefined\" ? \"\" : localValue,\n          onChange: (e) => onChangeLocal(e.currentTarget.value),\n          readOnly,\n          tabIndex: readOnly ? -1 : void 0,\n          rows: 5,\n          placeholder: field.type === \"textarea\" ? field.placeholder : void 0\n        }\n      )\n    }\n  );\n};\n\n// components/AutoField/fields/RichtextField/index.tsx\ninit_react_import();\nimport { lazy, Suspense } from \"react\";\n\n// components/RichTextEditor/components/EditorFallback.tsx\ninit_react_import();\nimport { memo as memo3 } from \"react\";\nimport { jsx as jsx16 } from \"react/jsx-runtime\";\nvar EditorFallback = memo3((props) => {\n  var _a;\n  return /* @__PURE__ */ jsx16(\n    EditorInner,\n    __spreadProps(__spreadValues({}, props), {\n      editor: null,\n      menu: /* @__PURE__ */ jsx16(\n        LoadedRichTextMenuInner,\n        {\n          field: props.field,\n          editor: null,\n          editorState: null,\n          readOnly: (_a = props.readOnly) != null ? _a : false\n        }\n      ),\n      children: /* @__PURE__ */ jsx16(\n        \"div\",\n        {\n          className: \"rich-text\",\n          dangerouslySetInnerHTML: { __html: props.content },\n          contentEditable: true\n        }\n      )\n    })\n  );\n});\nEditorFallback.displayName = \"EditorFallback\";\n\n// components/AutoField/fields/RichtextField/index.tsx\nimport { Fragment as Fragment4, jsx as jsx17 } from \"react/jsx-runtime\";\nvar Editor = lazy(\n  () => import(\"./Editor-NK3TZSR6.mjs\").then((m) => ({\n    default: m.Editor\n  }))\n);\nvar RichtextField = ({\n  onChange,\n  readOnly = false,\n  id,\n  name = id,\n  label,\n  labelIcon,\n  Label,\n  field\n}) => {\n  const content = useDeepField(name);\n  const editorProps = {\n    onChange,\n    content,\n    readOnly,\n    field,\n    id,\n    name\n  };\n  return /* @__PURE__ */ jsx17(Fragment4, { children: /* @__PURE__ */ jsx17(\n    Label,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ jsx17(Type, { size: 16 }),\n      readOnly,\n      el: \"div\",\n      children: /* @__PURE__ */ jsx17(Suspense, { fallback: /* @__PURE__ */ jsx17(EditorFallback, __spreadValues({}, editorProps)), children: /* @__PURE__ */ jsx17(Editor, __spreadValues({}, editorProps)) })\n    }\n  ) });\n};\n\n// components/AutoField/fields/ObjectField/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/AutoField/fields/ObjectField/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default7 = { \"ObjectField\": \"_ObjectField_1ua3y_5\", \"ObjectField-fieldset\": \"_ObjectField-fieldset_1ua3y_13\" };\n\n// components/AutoField/fields/ObjectField/index.tsx\nimport { jsx as jsx18 } from \"react/jsx-runtime\";\nvar getClassName11 = get_class_name_factory_default(\"ObjectField\", styles_module_default7);\nvar ObjectField = ({\n  field,\n  onChange,\n  id,\n  name = id,\n  label,\n  labelIcon,\n  Label,\n  readOnly\n}) => {\n  const { localName = name } = useNestedFieldContext();\n  const fieldStore = useFieldStoreApi();\n  const canEdit = useAppStore(\n    (s) => s.permissions.getPermissions({ item: s.selectedItem }).edit\n  );\n  const getValue = () => {\n    var _a;\n    return (_a = getDeep(fieldStore.getState(), name)) != null ? _a : {};\n  };\n  if (field.type !== \"object\" || !field.objectFields) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx18(\n    Label,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ jsx18(EllipsisVertical, { size: 16 }),\n      el: \"div\",\n      readOnly,\n      children: /* @__PURE__ */ jsx18(\"div\", { className: getClassName11(), children: /* @__PURE__ */ jsx18(\"fieldset\", { className: getClassName11(\"fieldset\"), children: Object.keys(field.objectFields).map((subName) => {\n        const subField = field.objectFields[subName];\n        const subPath = `${localName}.${subName}`;\n        return /* @__PURE__ */ jsx18(\n          SubField,\n          {\n            id: `${id}_${subName}`,\n            name,\n            subName,\n            localName,\n            field: subField,\n            forceReadOnly: !canEdit,\n            onChange: (subValue, ui, subName2) => {\n              const value = getValue();\n              if (value[subName2] === subValue) {\n                return;\n              }\n              onChange(__spreadProps(__spreadValues({}, value), { [subName2]: subValue }), ui);\n            }\n          },\n          subPath\n        );\n      }) }) })\n    }\n  );\n};\n\n// lib/use-safe-id.ts\ninit_react_import();\nimport React2, { useState as useState8 } from \"react\";\nvar useSafeId = () => {\n  if (typeof React2.useId !== \"undefined\") {\n    return React2.useId();\n  }\n  const [id] = useState8(generateId());\n  return id;\n};\n\n// components/AutoField/index.tsx\nimport { useShallow as useShallow3 } from \"zustand/react/shallow\";\n\n// components/AutoField/FieldLabel.tsx\ninit_react_import();\nimport { useMemo as useMemo4 } from \"react\";\nimport { Fragment as Fragment5, jsx as jsx19, jsxs as jsxs6 } from \"react/jsx-runtime\";\nvar getClassName12 = get_class_name_factory_default(\"Input\", styles_module_default);\nvar FieldLabel = ({\n  children,\n  icon,\n  label,\n  el = \"label\",\n  readOnly,\n  className\n}) => {\n  const El = el;\n  return /* @__PURE__ */ jsxs6(El, { className, children: [\n    /* @__PURE__ */ jsxs6(\"div\", { className: getClassName12(\"label\"), children: [\n      icon ? /* @__PURE__ */ jsx19(\"div\", { className: getClassName12(\"labelIcon\"), children: icon }) : /* @__PURE__ */ jsx19(Fragment5, {}),\n      label,\n      readOnly && /* @__PURE__ */ jsx19(\"div\", { className: getClassName12(\"disabledIcon\"), title: \"Read-only\", children: /* @__PURE__ */ jsx19(Lock, { size: \"12\" }) })\n    ] }),\n    children\n  ] });\n};\nvar FieldLabelInternal = ({\n  children,\n  icon,\n  label,\n  el = \"label\",\n  readOnly\n}) => {\n  const overrides = useAppStore((s) => s.overrides);\n  const Wrapper = useMemo4(\n    () => overrides.fieldLabel || FieldLabel,\n    [overrides]\n  );\n  if (!label) {\n    return /* @__PURE__ */ jsx19(Fragment5, { children });\n  }\n  return /* @__PURE__ */ jsx19(\n    Wrapper,\n    {\n      label,\n      icon,\n      className: getClassName12({ readOnly }),\n      readOnly,\n      el,\n      children\n    }\n  );\n};\n\n// components/AutoField/index.tsx\nimport { jsx as jsx20 } from \"react/jsx-runtime\";\nvar getClassName13 = get_class_name_factory_default(\"Input\", styles_module_default);\nvar getClassNameWrapper = get_class_name_factory_default(\"InputWrapper\", styles_module_default);\nvar defaultFields = {\n  array: ArrayField,\n  external: ExternalField,\n  object: ObjectField,\n  select: SelectField,\n  textarea: TextareaField,\n  radio: RadioField,\n  text: DefaultField,\n  number: DefaultField,\n  richtext: RichtextField\n};\nfunction AutoFieldInternal(props) {\n  var _a;\n  const dispatch = useAppStore((s) => s.dispatch);\n  const overrides = useAppStore((s) => s.overrides);\n  const readOnly = useAppStore(useShallow3((s) => {\n    var _a2;\n    return (_a2 = s.selectedItem) == null ? void 0 : _a2.readOnly;\n  }));\n  const nestedFieldContext = useContext4(NestedFieldContext);\n  const { id, Label = FieldLabelInternal } = props;\n  const field = props.field;\n  const label = field.label;\n  const labelIcon = field.labelIcon;\n  const defaultId = useSafeId();\n  const resolvedId = id || defaultId;\n  const render = useMemo5(\n    () => {\n      var _a2, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n      return __spreadProps(__spreadValues({}, overrides.fieldTypes), {\n        custom: (_a2 = overrides.fieldTypes) == null ? void 0 : _a2.custom,\n        array: ((_b = overrides.fieldTypes) == null ? void 0 : _b.array) || defaultFields.array,\n        external: ((_c = overrides.fieldTypes) == null ? void 0 : _c.external) || defaultFields.external,\n        object: ((_d = overrides.fieldTypes) == null ? void 0 : _d.object) || defaultFields.object,\n        select: ((_e = overrides.fieldTypes) == null ? void 0 : _e.select) || defaultFields.select,\n        textarea: ((_f = overrides.fieldTypes) == null ? void 0 : _f.textarea) || defaultFields.textarea,\n        radio: ((_g = overrides.fieldTypes) == null ? void 0 : _g.radio) || defaultFields.radio,\n        text: ((_h = overrides.fieldTypes) == null ? void 0 : _h.text) || defaultFields.text,\n        number: ((_i = overrides.fieldTypes) == null ? void 0 : _i.number) || defaultFields.number,\n        richtext: ((_j = overrides.fieldTypes) == null ? void 0 : _j.richtext) || defaultFields.richtext\n      });\n    },\n    [overrides]\n  );\n  const fieldValue = useFieldStore((s) => {\n    var _a2, _b;\n    if (field.type === \"custom\" || ((_a2 = overrides.fieldTypes) == null ? void 0 : _a2[field.type])) {\n      return getDeep(s, (_b = props.name) != null ? _b : resolvedId);\n    }\n  });\n  const mergedProps = useMemo5(\n    () => __spreadProps(__spreadValues({}, props), {\n      field,\n      label,\n      labelIcon,\n      Label,\n      id: resolvedId,\n      value: fieldValue\n    }),\n    [props, field, label, labelIcon, Label, resolvedId, fieldValue]\n  );\n  const onFocus = useCallback4(\n    (e) => {\n      if (mergedProps.name && (e.target.nodeName === \"INPUT\" || e.target.nodeName === \"TEXTAREA\")) {\n        e.stopPropagation();\n        dispatch({\n          type: \"setUi\",\n          ui: {\n            field: { focus: mergedProps.name }\n          }\n        });\n      }\n    },\n    [mergedProps.name]\n  );\n  const onBlur = useCallback4((e) => {\n    if (\"name\" in e.target) {\n      dispatch({\n        type: \"setUi\",\n        ui: {\n          field: { focus: null }\n        }\n      });\n    }\n  }, []);\n  let Children = useMemo5(() => {\n    if (field.type !== \"custom\" && field.type !== \"slot\") {\n      return defaultFields[field.type];\n    }\n    return (_props) => null;\n  }, [field.type]);\n  const fieldKey = field.type === \"custom\" ? field.key : void 0;\n  let FieldComponent = useMemo5(() => {\n    if (field.type === \"custom\" && !render[field.type]) {\n      if (!field.render) {\n        return null;\n      }\n      return field.render;\n    } else if (field.type !== \"slot\") {\n      return render[field.type];\n    }\n  }, [field.type, fieldKey, render]);\n  const { visible = true } = props.field;\n  if (!visible) {\n    return null;\n  }\n  if (field.type === \"slot\") {\n    return null;\n  }\n  if (!FieldComponent) {\n    throw new Error(`Field type for ${field.type} did not exist.`);\n  }\n  return /* @__PURE__ */ jsx20(\n    NestedFieldContext.Provider,\n    {\n      value: {\n        readOnlyFields: nestedFieldContext.readOnlyFields || readOnly || {},\n        localName: (_a = nestedFieldContext.localName) != null ? _a : mergedProps.name\n      },\n      children: /* @__PURE__ */ jsx20(\n        \"div\",\n        {\n          className: getClassNameWrapper(),\n          onFocus,\n          onBlur,\n          onClick: (e) => {\n            e.stopPropagation();\n          },\n          children: /* @__PURE__ */ jsx20(FieldComponent, __spreadProps(__spreadValues({}, mergedProps), { children: /* @__PURE__ */ jsx20(Children, __spreadValues({}, mergedProps)) }))\n        }\n      )\n    }\n  );\n}\nfunction AutoFieldPrivate(props) {\n  return /* @__PURE__ */ jsx20(AutoFieldInternal, __spreadValues({}, props));\n}\nfunction AutoFieldPublicInternal(_a) {\n  var _b = _a, { value } = _b, props = __objRest(_b, [\"value\"]);\n  const DefaultLabel = useMemo5(() => {\n    const DefaultLabel2 = (labelProps) => /* @__PURE__ */ jsx20(\n      \"div\",\n      __spreadProps(__spreadValues({}, labelProps), {\n        className: getClassName13({ readOnly: props.readOnly })\n      })\n    );\n    return DefaultLabel2;\n  }, [props.readOnly]);\n  const fieldStore = useFieldStoreApi();\n  const onChange = useCallback4(\n    (value2) => {\n      if (!props.id) return;\n      fieldStore.setState({ [props.id]: value2 });\n      props.onChange(value2);\n    },\n    [fieldStore, props.onChange, props.id]\n  );\n  useEffect7(() => {\n    if (!props.id) return;\n    fieldStore.setState({ [props.id]: value });\n  }, [props.id, value, fieldStore]);\n  return /* @__PURE__ */ jsx20(\n    AutoFieldInternal,\n    __spreadProps(__spreadValues({}, props), {\n      onChange,\n      Label: DefaultLabel\n    })\n  );\n}\nfunction AutoField(props) {\n  const id = useSafeId();\n  if (props.field.type === \"slot\") {\n    return null;\n  }\n  return /* @__PURE__ */ jsx20(fieldContextStore.Provider, { value: { [id]: props.value }, children: /* @__PURE__ */ jsx20(AutoFieldPublicInternal, __spreadProps(__spreadValues({}, props), { id })) });\n}\n\n// components/Drawer/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Drawer/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default8 = { \"Drawer\": \"_Drawer_pl7z0_1\", \"Drawer-draggable\": \"_Drawer-draggable_pl7z0_8\", \"Drawer-draggableBg\": \"_Drawer-draggableBg_pl7z0_12\", \"DrawerItem-draggable\": \"_DrawerItem-draggable_pl7z0_22\", \"DrawerItem--disabled\": \"_DrawerItem--disabled_pl7z0_35\", \"DrawerItem\": \"_DrawerItem_pl7z0_22\", \"Drawer--isDraggingFrom\": \"_Drawer--isDraggingFrom_pl7z0_45\", \"DrawerItem-name\": \"_DrawerItem-name_pl7z0_63\" };\n\n// components/Drawer/index.tsx\nimport { useMemo as useMemo12, useState as useState16 } from \"react\";\n\n// components/DragDropContext/index.tsx\ninit_react_import();\nimport { DragDropProvider as DragDropProvider2 } from \"@dnd-kit/react\";\nimport {\n  createContext as createContext4,\n  useCallback as useCallback12,\n  useContext as useContext8,\n  useEffect as useEffect16,\n  useMemo as useMemo11,\n  useRef as useRef8,\n  useState as useState15\n} from \"react\";\nimport { AutoScroller, defaultPreset } from \"@dnd-kit/dom\";\n\n// components/DropZone/index.tsx\ninit_react_import();\nimport {\n  forwardRef,\n  memo as memo7,\n  useCallback as useCallback11,\n  useContext as useContext7,\n  useEffect as useEffect15,\n  useMemo as useMemo10,\n  useRef as useRef7\n} from \"react\";\n\n// components/DraggableComponent/index.tsx\ninit_react_import();\nimport {\n  useCallback as useCallback7,\n  useContext as useContext5,\n  useEffect as useEffect9,\n  useMemo as useMemo7,\n  useRef as useRef2,\n  useState as useState10,\n  useTransition\n} from \"react\";\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/DraggableComponent/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default9 = { \"DraggableComponent\": \"_DraggableComponent_1vaqy_1\", \"DraggableComponent-overlayWrapper\": \"_DraggableComponent-overlayWrapper_1vaqy_12\", \"DraggableComponent-overlay\": \"_DraggableComponent-overlay_1vaqy_12\", \"DraggableComponent-loadingOverlay\": \"_DraggableComponent-loadingOverlay_1vaqy_34\", \"DraggableComponent--hover\": \"_DraggableComponent--hover_1vaqy_50\", \"DraggableComponent--isSelected\": \"_DraggableComponent--isSelected_1vaqy_57\", \"DraggableComponent-actionsOverlay\": \"_DraggableComponent-actionsOverlay_1vaqy_71\", \"DraggableComponent-actions\": \"_DraggableComponent-actions_1vaqy_71\" };\n\n// components/DraggableComponent/index.tsx\nimport { createPortal as createPortal2 } from \"react-dom\";\n\n// lib/get-deep-scroll-position.ts\ninit_react_import();\nfunction getDeepScrollPosition(element) {\n  let totalScroll = {\n    x: 0,\n    y: 0\n  };\n  let current = element;\n  while (current && current !== document.documentElement) {\n    const parent = current.parentElement;\n    if (parent) {\n      totalScroll.x += parent.scrollLeft;\n      totalScroll.y += parent.scrollTop;\n    }\n    current = parent;\n  }\n  return totalScroll;\n}\n\n// components/DropZone/context.tsx\ninit_react_import();\nimport {\n  createContext as createContext3,\n  useCallback as useCallback5,\n  useMemo as useMemo6\n} from \"react\";\nimport { createStore as createStore3 } from \"zustand\";\nimport { Fragment as Fragment6, jsx as jsx21 } from \"react/jsx-runtime\";\nvar dropZoneContext = createContext3(null);\nvar ZoneStoreContext = createContext3(\n  createStore3(() => ({\n    zoneDepthIndex: {},\n    nextZoneDepthIndex: {},\n    areaDepthIndex: {},\n    nextAreaDepthIndex: {},\n    draggedItem: null,\n    previewIndex: {},\n    enabledIndex: {},\n    hoveringComponent: null\n  }))\n);\nvar ZoneStoreProvider = ({\n  children,\n  store\n}) => {\n  return /* @__PURE__ */ jsx21(ZoneStoreContext.Provider, { value: store, children });\n};\nvar DropZoneProvider = ({\n  children,\n  value\n}) => {\n  const dispatch = useAppStore((s) => s.dispatch);\n  const registerZone = useCallback5(\n    (zoneCompound) => {\n      dispatch({\n        type: \"registerZone\",\n        zone: zoneCompound\n      });\n    },\n    [dispatch]\n  );\n  const memoValue = useMemo6(\n    () => __spreadValues({\n      registerZone\n    }, value),\n    [value]\n  );\n  return /* @__PURE__ */ jsx21(Fragment6, { children: memoValue && /* @__PURE__ */ jsx21(dropZoneContext.Provider, { value: memoValue, children }) });\n};\n\n// components/DraggableComponent/index.tsx\nimport { useShallow as useShallow4 } from \"zustand/react/shallow\";\nimport { useSortable as useSortable2 } from \"@dnd-kit/react/sortable\";\n\n// lib/accumulate-transform.ts\ninit_react_import();\nfunction accumulateTransform(el) {\n  let matrix = new DOMMatrixReadOnly();\n  let n = el.parentElement;\n  while (n && n !== document.documentElement) {\n    const t = getComputedStyle(n).transform;\n    if (t && t !== \"none\") {\n      matrix = new DOMMatrixReadOnly(t).multiply(matrix);\n    }\n    n = n.parentElement;\n  }\n  return { scaleX: matrix.a, scaleY: matrix.d };\n}\n\n// lib/dnd/use-on-drag-finished.ts\ninit_react_import();\nimport { useCallback as useCallback6 } from \"react\";\nvar useOnDragFinished = (cb, deps = []) => {\n  const appStore = useAppStoreApi();\n  return useCallback6(() => {\n    let dispose = () => {\n    };\n    const processDragging = (isDragging2) => {\n      if (isDragging2) {\n        cb(false);\n      } else {\n        setTimeout(() => {\n          cb(true);\n        }, 0);\n        if (dispose) dispose();\n      }\n    };\n    const isDragging = appStore.getState().state.ui.isDragging;\n    processDragging(isDragging);\n    if (isDragging) {\n      dispose = appStore.subscribe(\n        (s) => s.state.ui.isDragging,\n        (isDragging2) => {\n          processDragging(isDragging2);\n        }\n      );\n    }\n    return dispose;\n  }, [appStore, ...deps]);\n};\n\n// components/DraggableComponent/index.tsx\nimport { Fragment as Fragment7, jsx as jsx22, jsxs as jsxs7 } from \"react/jsx-runtime\";\nvar getClassName14 = get_class_name_factory_default(\"DraggableComponent\", styles_module_default9);\nvar DEBUG2 = false;\nvar space = 8;\nvar actionsOverlayTop = space * 6.5;\nvar actionsTop = -(actionsOverlayTop - 8);\nvar actionsSide = space;\nvar DefaultActionBar = ({\n  label,\n  children,\n  parentAction\n}) => /* @__PURE__ */ jsxs7(ActionBar, { children: [\n  /* @__PURE__ */ jsxs7(ActionBar.Group, { children: [\n    parentAction,\n    label && /* @__PURE__ */ jsx22(ActionBar.Label, { label })\n  ] }),\n  /* @__PURE__ */ jsx22(ActionBar.Group, { children })\n] });\nvar DefaultOverlay = ({\n  children\n}) => /* @__PURE__ */ jsx22(Fragment7, { children });\nvar DraggableComponent = ({\n  children,\n  depth,\n  componentType,\n  id,\n  index,\n  zoneCompound,\n  isLoading = false,\n  isSelected = false,\n  debug,\n  label,\n  autoDragAxis,\n  userDragAxis,\n  inDroppableZone = true\n}) => {\n  const zoom = useAppStore(\n    (s) => {\n      var _a;\n      return ((_a = s.selectedItem) == null ? void 0 : _a.props.id) === id ? s.zoomConfig.zoom : 1;\n    }\n  );\n  const overrides = useAppStore((s) => s.overrides);\n  const dispatch = useAppStore((s) => s.dispatch);\n  const iframe = useAppStore((s) => s.iframe);\n  const ctx = useContext5(dropZoneContext);\n  const [localZones, setLocalZones] = useState10({});\n  const registerLocalZone = useCallback7(\n    (zoneCompound2, active) => {\n      var _a;\n      (_a = ctx == null ? void 0 : ctx.registerLocalZone) == null ? void 0 : _a.call(ctx, zoneCompound2, active);\n      setLocalZones((obj) => __spreadProps(__spreadValues({}, obj), {\n        [zoneCompound2]: active\n      }));\n    },\n    [setLocalZones]\n  );\n  const unregisterLocalZone = useCallback7(\n    (zoneCompound2) => {\n      var _a;\n      (_a = ctx == null ? void 0 : ctx.unregisterLocalZone) == null ? void 0 : _a.call(ctx, zoneCompound2);\n      setLocalZones((obj) => {\n        const newLocalZones = __spreadValues({}, obj);\n        delete newLocalZones[zoneCompound2];\n        return newLocalZones;\n      });\n    },\n    [setLocalZones]\n  );\n  const containsActiveZone = Object.values(localZones).filter(Boolean).length > 0;\n  const path = useAppStore(useShallow4((s) => {\n    var _a;\n    return (_a = s.state.indexes.nodes[id]) == null ? void 0 : _a.path;\n  }));\n  const permissions = useAppStore(\n    useShallow4((s) => {\n      const item = getItem({ index, zone: zoneCompound }, s.state);\n      return s.permissions.getPermissions({ item });\n    })\n  );\n  const zoneStore = useContext5(ZoneStoreContext);\n  const [dragAxis, setDragAxis] = useState10(userDragAxis || autoDragAxis);\n  const dynamicCollisionDetector = useMemo7(\n    () => createDynamicCollisionDetector(dragAxis),\n    [dragAxis]\n  );\n  const {\n    ref: sortableRef,\n    isDragging: thisIsDragging,\n    sortable\n  } = useSortable2({\n    id,\n    index,\n    group: zoneCompound,\n    type: \"component\",\n    data: {\n      areaId: ctx == null ? void 0 : ctx.areaId,\n      zone: zoneCompound,\n      index,\n      componentType,\n      containsActiveZone,\n      depth,\n      path: path || [],\n      inDroppableZone\n    },\n    collisionPriority: depth,\n    collisionDetector: dynamicCollisionDetector,\n    // \"Out of the way\" transition from react-beautiful-dnd\n    transition: {\n      duration: 200,\n      easing: \"cubic-bezier(0.2, 0, 0, 1)\"\n    },\n    feedback: \"clone\"\n  });\n  useEffect9(() => {\n    const isEnabled = zoneStore.getState().enabledIndex[zoneCompound];\n    sortable.droppable.disabled = !isEnabled;\n    sortable.draggable.disabled = !permissions.drag;\n    const cleanup = zoneStore.subscribe((s) => {\n      sortable.droppable.disabled = !s.enabledIndex[zoneCompound];\n    });\n    if (ref.current && !permissions.drag) {\n      ref.current.setAttribute(\"data-puck-disabled\", \"\");\n      return () => {\n        var _a;\n        (_a = ref.current) == null ? void 0 : _a.removeAttribute(\"data-puck-disabled\");\n        cleanup();\n      };\n    }\n    return cleanup;\n  }, [permissions.drag, zoneCompound]);\n  const [, setRerender] = useState10(0);\n  const ref = useRef2(null);\n  const refSetter = useCallback7(\n    (el) => {\n      sortableRef(el);\n      if (ref.current !== el) {\n        ref.current = el;\n        setRerender((update) => update + 1);\n      }\n    },\n    [sortableRef]\n  );\n  const [portalEl, setPortalEl] = useState10();\n  useEffect9(() => {\n    var _a, _b, _c;\n    setPortalEl(\n      iframe.enabled ? (_a = ref.current) == null ? void 0 : _a.ownerDocument.body : (_c = (_b = ref.current) == null ? void 0 : _b.closest(\"[data-puck-preview]\")) != null ? _c : document.body\n    );\n  }, [iframe.enabled, ref.current]);\n  const getStyle = useCallback7(() => {\n    var _a, _b, _c;\n    if (!ref.current) return;\n    const rect = ref.current.getBoundingClientRect();\n    const deepScrollPosition = getDeepScrollPosition(ref.current);\n    const portalContainerEl = iframe.enabled ? null : (_a = ref.current) == null ? void 0 : _a.closest(\"[data-puck-preview]\");\n    const portalContainerRect = portalContainerEl == null ? void 0 : portalContainerEl.getBoundingClientRect();\n    const portalScroll = portalContainerEl ? getDeepScrollPosition(portalContainerEl) : { x: 0, y: 0 };\n    const scroll = {\n      x: deepScrollPosition.x - portalScroll.x - ((_b = portalContainerRect == null ? void 0 : portalContainerRect.left) != null ? _b : 0),\n      y: deepScrollPosition.y - portalScroll.y - ((_c = portalContainerRect == null ? void 0 : portalContainerRect.top) != null ? _c : 0)\n    };\n    const untransformed = {\n      height: ref.current.offsetHeight,\n      width: ref.current.offsetWidth\n    };\n    const transform = accumulateTransform(ref.current);\n    const style2 = {\n      left: `${(rect.left + scroll.x) / transform.scaleX}px`,\n      top: `${(rect.top + scroll.y) / transform.scaleY}px`,\n      height: `${untransformed.height}px`,\n      width: `${untransformed.width}px`\n    };\n    return style2;\n  }, [ref.current]);\n  const [style, setStyle] = useState10();\n  const sync = useCallback7(() => {\n    setStyle(getStyle());\n  }, [ref.current, iframe]);\n  useEffect9(() => {\n    if (ref.current) {\n      const observer = new ResizeObserver(sync);\n      observer.observe(ref.current);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [ref.current]);\n  const registerNode = useAppStore((s) => s.nodes.registerNode);\n  const hideOverlay = useCallback7(() => {\n    setIsVisible(false);\n  }, []);\n  const showOverlay = useCallback7(() => {\n    setIsVisible(true);\n  }, []);\n  useEffect9(() => {\n    var _a;\n    registerNode(id, {\n      methods: { sync, showOverlay, hideOverlay },\n      element: (_a = ref.current) != null ? _a : null\n    });\n    return () => {\n      registerNode(id, {\n        methods: {\n          sync: () => null,\n          hideOverlay: () => null,\n          showOverlay: () => null\n        },\n        element: null\n      });\n    };\n  }, [id, zoneCompound, index, componentType, sync]);\n  const CustomActionBar = useMemo7(\n    () => overrides.actionBar || DefaultActionBar,\n    [overrides.actionBar]\n  );\n  const CustomOverlay = useMemo7(\n    () => overrides.componentOverlay || DefaultOverlay,\n    [overrides.componentOverlay]\n  );\n  const onClick = useCallback7(\n    (e) => {\n      const el = e.target;\n      if (!el.closest(\"[data-puck-overlay-portal]\")) {\n        e.stopPropagation();\n      }\n      if (isSelected) {\n        dispatch({\n          type: \"setUi\",\n          ui: {\n            itemSelector: null\n          }\n        });\n      } else {\n        dispatch({\n          type: \"setUi\",\n          ui: {\n            itemSelector: { index, zone: zoneCompound }\n          }\n        });\n      }\n    },\n    [index, zoneCompound, id, isSelected]\n  );\n  const appStore = useAppStoreApi();\n  const onSelectParent = useCallback7(() => {\n    const { nodes, zones } = appStore.getState().state.indexes;\n    const node = nodes[id];\n    const parentNode = (node == null ? void 0 : node.parentId) ? nodes[node == null ? void 0 : node.parentId] : null;\n    if (!parentNode || !node.parentId) {\n      return;\n    }\n    const parentZoneCompound = `${parentNode.parentId}:${parentNode.zone}`;\n    const parentIndex = zones[parentZoneCompound].contentIds.indexOf(\n      node.parentId\n    );\n    dispatch({\n      type: \"setUi\",\n      ui: {\n        itemSelector: {\n          zone: parentZoneCompound,\n          index: parentIndex\n        }\n      }\n    });\n  }, [ctx, path]);\n  const onDuplicate = useCallback7(() => {\n    dispatch({\n      type: \"duplicate\",\n      sourceIndex: index,\n      sourceZone: zoneCompound\n    });\n  }, [index, zoneCompound]);\n  const onDelete = useCallback7(() => {\n    dispatch({\n      type: \"remove\",\n      index,\n      zone: zoneCompound\n    });\n  }, [index, zoneCompound]);\n  const [hover, setHover] = useState10(false);\n  const indicativeHover = useContextStore(\n    ZoneStoreContext,\n    (s) => s.hoveringComponent === id\n  );\n  useEffect9(() => {\n    if (!ref.current) {\n      return;\n    }\n    const el = ref.current;\n    const _onMouseOver = (e) => {\n      const userIsDragging = !!zoneStore.getState().draggedItem;\n      if (userIsDragging) {\n        if (thisIsDragging) {\n          setHover(true);\n        } else {\n          setHover(false);\n        }\n      } else {\n        setHover(true);\n      }\n      e.stopPropagation();\n    };\n    const _onMouseOut = (e) => {\n      e.stopPropagation();\n      setHover(false);\n    };\n    el.setAttribute(\"data-puck-component\", id);\n    el.setAttribute(\"data-puck-dnd\", id);\n    el.style.position = \"relative\";\n    el.addEventListener(\"click\", onClick);\n    el.addEventListener(\"mouseover\", _onMouseOver);\n    el.addEventListener(\"mouseout\", _onMouseOut);\n    return () => {\n      el.removeAttribute(\"data-puck-component\");\n      el.removeAttribute(\"data-puck-dnd\");\n      el.removeEventListener(\"click\", onClick);\n      el.removeEventListener(\"mouseover\", _onMouseOver);\n      el.removeEventListener(\"mouseout\", _onMouseOut);\n    };\n  }, [\n    ref.current,\n    // Remount attributes if the element changes\n    onClick,\n    containsActiveZone,\n    zoneCompound,\n    id,\n    thisIsDragging,\n    inDroppableZone\n  ]);\n  const [isVisible, setIsVisible] = useState10(false);\n  const [dragFinished, setDragFinished] = useState10(true);\n  const [_, startTransition] = useTransition();\n  useEffect9(() => {\n    startTransition(() => {\n      if (hover || indicativeHover || isSelected) {\n        sync();\n        setIsVisible(true);\n        setThisWasDragging(false);\n      } else {\n        setIsVisible(false);\n      }\n    });\n  }, [hover, indicativeHover, isSelected, iframe]);\n  const [thisWasDragging, setThisWasDragging] = useState10(false);\n  const onDragFinished = useOnDragFinished((finished) => {\n    if (finished) {\n      startTransition(() => {\n        sync();\n        setDragFinished(true);\n      });\n    } else {\n      setDragFinished(false);\n    }\n  });\n  useEffect9(() => {\n    if (thisIsDragging) {\n      setThisWasDragging(true);\n    }\n  }, [thisIsDragging]);\n  useEffect9(() => {\n    if (thisWasDragging) return onDragFinished();\n  }, [thisWasDragging, onDragFinished]);\n  const syncActionsPosition = useCallback7(\n    (el) => {\n      if (el) {\n        const view = el.ownerDocument.defaultView;\n        if (view) {\n          const rect = el.getBoundingClientRect();\n          const diffLeft = rect.x;\n          const exceedsBoundsLeft = diffLeft < 0;\n          const diffTop = rect.y;\n          const exceedsBoundsTop = diffTop < 0;\n          if (exceedsBoundsLeft) {\n            el.style.transformOrigin = \"left top\";\n            el.style.left = \"0px\";\n          }\n          if (exceedsBoundsTop) {\n            el.style.top = \"12px\";\n            if (!exceedsBoundsLeft) {\n              el.style.transformOrigin = \"right top\";\n            }\n          }\n        }\n      }\n    },\n    [zoom]\n  );\n  useEffect9(() => {\n    if (userDragAxis) {\n      setDragAxis(userDragAxis);\n      return;\n    }\n    if (ref.current) {\n      const computedStyle = window.getComputedStyle(ref.current);\n      if (computedStyle.display === \"inline\" || computedStyle.display === \"inline-block\") {\n        setDragAxis(\"x\");\n        return;\n      }\n    }\n    setDragAxis(autoDragAxis);\n  }, [ref, userDragAxis, autoDragAxis]);\n  const parentAction = useMemo7(\n    () => (ctx == null ? void 0 : ctx.areaId) && (ctx == null ? void 0 : ctx.areaId) !== \"root\" && /* @__PURE__ */ jsx22(ActionBar.Action, { onClick: onSelectParent, label: \"Select parent\", children: /* @__PURE__ */ jsx22(CornerLeftUp, { size: 16 }) }),\n    [ctx == null ? void 0 : ctx.areaId]\n  );\n  const nextContextValue = useMemo7(\n    () => __spreadProps(__spreadValues({}, ctx), {\n      areaId: id,\n      zoneCompound,\n      index,\n      depth: depth + 1,\n      registerLocalZone,\n      unregisterLocalZone\n    }),\n    [\n      ctx,\n      id,\n      zoneCompound,\n      index,\n      depth,\n      registerLocalZone,\n      unregisterLocalZone\n    ]\n  );\n  const richText = useAppStore(\n    (s) => {\n      var _a;\n      return ((_a = s.currentRichText) == null ? void 0 : _a.inlineComponentId) === id ? s.currentRichText : null;\n    }\n  );\n  const hasNormalActions = permissions.duplicate || permissions.delete;\n  return /* @__PURE__ */ jsxs7(DropZoneProvider, { value: nextContextValue, children: [\n    dragFinished && isVisible && createPortal2(\n      /* @__PURE__ */ jsxs7(\n        \"div\",\n        {\n          className: getClassName14({\n            isSelected,\n            isDragging: thisIsDragging,\n            hover: hover || indicativeHover\n          }),\n          style: __spreadValues({}, style),\n          \"data-puck-overlay\": true,\n          children: [\n            debug,\n            isLoading && /* @__PURE__ */ jsx22(\"div\", { className: getClassName14(\"loadingOverlay\"), children: /* @__PURE__ */ jsx22(Loader, {}) }),\n            /* @__PURE__ */ jsx22(\n              \"div\",\n              {\n                className: getClassName14(\"actionsOverlay\"),\n                style: {\n                  top: actionsOverlayTop / zoom\n                },\n                children: /* @__PURE__ */ jsx22(\n                  \"div\",\n                  {\n                    className: getClassName14(\"actions\"),\n                    style: {\n                      transform: `scale(${1 / zoom}`,\n                      top: actionsTop / zoom,\n                      right: 0,\n                      paddingLeft: actionsSide,\n                      paddingRight: actionsSide\n                    },\n                    ref: syncActionsPosition,\n                    children: /* @__PURE__ */ jsxs7(\n                      CustomActionBar,\n                      {\n                        parentAction,\n                        label: DEBUG2 ? id : label,\n                        children: [\n                          richText && /* @__PURE__ */ jsxs7(Fragment7, { children: [\n                            /* @__PURE__ */ jsx22(\n                              LoadedRichTextMenu,\n                              {\n                                editor: richText.editor,\n                                field: richText.field,\n                                inline: true,\n                                readOnly: false\n                              }\n                            ),\n                            hasNormalActions && /* @__PURE__ */ jsx22(ActionBar.Separator, {})\n                          ] }),\n                          permissions.duplicate && /* @__PURE__ */ jsx22(ActionBar.Action, { onClick: onDuplicate, label: \"Duplicate\", children: /* @__PURE__ */ jsx22(Copy, { size: 16 }) }),\n                          permissions.delete && /* @__PURE__ */ jsx22(ActionBar.Action, { onClick: onDelete, label: \"Delete\", children: /* @__PURE__ */ jsx22(Trash, { size: 16 }) })\n                        ]\n                      }\n                    )\n                  }\n                )\n              }\n            ),\n            /* @__PURE__ */ jsx22(\"div\", { className: getClassName14(\"overlayWrapper\"), children: /* @__PURE__ */ jsx22(\n              CustomOverlay,\n              {\n                componentId: id,\n                componentType,\n                hover,\n                isSelected,\n                children: /* @__PURE__ */ jsx22(\"div\", { className: getClassName14(\"overlay\") })\n              }\n            ) })\n          ]\n        }\n      ),\n      portalEl || document.body\n    ),\n    children(refSetter)\n  ] });\n};\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/DropZone/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default10 = { \"DropZone\": \"_DropZone_1i2sv_1\", \"DropZone--hasChildren\": \"_DropZone--hasChildren_1i2sv_11\", \"DropZone--isAreaSelected\": \"_DropZone--isAreaSelected_1i2sv_24\", \"DropZone--hoveringOverArea\": \"_DropZone--hoveringOverArea_1i2sv_25\", \"DropZone--isRootZone\": \"_DropZone--isRootZone_1i2sv_25\", \"DropZone--isDestination\": \"_DropZone--isDestination_1i2sv_35\", \"DropZone-item\": \"_DropZone-item_1i2sv_47\", \"DropZone-hitbox\": \"_DropZone-hitbox_1i2sv_51\", \"DropZone--isEnabled\": \"_DropZone--isEnabled_1i2sv_59\", \"DropZone--isAnimating\": \"_DropZone--isAnimating_1i2sv_68\" };\n\n// components/DropZone/index.tsx\nimport { useDroppable } from \"@dnd-kit/react\";\n\n// components/DropZone/lib/use-min-empty-height.ts\ninit_react_import();\nimport { useEffect as useEffect10, useRef as useRef3, useState as useState11 } from \"react\";\nvar getNumItems = (appStore, zoneCompound) => appStore.getState().state.indexes.zones[zoneCompound].contentIds.length;\nvar useMinEmptyHeight = ({\n  zoneCompound,\n  userMinEmptyHeight,\n  ref\n}) => {\n  const appStore = useAppStoreApi();\n  const [prevHeight, setPrevHeight] = useState11(0);\n  const [isAnimating, setIsAnimating] = useState11(false);\n  const { draggedItem, isZone } = useContextStore(ZoneStoreContext, (s) => {\n    var _a, _b;\n    return {\n      draggedItem: ((_a = s.draggedItem) == null ? void 0 : _a.data.zone) === zoneCompound ? s.draggedItem : null,\n      isZone: ((_b = s.draggedItem) == null ? void 0 : _b.data.zone) === zoneCompound\n    };\n  });\n  const numItems = useRef3(0);\n  const onDragFinished = useOnDragFinished(\n    (finished) => {\n      var _a;\n      if (finished) {\n        const newNumItems = getNumItems(appStore, zoneCompound);\n        setPrevHeight(0);\n        if (newNumItems || numItems.current === 0) {\n          setIsAnimating(false);\n          return;\n        }\n        const selectedItem = appStore.getState().selectedItem;\n        const zones = appStore.getState().state.indexes.zones;\n        const nodes = appStore.getState().nodes;\n        (_a = nodes.nodes[selectedItem == null ? void 0 : selectedItem.props.id]) == null ? void 0 : _a.methods.hideOverlay();\n        setTimeout(() => {\n          var _a2;\n          const contentIds = ((_a2 = zones[zoneCompound]) == null ? void 0 : _a2.contentIds) || [];\n          contentIds.forEach((contentId) => {\n            const node = nodes.nodes[contentId];\n            node == null ? void 0 : node.methods.sync();\n          });\n          if (selectedItem) {\n            setTimeout(() => {\n              var _a3, _b;\n              (_a3 = nodes.nodes[selectedItem.props.id]) == null ? void 0 : _a3.methods.sync();\n              (_b = nodes.nodes[selectedItem.props.id]) == null ? void 0 : _b.methods.showOverlay();\n            }, 200);\n          }\n          setIsAnimating(false);\n        }, 100);\n      }\n    },\n    [appStore, prevHeight, zoneCompound]\n  );\n  useEffect10(() => {\n    if (draggedItem && ref.current) {\n      if (isZone) {\n        const rect = ref.current.getBoundingClientRect();\n        numItems.current = getNumItems(appStore, zoneCompound);\n        setPrevHeight(rect.height);\n        setIsAnimating(true);\n        return onDragFinished();\n      }\n    }\n  }, [ref.current, draggedItem, onDragFinished]);\n  const returnedMinHeight = isNaN(Number(userMinEmptyHeight)) ? userMinEmptyHeight : `${userMinEmptyHeight}px`;\n  return [prevHeight ? `${prevHeight}px` : returnedMinHeight, isAnimating];\n};\n\n// lib/assign-refs.ts\ninit_react_import();\nfunction assignRef(ref, node) {\n  if (typeof ref === \"function\") {\n    ref(node);\n  } else if (ref && typeof ref === \"object\" && \"current\" in ref) {\n    ref.current = node;\n  }\n}\nfunction assignRefs(refs, node) {\n  refs.forEach((ref) => {\n    assignRef(ref, node);\n  });\n}\n\n// components/DropZone/lib/use-content-with-preview.ts\ninit_react_import();\nimport { useContext as useContext6, useEffect as useEffect11, useState as useState12 } from \"react\";\n\n// lib/dnd/use-rendered-callback.ts\ninit_react_import();\nimport { useDragDropManager } from \"@dnd-kit/react\";\nimport { useCallback as useCallback8 } from \"react\";\nfunction useRenderedCallback(callback, deps) {\n  const manager = useDragDropManager();\n  return useCallback8(\n    (...args) => __async(null, null, function* () {\n      yield manager == null ? void 0 : manager.renderer.rendering;\n      return callback(...args);\n    }),\n    [...deps, manager]\n  );\n}\n\n// components/DropZone/lib/use-content-with-preview.ts\nvar useContentIdsWithPreview = (contentIds, zoneCompound) => {\n  const zoneStore = useContext6(ZoneStoreContext);\n  const preview = useContextStore(\n    ZoneStoreContext,\n    (s) => s.previewIndex[zoneCompound]\n  );\n  const isDragging = useAppStore((s) => s.state.ui.isDragging);\n  const [contentIdsWithPreview, setContentIdsWithPreview] = useState12(contentIds);\n  const [localPreview, setLocalPreview] = useState12(\n    preview\n  );\n  const updateContent = useRenderedCallback(\n    (contentIds2, preview2, isDragging2, draggedItemId, previewExists) => {\n      if (isDragging2 && !previewExists) {\n        return;\n      }\n      if (preview2) {\n        if (preview2.type === \"insert\") {\n          setContentIdsWithPreview(\n            insert(\n              contentIds2.filter((id) => id !== preview2.props.id),\n              preview2.index,\n              preview2.props.id\n            )\n          );\n        } else {\n          setContentIdsWithPreview(\n            insert(\n              contentIds2.filter((id) => id !== preview2.props.id),\n              preview2.index,\n              preview2.props.id\n            )\n          );\n        }\n      } else {\n        setContentIdsWithPreview(\n          previewExists ? contentIds2.filter((id) => id !== draggedItemId) : contentIds2\n        );\n      }\n      setLocalPreview(preview2);\n    },\n    []\n  );\n  useEffect11(() => {\n    var _a;\n    const s = zoneStore.getState();\n    const draggedItemId = (_a = s.draggedItem) == null ? void 0 : _a.id;\n    const previewExists = Object.keys(s.previewIndex || {}).length > 0;\n    updateContent(\n      contentIds,\n      preview,\n      isDragging,\n      draggedItemId,\n      previewExists\n    );\n  }, [contentIds, preview, isDragging]);\n  return [contentIdsWithPreview, localPreview];\n};\n\n// components/DropZone/lib/use-drag-axis.ts\ninit_react_import();\nimport { useCallback as useCallback9, useEffect as useEffect12, useState as useState13 } from \"react\";\nvar GRID_DRAG_AXIS = \"dynamic\";\nvar FLEX_ROW_DRAG_AXIS = \"x\";\nvar DEFAULT_DRAG_AXIS = \"y\";\nvar useDragAxis = (ref, collisionAxis) => {\n  const status = useAppStore((s) => s.status);\n  const [dragAxis, setDragAxis] = useState13(\n    collisionAxis || DEFAULT_DRAG_AXIS\n  );\n  const calculateDragAxis = useCallback9(() => {\n    if (ref.current) {\n      const computedStyle = window.getComputedStyle(ref.current);\n      if (computedStyle.display === \"grid\") {\n        setDragAxis(GRID_DRAG_AXIS);\n      } else if (computedStyle.display === \"flex\" && computedStyle.flexDirection === \"row\") {\n        setDragAxis(FLEX_ROW_DRAG_AXIS);\n      } else {\n        setDragAxis(DEFAULT_DRAG_AXIS);\n      }\n    }\n  }, [ref.current]);\n  useEffect12(() => {\n    const onViewportChange = () => {\n      calculateDragAxis();\n    };\n    window.addEventListener(\"viewportchange\", onViewportChange);\n    return () => {\n      window.removeEventListener(\"viewportchange\", onViewportChange);\n    };\n  }, []);\n  useEffect12(calculateDragAxis, [status, collisionAxis]);\n  return [dragAxis, calculateDragAxis];\n};\n\n// components/DropZone/index.tsx\nimport { useShallow as useShallow6 } from \"zustand/react/shallow\";\n\n// components/Render/index.tsx\ninit_react_import();\nimport React3, { useMemo as useMemo8 } from \"react\";\n\n// components/SlotRender/index.tsx\ninit_react_import();\nimport { useShallow as useShallow5 } from \"zustand/react/shallow\";\nimport { jsx as jsx23 } from \"react/jsx-runtime\";\nvar ContextSlotRender = ({\n  componentId,\n  zone\n}) => {\n  const config = useAppStore((s) => s.config);\n  const metadata = useAppStore((s) => s.metadata);\n  const slotContent = useAppStore(\n    useShallow5((s) => {\n      var _a, _b;\n      const indexes = s.state.indexes;\n      const contentIds = (_b = (_a = indexes.zones[`${componentId}:${zone}`]) == null ? void 0 : _a.contentIds) != null ? _b : [];\n      return contentIds.map((contentId) => indexes.nodes[contentId].flatData);\n    })\n  );\n  return /* @__PURE__ */ jsx23(\n    SlotRenderPure,\n    {\n      content: slotContent,\n      zone,\n      config,\n      metadata\n    }\n  );\n};\n\n// components/Render/index.tsx\nimport { jsx as jsx24 } from \"react/jsx-runtime\";\nvar renderContext = React3.createContext({\n  config: { components: {} },\n  data: { root: {}, content: [] },\n  metadata: {}\n});\nfunction Render({\n  config,\n  data,\n  metadata = {}\n}) {\n  var _a, _b;\n  const defaultedData = __spreadProps(__spreadValues({}, data), {\n    root: data.root || {},\n    content: data.content || []\n  });\n  const rootProps = \"props\" in defaultedData.root ? defaultedData.root.props : defaultedData.root;\n  const title = (rootProps == null ? void 0 : rootProps.title) || \"\";\n  const pageProps = __spreadProps(__spreadValues({}, rootProps), {\n    puck: {\n      renderDropZone: DropZonePure,\n      isEditing: false,\n      dragRef: null,\n      metadata\n    },\n    title,\n    editMode: false,\n    id: \"puck-root\"\n  });\n  const propsWithSlots = useSlots(\n    config,\n    { type: \"root\", props: pageProps },\n    (props) => /* @__PURE__ */ jsx24(SlotRender, __spreadProps(__spreadValues({}, props), { config, metadata }))\n  );\n  const richtextProps = useRichtextProps((_a = config.root) == null ? void 0 : _a.fields, pageProps);\n  const nextContextValue = useMemo8(\n    () => ({\n      mode: \"render\",\n      depth: 0\n    }),\n    []\n  );\n  if ((_b = config.root) == null ? void 0 : _b.render) {\n    return /* @__PURE__ */ jsx24(renderContext.Provider, { value: { config, data: defaultedData, metadata }, children: /* @__PURE__ */ jsx24(DropZoneProvider, { value: nextContextValue, children: /* @__PURE__ */ jsx24(config.root.render, __spreadProps(__spreadValues(__spreadValues({}, propsWithSlots), richtextProps), { children: /* @__PURE__ */ jsx24(DropZoneRenderPure, { zone: rootZone }) })) }) });\n  }\n  return /* @__PURE__ */ jsx24(renderContext.Provider, { value: { config, data: defaultedData, metadata }, children: /* @__PURE__ */ jsx24(DropZoneProvider, { value: nextContextValue, children: /* @__PURE__ */ jsx24(DropZoneRenderPure, { zone: rootZone }) }) });\n}\n\n// lib/field-transforms/use-field-transforms-tracked.tsx\ninit_react_import();\nimport { useMemo as useMemo9, useRef as useRef4 } from \"react\";\nfunction useFieldTransformsTracked(config, item, transforms, readOnly, forceReadOnly) {\n  const prevProps = useRef4(null);\n  const prevResult = useRef4(item.props);\n  const mappers = useMemo9(\n    () => buildMappers(transforms, readOnly, forceReadOnly),\n    [transforms, readOnly, forceReadOnly]\n  );\n  const transformedProps = useMemo9(() => {\n    var _a, _b, _c;\n    const changedProps = {};\n    const componentConfig = item.type === \"root\" ? config.root : (_a = config.components) == null ? void 0 : _a[item.type];\n    let changeIncludesSlot = false;\n    for (const fieldName in item.props) {\n      const fieldType = (_c = (_b = componentConfig == null ? void 0 : componentConfig.fields) == null ? void 0 : _b[fieldName]) == null ? void 0 : _c.type;\n      if (!prevProps.current || item.props[fieldName] !== prevProps.current[fieldName]) {\n        changedProps[fieldName] = item.props[fieldName];\n        if (fieldType === \"slot\") {\n          changeIncludesSlot = true;\n        }\n      }\n    }\n    changedProps.id = item.props.id;\n    prevProps.current = item.props;\n    const mapped = mapFields(\n      __spreadProps(__spreadValues({}, item), { props: changedProps }),\n      mappers,\n      config,\n      false,\n      changeIncludesSlot\n    ).props;\n    prevResult.current = __spreadValues(__spreadValues({}, prevResult.current), mapped);\n    return prevResult.current;\n  }, [config, item, mappers]);\n  const mergedProps = useMemo9(\n    () => __spreadValues(__spreadValues({}, item.props), transformedProps),\n    [item.props, transformedProps]\n  );\n  return mergedProps;\n}\n\n// lib/field-transforms/default-transforms/inline-text-transform.tsx\ninit_react_import();\n\n// components/InlineTextField/index.tsx\ninit_react_import();\nimport { memo as memo4, useEffect as useEffect13, useRef as useRef5, useState as useState14 } from \"react\";\n\n// lib/overlay-portal/index.tsx\ninit_react_import();\nvar registerOverlayPortal = (el, opts = {}) => {\n  if (!el) return;\n  const { disableDrag = false, disableDragOnFocus = true } = opts;\n  const stopPropagation = (e) => {\n    e.stopPropagation();\n  };\n  el.addEventListener(\"mouseover\", stopPropagation, {\n    capture: true\n  });\n  const onFocus = () => {\n    setTimeout(() => {\n      el.addEventListener(\"pointerdown\", stopPropagation, {\n        capture: true\n      });\n    }, 200);\n  };\n  const onBlur = () => {\n    el.removeEventListener(\"pointerdown\", stopPropagation, {\n      capture: true\n    });\n  };\n  if (disableDrag) {\n    el.addEventListener(\"pointerdown\", stopPropagation, {\n      capture: true\n    });\n  } else if (disableDragOnFocus) {\n    el.addEventListener(\"focus\", onFocus, { capture: true });\n    el.addEventListener(\"blur\", onBlur, { capture: true });\n  }\n  el.setAttribute(\"data-puck-overlay-portal\", \"true\");\n  return () => {\n    el.removeEventListener(\"mouseover\", stopPropagation, {\n      capture: true\n    });\n    if (disableDrag) {\n      el.removeEventListener(\"pointerdown\", stopPropagation, {\n        capture: true\n      });\n    } else if (disableDragOnFocus) {\n      el.removeEventListener(\"focus\", onFocus, { capture: true });\n      el.removeEventListener(\"blur\", onBlur, { capture: true });\n    }\n    el.removeAttribute(\"data-puck-overlay-portal\");\n  };\n};\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/InlineTextField/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default11 = { \"InlineTextField\": \"_InlineTextField_104qp_1\" };\n\n// lib/data/set-deep.ts\ninit_react_import();\nfunction setDeep(node, path, newVal) {\n  const parts = path.split(\".\");\n  const newNode = __spreadValues({}, node);\n  let cur = newNode;\n  for (let i = 0; i < parts.length; i++) {\n    const [prop, idxStr] = parts[i].replace(\"]\", \"\").split(\"[\");\n    const isLast = i === parts.length - 1;\n    if (idxStr !== void 0) {\n      if (!Array.isArray(cur[prop])) {\n        cur[prop] = [];\n      }\n      const idx = Number(idxStr);\n      if (isLast) {\n        cur[prop][idx] = newVal;\n        continue;\n      }\n      if (cur[prop][idx] === void 0) cur[prop][idx] = {};\n      cur = cur[prop][idx];\n      continue;\n    }\n    if (isLast) {\n      cur[prop] = newVal;\n      continue;\n    }\n    if (cur[prop] === void 0) {\n      cur[prop] = {};\n    }\n    cur = cur[prop];\n  }\n  return __spreadValues(__spreadValues({}, node), newNode);\n}\n\n// lib/get-selector-for-id.ts\ninit_react_import();\nvar getSelectorForId = (state, id) => {\n  const node = state.indexes.nodes[id];\n  if (!node) return;\n  const zoneCompound = `${node.parentId}:${node.zone}`;\n  const index = state.indexes.zones[zoneCompound].contentIds.indexOf(id);\n  return { zone: zoneCompound, index };\n};\n\n// components/InlineTextField/index.tsx\nimport { jsx as jsx25 } from \"react/jsx-runtime\";\nvar getClassName15 = get_class_name_factory_default(\"InlineTextField\", styles_module_default11);\nvar InlineTextFieldInternal = ({\n  propPath,\n  componentId,\n  value,\n  isReadOnly,\n  opts = {}\n}) => {\n  var _a;\n  const ref = useRef5(null);\n  const appStoreApi = useAppStoreApi();\n  const disableLineBreaks = (_a = opts.disableLineBreaks) != null ? _a : false;\n  useEffect13(() => {\n    const appStore = appStoreApi.getState();\n    const data = appStore.state.indexes.nodes[componentId].data;\n    const componentConfig = appStore.getComponentConfig(data.type);\n    if (!componentConfig) {\n      throw new Error(\n        `InlineTextField Error: No config defined for ${data.type}`\n      );\n    }\n    if (ref.current) {\n      if (value !== ref.current.innerText) {\n        ref.current.replaceChildren(value);\n      }\n      const cleanupPortal = registerOverlayPortal(ref.current);\n      const handleInput = (e) => __async(null, null, function* () {\n        var _a2;\n        const appStore2 = appStoreApi.getState();\n        const node = appStore2.state.indexes.nodes[componentId];\n        const zoneCompound = `${node.parentId}:${node.zone}`;\n        const index = (_a2 = appStore2.state.indexes.zones[zoneCompound]) == null ? void 0 : _a2.contentIds.indexOf(\n          componentId\n        );\n        let value2 = e.target.innerText;\n        if (disableLineBreaks) {\n          value2 = value2.replaceAll(/\\n/gm, \"\");\n        }\n        const newProps = setDeep(node.data.props, propPath, value2);\n        const resolvedData = yield appStore2.resolveComponentData(\n          __spreadProps(__spreadValues({}, node.data), { props: newProps }),\n          \"replace\"\n        );\n        appStore2.dispatch({\n          type: \"replace\",\n          data: resolvedData.node,\n          destinationIndex: index,\n          destinationZone: zoneCompound\n        });\n      });\n      ref.current.addEventListener(\"input\", handleInput);\n      return () => {\n        var _a2;\n        (_a2 = ref.current) == null ? void 0 : _a2.removeEventListener(\"input\", handleInput);\n        cleanupPortal == null ? void 0 : cleanupPortal();\n      };\n    }\n  }, [appStoreApi, ref.current, value, disableLineBreaks]);\n  const [isHovering, setIsHovering] = useState14(false);\n  const [isFocused, setIsFocused] = useState14(false);\n  return /* @__PURE__ */ jsx25(\n    \"span\",\n    {\n      className: getClassName15(),\n      ref,\n      contentEditable: isHovering || isFocused ? \"plaintext-only\" : \"false\",\n      onClick: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      onClickCapture: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const itemSelector = getSelectorForId(\n          appStoreApi.getState().state,\n          componentId\n        );\n        appStoreApi.getState().setUi({ itemSelector });\n      },\n      onKeyDown: (e) => {\n        e.stopPropagation();\n        if (disableLineBreaks && e.key === \"Enter\" || isReadOnly) {\n          e.preventDefault();\n        }\n      },\n      onKeyUp: (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n      },\n      onMouseOverCapture: () => setIsHovering(true),\n      onMouseOutCapture: () => setIsHovering(false),\n      onFocus: () => setIsFocused(true),\n      onBlur: () => setIsFocused(false)\n    }\n  );\n};\nvar InlineTextField = memo4(InlineTextFieldInternal);\n\n// lib/field-transforms/default-transforms/inline-text-transform.tsx\nimport { jsx as jsx26 } from \"react/jsx-runtime\";\nvar getInlineTextTransform = () => ({\n  text: ({ value, componentId, field, propPath, isReadOnly }) => {\n    if (field.contentEditable) {\n      return /* @__PURE__ */ jsx26(\n        InlineTextField,\n        {\n          propPath,\n          componentId,\n          value,\n          opts: { disableLineBreaks: true },\n          isReadOnly\n        }\n      );\n    }\n    return value;\n  },\n  textarea: ({ value, componentId, field, propPath, isReadOnly }) => {\n    if (field.contentEditable) {\n      return /* @__PURE__ */ jsx26(\n        InlineTextField,\n        {\n          propPath,\n          componentId,\n          value,\n          isReadOnly\n        }\n      );\n    }\n    return value;\n  },\n  custom: ({ value, componentId, field, propPath, isReadOnly }) => {\n    if (field.contentEditable && typeof value === \"string\") {\n      return /* @__PURE__ */ jsx26(\n        InlineTextField,\n        {\n          propPath,\n          componentId,\n          value,\n          isReadOnly\n        }\n      );\n    }\n    return value;\n  }\n});\n\n// lib/field-transforms/default-transforms/rich-text-transform.tsx\ninit_react_import();\nimport {\n  useEffect as useEffect14,\n  useRef as useRef6,\n  useCallback as useCallback10,\n  memo as memo5,\n  lazy as lazy2,\n  Suspense as Suspense2\n} from \"react\";\nimport { jsx as jsx27 } from \"react/jsx-runtime\";\nvar Editor2 = lazy2(\n  () => import(\"./Editor-NK3TZSR6.mjs\").then((m) => ({\n    default: m.Editor\n  }))\n);\nvar RichTextRender = lazy2(\n  () => import(\"./Render-CU35UAWV.mjs\").then((m) => ({\n    default: m.RichTextRender\n  }))\n);\nvar InlineEditorWrapper = memo5(\n  ({\n    value,\n    componentId,\n    propPath,\n    field,\n    id\n  }) => {\n    const portalRef = useRef6(null);\n    const appStoreApi = useAppStoreApi();\n    const onClickHandler = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n    const onClickCaptureHandler = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      const itemSelector = getSelectorForId(\n        appStoreApi.getState().state,\n        componentId\n      );\n      appStoreApi.getState().setUi({ itemSelector });\n    };\n    useEffect14(() => {\n      if (!portalRef.current) return;\n      const cleanup = registerOverlayPortal(portalRef.current, {\n        disableDragOnFocus: true\n      });\n      return () => cleanup == null ? void 0 : cleanup();\n    }, [portalRef.current]);\n    const handleChange = useCallback10(\n      (content, ui) => __async(null, null, function* () {\n        var _a;\n        const appStore = appStoreApi.getState();\n        const node = appStore.state.indexes.nodes[componentId];\n        const zoneCompound = `${node.parentId}:${node.zone}`;\n        const index = (_a = appStore.state.indexes.zones[zoneCompound]) == null ? void 0 : _a.contentIds.indexOf(\n          componentId\n        );\n        const newProps = setDeep(node.data.props, propPath, content);\n        const resolvedData = yield appStore.resolveComponentData(\n          __spreadProps(__spreadValues({}, node.data), { props: newProps }),\n          \"replace\"\n        );\n        appStore.dispatch({\n          type: \"replace\",\n          data: resolvedData.node,\n          destinationIndex: index,\n          destinationZone: zoneCompound,\n          ui\n        });\n      }),\n      [appStoreApi, componentId, propPath]\n    );\n    const handleFocus = useCallback10(\n      (editor) => {\n        appStoreApi.setState({\n          currentRichText: {\n            inlineComponentId: componentId,\n            inline: true,\n            field,\n            editor,\n            id\n          }\n        });\n      },\n      [field, componentId]\n    );\n    if (!field.contentEditable)\n      return /* @__PURE__ */ jsx27(Suspense2, { fallback: /* @__PURE__ */ jsx27(RichTextRenderFallback, { content: value }), children: /* @__PURE__ */ jsx27(RichTextRender, { content: value, field }) });\n    const editorProps = {\n      content: value,\n      onChange: handleChange,\n      field,\n      inline: true,\n      onFocus: handleFocus,\n      id,\n      name: propPath\n    };\n    return /* @__PURE__ */ jsx27(\n      \"div\",\n      {\n        ref: portalRef,\n        onClick: onClickHandler,\n        onClickCapture: onClickCaptureHandler,\n        children: /* @__PURE__ */ jsx27(Suspense2, { fallback: /* @__PURE__ */ jsx27(EditorFallback, __spreadValues({}, editorProps)), children: /* @__PURE__ */ jsx27(Editor2, __spreadValues({}, editorProps)) })\n      }\n    );\n  }\n);\nInlineEditorWrapper.displayName = \"InlineEditorWrapper\";\nvar getRichTextTransform = () => ({\n  richtext: ({ value, componentId, field, propPath, isReadOnly }) => {\n    const { contentEditable = true, tiptap } = field;\n    if (contentEditable === false || isReadOnly) {\n      return /* @__PURE__ */ jsx27(RichTextRender, { content: value, field });\n    }\n    const id = `${componentId}_${field.type}_${propPath}`;\n    return /* @__PURE__ */ jsx27(\n      InlineEditorWrapper,\n      {\n        value,\n        componentId,\n        propPath,\n        field,\n        id\n      },\n      id\n    );\n  }\n});\n\n// components/MemoizeComponent/index.tsx\ninit_react_import();\nimport { deepEqual } from \"fast-equals\";\nimport { memo as memo6 } from \"react\";\n\n// lib/shallow-equal.ts\ninit_react_import();\nfunction shallowEqual(obj1, obj2, keysToIgnore = []) {\n  if (Object.is(obj1, obj2)) return true;\n  if (typeof obj1 !== \"object\" || obj1 === null || typeof obj2 !== \"object\" || obj2 === null) {\n    return false;\n  }\n  if (Object.getPrototypeOf(obj1) !== Object.getPrototypeOf(obj2)) {\n    return false;\n  }\n  const ignore = new Set(keysToIgnore);\n  const keys1 = Object.keys(obj1).filter((k) => !ignore.has(k));\n  const keys2 = Object.keys(obj2).filter((k) => !ignore.has(k));\n  if (keys1.length !== keys2.length) return false;\n  for (let i = 0; i < keys1.length; i++) {\n    const currKey = keys1[i];\n    if (!Object.prototype.hasOwnProperty.call(obj2, currKey)) return false;\n    const val1 = obj1[currKey];\n    const val2 = obj2[currKey];\n    if (!Object.is(val1, val2)) return false;\n  }\n  return true;\n}\n\n// components/MemoizeComponent/index.tsx\nimport { jsx as jsx28 } from \"react/jsx-runtime\";\nvar RenderComponent = ({\n  Component,\n  componentProps: renderProps\n}) => {\n  return /* @__PURE__ */ jsx28(Component, __spreadValues({}, renderProps));\n};\nvar MemoizeComponent = memo6(RenderComponent, (prev, next) => {\n  let puckEquals = true;\n  if (\"puck\" in prev.componentProps && \"puck\" in next.componentProps) {\n    puckEquals = deepEqual(prev.componentProps.puck, next.componentProps.puck);\n  }\n  return prev.Component === next.Component && shallowEqual(prev.componentProps, next.componentProps, [\"puck\"]) && puckEquals;\n});\n\n// components/DropZone/index.tsx\nimport { Fragment as Fragment8, jsx as jsx29, jsxs as jsxs8 } from \"react/jsx-runtime\";\nvar getClassName16 = get_class_name_factory_default(\"DropZone\", styles_module_default10);\nvar getRandomColor = () => `#${Math.floor(Math.random() * 16777215).toString(16)}`;\nvar RENDER_DEBUG = false;\nvar InsertPreview = ({\n  element,\n  label,\n  override\n}) => {\n  if (element) {\n    return (\n      // Safe to use this since the HTML is set by the user\n      /* @__PURE__ */ jsx29(\"div\", { dangerouslySetInnerHTML: { __html: element.outerHTML } })\n    );\n  }\n  return /* @__PURE__ */ jsx29(DrawerItemInner, { name: label, children: override });\n};\nvar DropZoneEditPure = (props) => /* @__PURE__ */ jsx29(DropZoneEdit, __spreadValues({}, props));\nvar DropZoneChild = ({\n  zoneCompound,\n  componentId,\n  index,\n  dragAxis,\n  collisionAxis,\n  inDroppableZone\n}) => {\n  var _a, _b;\n  const metadata = useAppStore((s) => s.metadata);\n  const ctx = useContext7(dropZoneContext);\n  const { depth = 1 } = ctx != null ? ctx : {};\n  const zoneStore = useContext7(ZoneStoreContext);\n  const nodeProps = useAppStore(\n    useShallow6((s) => {\n      var _a2;\n      return (_a2 = s.state.indexes.nodes[componentId]) == null ? void 0 : _a2.flatData.props;\n    })\n  );\n  const nodeType = useAppStore(\n    (s) => {\n      var _a2;\n      return (_a2 = s.state.indexes.nodes[componentId]) == null ? void 0 : _a2.data.type;\n    }\n  );\n  const nodeReadOnly = useAppStore(\n    useShallow6((s) => {\n      var _a2;\n      return (_a2 = s.state.indexes.nodes[componentId]) == null ? void 0 : _a2.data.readOnly;\n    })\n  );\n  const appStore = useAppStoreApi();\n  const item = useMemo10(() => {\n    if (nodeProps) {\n      const expanded = expandNode({\n        type: nodeType,\n        props: nodeProps\n      });\n      return expanded;\n    }\n    const preview = zoneStore.getState().previewIndex[zoneCompound];\n    if (componentId === (preview == null ? void 0 : preview.props.id)) {\n      return {\n        type: preview.componentType,\n        props: preview.props,\n        previewType: preview.type,\n        element: preview.element\n      };\n    }\n    return null;\n  }, [appStore, componentId, zoneCompound, nodeType, nodeProps]);\n  const componentConfig = useAppStore(\n    (s) => (item == null ? void 0 : item.type) ? s.config.components[item.type] : null\n  );\n  const puckProps = useMemo10(\n    () => ({\n      renderDropZone: DropZoneEditPure,\n      isEditing: true,\n      dragRef: null,\n      metadata: __spreadValues(__spreadValues({}, metadata), componentConfig == null ? void 0 : componentConfig.metadata)\n    }),\n    [metadata, componentConfig == null ? void 0 : componentConfig.metadata]\n  );\n  const overrides = useAppStore((s) => s.overrides);\n  const isLoading = useAppStore(\n    (s) => {\n      var _a2;\n      return ((_a2 = s.componentState[componentId]) == null ? void 0 : _a2.loadingCount) > 0;\n    }\n  );\n  const isSelected = useAppStore(\n    (s) => {\n      var _a2;\n      return ((_a2 = s.selectedItem) == null ? void 0 : _a2.props.id) === componentId || false;\n    }\n  );\n  let label = (_b = (_a = componentConfig == null ? void 0 : componentConfig.label) != null ? _a : item == null ? void 0 : item.type.toString()) != null ? _b : \"Component\";\n  const defaultsProps = useMemo10(\n    () => __spreadProps(__spreadValues(__spreadValues({}, componentConfig == null ? void 0 : componentConfig.defaultProps), item == null ? void 0 : item.props), {\n      puck: puckProps,\n      editMode: true\n      // DEPRECATED\n    }),\n    [componentConfig == null ? void 0 : componentConfig.defaultProps, item == null ? void 0 : item.props, puckProps]\n  );\n  const defaultedNode = useMemo10(\n    () => {\n      var _a2;\n      return { type: (_a2 = item == null ? void 0 : item.type) != null ? _a2 : nodeType, props: defaultsProps };\n    },\n    [item == null ? void 0 : item.type, nodeType, defaultsProps]\n  );\n  const config = useAppStore((s) => s.config);\n  const plugins = useAppStore((s) => s.plugins);\n  const userFieldTransforms = useAppStore((s) => s.fieldTransforms);\n  const combinedFieldTransforms = useMemo10(\n    () => __spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, getSlotTransform(DropZoneEditPure, (slotProps) => /* @__PURE__ */ jsx29(ContextSlotRender, { componentId, zone: slotProps.zone }))), getInlineTextTransform()), getRichTextTransform()), plugins.reduce(\n      (acc, plugin) => __spreadValues(__spreadValues({}, acc), plugin.fieldTransforms),\n      {}\n    )), userFieldTransforms),\n    [plugins, userFieldTransforms]\n  );\n  const transformedProps = useFieldTransformsTracked(\n    config,\n    defaultedNode,\n    combinedFieldTransforms,\n    nodeReadOnly,\n    isLoading\n  );\n  if (!item) return;\n  const Render2 = componentConfig ? componentConfig.render : () => /* @__PURE__ */ jsxs8(\"div\", { style: { padding: 48, textAlign: \"center\" }, children: [\n    \"No configuration for \",\n    item.type\n  ] });\n  let componentType = item.type;\n  const isInserting = \"previewType\" in item ? item.previewType === \"insert\" : false;\n  return /* @__PURE__ */ jsx29(\n    DraggableComponent,\n    {\n      id: componentId,\n      componentType,\n      zoneCompound,\n      depth: depth + 1,\n      index,\n      isLoading,\n      isSelected,\n      label,\n      autoDragAxis: dragAxis,\n      userDragAxis: collisionAxis,\n      inDroppableZone,\n      children: (dragRef) => {\n        var _a2;\n        if ((componentConfig == null ? void 0 : componentConfig.inline) && !isInserting) {\n          return /* @__PURE__ */ jsx29(\n            MemoizeComponent,\n            {\n              Component: Render2,\n              componentProps: __spreadProps(__spreadValues({}, transformedProps), {\n                puck: __spreadProps(__spreadValues({}, transformedProps.puck), { dragRef })\n              })\n            }\n          );\n        }\n        return /* @__PURE__ */ jsx29(\"div\", { ref: dragRef, children: isInserting ? /* @__PURE__ */ jsx29(\n          InsertPreview,\n          {\n            label,\n            override: (_a2 = overrides.componentItem) != null ? _a2 : overrides.drawerItem,\n            element: \"element\" in item && item.element ? item.element : void 0\n          }\n        ) : /* @__PURE__ */ jsx29(\n          MemoizeComponent,\n          {\n            Component: Render2,\n            componentProps: transformedProps\n          }\n        ) });\n      }\n    }\n  );\n};\nvar DropZoneChildMemo = memo7(DropZoneChild);\nvar DropZoneEdit = forwardRef(\n  function DropZoneEditInternal({\n    zone,\n    allow,\n    disallow,\n    style,\n    className,\n    minEmptyHeight: userMinEmptyHeight = \"128px\",\n    collisionAxis,\n    as\n  }, userRef) {\n    const ctx = useContext7(dropZoneContext);\n    const appStoreApi = useAppStoreApi();\n    const {\n      // These all need setting via context\n      areaId,\n      depth = 0,\n      registerLocalZone,\n      unregisterLocalZone\n    } = ctx != null ? ctx : {};\n    const path = useAppStore(\n      useShallow6((s) => {\n        var _a;\n        return areaId ? (_a = s.state.indexes.nodes[areaId]) == null ? void 0 : _a.path : null;\n      })\n    );\n    let zoneCompound = rootDroppableId;\n    if (areaId) {\n      if (zone !== rootDroppableId) {\n        zoneCompound = `${areaId}:${zone}`;\n      }\n    }\n    const isRootZone = zoneCompound === rootDroppableId || zone === rootDroppableId || areaId === \"root\";\n    const inNextDeepestArea = useContextStore(\n      ZoneStoreContext,\n      (s) => s.nextAreaDepthIndex[areaId || \"\"]\n    );\n    const zoneContentIds = useAppStore(\n      useShallow6((s) => {\n        var _a;\n        return (_a = s.state.indexes.zones[zoneCompound]) == null ? void 0 : _a.contentIds;\n      })\n    );\n    const zoneType = useAppStore(\n      useShallow6((s) => {\n        var _a;\n        return (_a = s.state.indexes.zones[zoneCompound]) == null ? void 0 : _a.type;\n      })\n    );\n    useEffect15(() => {\n      if (!zoneType || zoneType === \"dropzone\") {\n        if (ctx == null ? void 0 : ctx.registerZone) {\n          ctx == null ? void 0 : ctx.registerZone(zoneCompound);\n        }\n      }\n    }, [zoneType, appStoreApi]);\n    useEffect15(() => {\n      if (zoneType === \"dropzone\") {\n        if (zoneCompound !== rootDroppableId) {\n          console.warn(\n            \"DropZones have been deprecated in favor of slot fields and will be removed in a future version of Puck. Please see the migration guide: https://www.puckeditor.com/docs/guides/migrations/dropzones-to-slots\"\n          );\n        }\n      }\n    }, [zoneType]);\n    const contentIds = useMemo10(() => {\n      return zoneContentIds || [];\n    }, [zoneContentIds]);\n    const ref = useRef7(null);\n    const acceptsTarget = useCallback11(\n      (componentType) => {\n        if (!componentType) {\n          return true;\n        }\n        if (disallow) {\n          const defaultedAllow = allow || [];\n          const filteredDisallow = (disallow || []).filter(\n            (item) => defaultedAllow.indexOf(item) === -1\n          );\n          if (filteredDisallow.indexOf(componentType) !== -1) {\n            return false;\n          }\n        } else if (allow) {\n          if (allow.indexOf(componentType) === -1) {\n            return false;\n          }\n        }\n        return true;\n      },\n      [allow, disallow]\n    );\n    const targetAccepted = useContextStore(ZoneStoreContext, (s) => {\n      var _a;\n      const draggedComponentType = (_a = s.draggedItem) == null ? void 0 : _a.data.componentType;\n      return acceptsTarget(draggedComponentType);\n    });\n    const hoveringOverArea = inNextDeepestArea || isRootZone;\n    const isEnabled = useContextStore(ZoneStoreContext, (s) => {\n      var _a;\n      let _isEnabled = true;\n      const isDeepestZone = (_a = s.zoneDepthIndex[zoneCompound]) != null ? _a : false;\n      _isEnabled = isDeepestZone;\n      if (_isEnabled) {\n        _isEnabled = targetAccepted;\n      }\n      return _isEnabled;\n    });\n    useEffect15(() => {\n      if (registerLocalZone) {\n        registerLocalZone(zoneCompound, targetAccepted || isEnabled);\n      }\n      return () => {\n        if (unregisterLocalZone) {\n          unregisterLocalZone(zoneCompound);\n        }\n      };\n    }, [targetAccepted, isEnabled, zoneCompound]);\n    const [contentIdsWithPreview, preview] = useContentIdsWithPreview(\n      contentIds,\n      zoneCompound\n    );\n    const isDropEnabled = isEnabled && (preview ? contentIdsWithPreview.length === 1 : contentIdsWithPreview.length === 0);\n    const zoneStore = useContext7(ZoneStoreContext);\n    useEffect15(() => {\n      const { enabledIndex } = zoneStore.getState();\n      zoneStore.setState({\n        enabledIndex: __spreadProps(__spreadValues({}, enabledIndex), { [zoneCompound]: isEnabled })\n      });\n    }, [isEnabled, zoneStore, zoneCompound]);\n    const droppableConfig = {\n      id: zoneCompound,\n      collisionPriority: isEnabled ? depth : 0,\n      disabled: !isDropEnabled,\n      collisionDetector: pointerIntersection,\n      type: \"dropzone\",\n      data: {\n        areaId,\n        depth,\n        isDroppableTarget: targetAccepted,\n        path: path || []\n      }\n    };\n    const { ref: dropRef } = useDroppable(droppableConfig);\n    const isAreaSelected = useAppStore(\n      (s) => (s == null ? void 0 : s.selectedItem) && areaId === (s == null ? void 0 : s.selectedItem.props.id)\n    );\n    const [dragAxis] = useDragAxis(ref, collisionAxis);\n    const [minEmptyHeight, isAnimating] = useMinEmptyHeight({\n      zoneCompound,\n      userMinEmptyHeight,\n      ref\n    });\n    const setRefs = useCallback11(\n      (node) => {\n        assignRefs([ref, dropRef, userRef], node);\n      },\n      [dropRef]\n    );\n    const El = as != null ? as : \"div\";\n    return /* @__PURE__ */ jsx29(\n      El,\n      {\n        className: `${getClassName16({\n          isRootZone,\n          hoveringOverArea,\n          isEnabled,\n          isAreaSelected,\n          hasChildren: contentIds.length > 0,\n          isAnimating\n        })}${className ? ` ${className}` : \"\"}`,\n        ref: setRefs,\n        \"data-testid\": `dropzone:${zoneCompound}`,\n        \"data-puck-dropzone\": zoneCompound,\n        style: __spreadProps(__spreadValues({}, style), {\n          \"--min-empty-height\": minEmptyHeight,\n          backgroundColor: RENDER_DEBUG ? getRandomColor() : style == null ? void 0 : style.backgroundColor\n        }),\n        children: contentIdsWithPreview.map((componentId, i) => {\n          return /* @__PURE__ */ jsx29(\n            DropZoneChildMemo,\n            {\n              zoneCompound,\n              componentId,\n              dragAxis,\n              index: i,\n              collisionAxis,\n              inDroppableZone: targetAccepted\n            },\n            componentId\n          );\n        })\n      }\n    );\n  }\n);\nvar DropZoneRenderItem = ({\n  config,\n  item,\n  metadata\n}) => {\n  const Component = config.components[item.type];\n  const props = useSlots(config, item, (slotProps) => /* @__PURE__ */ jsx29(SlotRenderPure, __spreadProps(__spreadValues({}, slotProps), { config, metadata })));\n  const nextContextValue = useMemo10(\n    () => ({\n      areaId: props.id,\n      depth: 1\n    }),\n    [props]\n  );\n  const richtextProps = useRichtextProps(Component.fields, props);\n  return /* @__PURE__ */ jsx29(DropZoneProvider, { value: nextContextValue, children: /* @__PURE__ */ jsx29(\n    Component.render,\n    __spreadProps(__spreadValues(__spreadValues({}, props), richtextProps), {\n      puck: __spreadProps(__spreadValues({}, props.puck), {\n        renderDropZone: DropZoneRenderPure,\n        metadata: __spreadValues(__spreadValues({}, metadata), Component.metadata)\n      })\n    })\n  ) }, props.id);\n};\nvar DropZoneRenderPure = (props) => /* @__PURE__ */ jsx29(DropZoneRender, __spreadValues({}, props));\nvar DropZoneRender = forwardRef(\n  function DropZoneRenderInternal({ className, style, zone, as }, ref) {\n    const ctx = useContext7(dropZoneContext);\n    const { areaId = \"root\" } = ctx || {};\n    const { config, data, metadata } = useContext7(renderContext);\n    let zoneCompound = `${areaId}:${zone}`;\n    let content = (data == null ? void 0 : data.content) || [];\n    useEffect15(() => {\n      if (!content) {\n        if (ctx == null ? void 0 : ctx.registerZone) {\n          ctx == null ? void 0 : ctx.registerZone(zoneCompound);\n        }\n      }\n    }, [content]);\n    const El = as != null ? as : \"div\";\n    if (!data || !config) {\n      return null;\n    }\n    if (zoneCompound !== rootDroppableId) {\n      content = setupZone(data, zoneCompound).zones[zoneCompound];\n    }\n    return /* @__PURE__ */ jsx29(El, { className, style, ref, children: content.map((item) => {\n      const Component = config.components[item.type];\n      if (Component) {\n        return /* @__PURE__ */ jsx29(\n          DropZoneRenderItem,\n          {\n            config,\n            item,\n            metadata\n          },\n          item.props.id\n        );\n      }\n      return null;\n    }) });\n  }\n);\nvar DropZonePure = (props) => /* @__PURE__ */ jsx29(DropZone, __spreadValues({}, props));\nvar DropZone = forwardRef(\n  function DropZone2(props, ref) {\n    const ctx = useContext7(dropZoneContext);\n    if ((ctx == null ? void 0 : ctx.mode) === \"edit\") {\n      return /* @__PURE__ */ jsx29(Fragment8, { children: /* @__PURE__ */ jsx29(DropZoneEdit, __spreadProps(__spreadValues({}, props), { ref })) });\n    }\n    return /* @__PURE__ */ jsx29(Fragment8, { children: /* @__PURE__ */ jsx29(DropZoneRender, __spreadProps(__spreadValues({}, props), { ref })) });\n  }\n);\n\n// lib/dnd/NestedDroppablePlugin.ts\ninit_react_import();\nimport { Plugin } from \"@dnd-kit/abstract\";\n\n// lib/throttle.ts\ninit_react_import();\nfunction timeout2(callback, duration) {\n  const id = setTimeout(callback, duration);\n  return () => clearTimeout(id);\n}\nfunction throttle(func, limit) {\n  const time = () => performance.now();\n  let cancel;\n  let lastRan = 0;\n  return function(...args) {\n    const now = time();\n    const context = this;\n    if (now - lastRan >= limit) {\n      func.apply(context, args);\n      lastRan = now;\n    } else {\n      cancel == null ? void 0 : cancel();\n      cancel = timeout2(() => {\n        func.apply(context, args);\n        lastRan = time();\n      }, limit - (now - lastRan));\n    }\n  };\n}\n\n// lib/get-frame.ts\ninit_react_import();\nvar getFrame = () => {\n  if (typeof window === \"undefined\") return;\n  let frameEl = document.querySelector(\"#preview-frame\");\n  if ((frameEl == null ? void 0 : frameEl.tagName) === \"IFRAME\") {\n    return frameEl.contentDocument || document;\n  }\n  return (frameEl == null ? void 0 : frameEl.ownerDocument) || document;\n};\n\n// lib/global-position.ts\ninit_react_import();\nvar GlobalPosition = class {\n  constructor(target, original) {\n    this.scaleFactor = 1;\n    this.frameEl = null;\n    this.frameRect = null;\n    var _a;\n    this.target = target;\n    this.original = original;\n    this.frameEl = document.querySelector(\"iframe#preview-frame\");\n    if (this.frameEl) {\n      this.frameRect = this.frameEl.getBoundingClientRect();\n      this.scaleFactor = this.frameRect.width / (((_a = this.frameEl.contentWindow) == null ? void 0 : _a.innerWidth) || 1);\n    }\n  }\n  get x() {\n    return this.original.x;\n  }\n  get y() {\n    return this.original.y;\n  }\n  get global() {\n    if (document !== this.target.ownerDocument && this.frameRect) {\n      return {\n        x: this.x * this.scaleFactor + this.frameRect.left,\n        y: this.y * this.scaleFactor + this.frameRect.top\n      };\n    }\n    return this.original;\n  }\n  get frame() {\n    if (document === this.target.ownerDocument && this.frameRect) {\n      return {\n        x: (this.x - this.frameRect.left) / this.scaleFactor,\n        y: (this.y - this.frameRect.top) / this.scaleFactor\n      };\n    }\n    return this.original;\n  }\n};\n\n// lib/bubble-pointer-event.ts\ninit_react_import();\nvar BaseEvent = typeof PointerEvent !== \"undefined\" ? PointerEvent : Event;\nvar BubbledPointerEvent = class extends BaseEvent {\n  constructor(type, data) {\n    super(type, data);\n    this._originalTarget = null;\n    this.originalTarget = data.originalTarget;\n  }\n  // Necessary for Firefox\n  set originalTarget(target) {\n    this._originalTarget = target;\n  }\n  // Necessary for Firefox\n  get originalTarget() {\n    return this._originalTarget;\n  }\n};\n\n// lib/dnd/NestedDroppablePlugin.ts\nvar depthSort = (candidates) => {\n  return candidates.sort((a, b) => {\n    const aData = a.data;\n    const bData = b.data;\n    if (aData.depth > bData.depth) {\n      return 1;\n    }\n    if (bData.depth > aData.depth) {\n      return -1;\n    }\n    return 0;\n  });\n};\nvar getZoneId = (candidate) => {\n  let id = candidate == null ? void 0 : candidate.id;\n  if (!candidate) return null;\n  if (candidate.type === \"component\") {\n    const data = candidate.data;\n    if (data.containsActiveZone) {\n      id = null;\n    } else {\n      id = data.zone;\n    }\n  } else if (candidate.type === \"void\") {\n    return \"void\";\n  }\n  return id;\n};\nvar BUFFER = 6;\nvar getPointerCollisions = (position, manager) => {\n  const candidates = [];\n  let elements = position.target.ownerDocument.elementsFromPoint(\n    position.x,\n    position.y\n  );\n  const previewFrame = elements.find(\n    (el) => el.getAttribute(\"data-puck-preview\")\n  );\n  const drawer = elements.find((el) => el.getAttribute(\"data-puck-drawer\"));\n  if (drawer) {\n    elements = [drawer];\n  }\n  if (previewFrame) {\n    const frame = getFrame();\n    if (frame) {\n      elements = frame.elementsFromPoint(position.frame.x, position.frame.y);\n    }\n  }\n  if (elements) {\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      const dropzoneId = element.getAttribute(\"data-puck-dropzone\");\n      const id = element.getAttribute(\"data-puck-dnd\");\n      const isVoid = element.hasAttribute(\"data-puck-dnd-void\");\n      if (BUFFER && (dropzoneId || id) && !isVoid) {\n        const box = element.getBoundingClientRect();\n        const contractedBox = {\n          left: box.left + BUFFER,\n          right: box.right - BUFFER,\n          top: box.top + BUFFER,\n          bottom: box.bottom - BUFFER\n        };\n        if (position.frame.x < contractedBox.left || position.frame.x > contractedBox.right || position.frame.y > contractedBox.bottom || position.frame.y < contractedBox.top) {\n          continue;\n        }\n      }\n      if (dropzoneId) {\n        const droppable = manager.registry.droppables.get(dropzoneId);\n        if (droppable) {\n          candidates.push(droppable);\n        }\n      }\n      if (id) {\n        const droppable = manager.registry.droppables.get(id);\n        if (droppable) {\n          candidates.push(droppable);\n        }\n      }\n    }\n  }\n  return candidates;\n};\nvar findDeepestCandidate = (position, manager) => {\n  var _a;\n  const candidates = getPointerCollisions(position, manager);\n  if (candidates.length > 0) {\n    const sortedCandidates = depthSort(candidates);\n    const draggable = manager.dragOperation.source;\n    const draggedCandidateIndex = sortedCandidates.findIndex(\n      (candidate) => candidate.id === (draggable == null ? void 0 : draggable.id)\n    );\n    const draggedCandidateId = draggable == null ? void 0 : draggable.id;\n    let filteredCandidates = [...sortedCandidates];\n    if (draggedCandidateId && draggedCandidateIndex > -1) {\n      filteredCandidates.splice(draggedCandidateIndex, 1);\n    }\n    filteredCandidates = filteredCandidates.filter((candidate) => {\n      const candidateData = candidate.data;\n      if (draggedCandidateId && draggedCandidateIndex > -1) {\n        if (candidateData.path.indexOf(draggedCandidateId) > -1) {\n          return false;\n        }\n      }\n      if (candidate.type === \"dropzone\") {\n        const candidateData2 = candidate.data;\n        if (!candidateData2.isDroppableTarget) {\n          return false;\n        }\n        if (candidateData2.areaId === draggedCandidateId) {\n          return false;\n        }\n      } else if (candidate.type === \"component\") {\n        const candidateData2 = candidate.data;\n        if (!candidateData2.inDroppableZone) {\n          return false;\n        }\n      }\n      return true;\n    });\n    filteredCandidates.reverse();\n    const primaryCandidate = filteredCandidates[0];\n    if (!primaryCandidate) return { zone: null, area: null };\n    const primaryCandidateData = primaryCandidate.data;\n    const primaryCandidateIsComponent = \"containsActiveZone\" in primaryCandidateData;\n    const zone = getZoneId(primaryCandidate);\n    const area = primaryCandidateIsComponent && primaryCandidateData.containsActiveZone ? filteredCandidates[0].id : (_a = filteredCandidates[0]) == null ? void 0 : _a.data.areaId;\n    return { zone, area };\n  }\n  return {\n    zone: rootDroppableId,\n    area: rootAreaId\n  };\n};\nvar createNestedDroppablePlugin = ({ onChange }, id) => class NestedDroppablePlugin extends Plugin {\n  constructor(manager, options) {\n    super(manager);\n    if (typeof window === \"undefined\") {\n      return;\n    }\n    this.registerEffect(() => {\n      const handleMove = (event) => {\n        const target = event instanceof BubbledPointerEvent ? event.originalTarget || event.target : event.target;\n        const position = new GlobalPosition(target, {\n          x: event.clientX,\n          y: event.clientY\n        });\n        const elements = document.elementsFromPoint(\n          position.global.x,\n          position.global.y\n        );\n        const overEl = elements.some((el) => el.id === id);\n        if (overEl) {\n          onChange(findDeepestCandidate(position, manager), manager);\n        }\n      };\n      const handleMoveThrottled = throttle(handleMove, 50);\n      const handlePointerMove = (event) => {\n        handleMoveThrottled(event);\n      };\n      document.body.addEventListener(\"pointermove\", handlePointerMove, {\n        capture: true\n        // dndkit's PointerSensor prevents propagation during drag\n      });\n      const cleanup = () => {\n        document.body.removeEventListener(\"pointermove\", handlePointerMove, {\n          capture: true\n        });\n      };\n      return cleanup;\n    });\n  }\n};\n\n// lib/insert-component.ts\ninit_react_import();\nvar insertComponent = (componentType, zone, index, appStore) => __async(null, null, function* () {\n  const { getState } = appStore;\n  const id = generateId(componentType);\n  const insertActionData = {\n    type: \"insert\",\n    componentType,\n    destinationIndex: index,\n    destinationZone: zone,\n    id\n  };\n  const stateBefore = getState().state;\n  const insertedState = insertAction(stateBefore, insertActionData, getState());\n  const dispatch = getState().dispatch;\n  dispatch(__spreadProps(__spreadValues({}, insertActionData), {\n    // Dispatch insert rather set, as user's may rely on this via onAction\n    // We must always record history here so the insert is added to user history\n    // If the user has defined a resolveData method, they will end up with 2 history\n    // entries on insert - one for the initial insert, and one when the data resolves\n    recordHistory: true\n  }));\n  const itemSelector = { index, zone };\n  dispatch({ type: \"setUi\", ui: { itemSelector } });\n  const itemData = getItem(itemSelector, insertedState);\n  if (!itemData) return;\n  const resolveComponentData = getState().resolveComponentData;\n  const resolved = yield resolveComponentData(itemData, \"insert\");\n  if (!resolved.didChange) return;\n  const latestItemSelector = getSelectorForId(getState().state, id);\n  if (!latestItemSelector) return;\n  dispatch({\n    type: \"replace\",\n    destinationZone: latestItemSelector.zone,\n    destinationIndex: latestItemSelector.index,\n    data: resolved.node\n  });\n});\n\n// lib/move-component.ts\ninit_react_import();\nvar moveComponent = (id, sourceSelector, destinationSelector, appStore) => __async(null, null, function* () {\n  var _a, _b, _c, _d;\n  const dispatch = appStore.getState().dispatch;\n  dispatch({\n    type: \"move\",\n    sourceIndex: sourceSelector.index,\n    sourceZone: (_a = sourceSelector.zone) != null ? _a : rootDroppableId,\n    destinationIndex: destinationSelector.index,\n    destinationZone: (_b = destinationSelector.zone) != null ? _b : rootDroppableId,\n    recordHistory: false\n  });\n  const componentData = (_c = appStore.getState().state.indexes.nodes[id]) == null ? void 0 : _c.data;\n  if (!componentData) return;\n  const resolveComponentData = appStore.getState().resolveComponentData;\n  const resolvedData = yield resolveComponentData(componentData, \"move\");\n  const latestItemSelector = getSelectorForId(\n    appStore.getState().state,\n    componentData.props.id\n  );\n  if (!latestItemSelector) return;\n  if (resolvedData.didChange)\n    dispatch({\n      type: \"replace\",\n      data: resolvedData.node,\n      destinationIndex: latestItemSelector.index,\n      destinationZone: (_d = latestItemSelector.zone) != null ? _d : rootDroppableId\n    });\n});\n\n// components/DragDropContext/index.tsx\nimport { useDebouncedCallback } from \"use-debounce\";\nimport { createStore as createStore4 } from \"zustand\";\n\n// lib/get-deep-dir.ts\ninit_react_import();\nfunction getDeepDir(el) {\n  function findDir(node) {\n    if (!node) return \"ltr\";\n    const d = node.getAttribute(\"dir\");\n    return d || findDir(node.parentElement);\n  }\n  return el ? findDir(el) : \"ltr\";\n}\n\n// components/DragDropContext/index.tsx\nimport { effect } from \"@dnd-kit/state\";\nimport { jsx as jsx30 } from \"react/jsx-runtime\";\nvar DEBUG3 = false;\nvar dragListenerContext = createContext4({\n  dragListeners: {}\n});\nfunction useDragListener(type, fn, deps = []) {\n  const { setDragListeners } = useContext8(dragListenerContext);\n  useEffect16(() => {\n    if (setDragListeners) {\n      setDragListeners((old) => __spreadProps(__spreadValues({}, old), {\n        [type]: [...old[type] || [], fn]\n      }));\n    }\n  }, deps);\n}\nvar AREA_CHANGE_DEBOUNCE_MS = 100;\nvar useTempDisableFallback = (timeout3) => {\n  const lastFallbackDisable = useRef8(null);\n  return useCallback12((manager) => {\n    collisionStore.setState({ fallbackEnabled: false });\n    const fallbackId = generateId();\n    lastFallbackDisable.current = fallbackId;\n    setTimeout(() => {\n      if (lastFallbackDisable.current === fallbackId) {\n        collisionStore.setState({ fallbackEnabled: true });\n        manager.collisionObserver.forceUpdate(true);\n      }\n    }, timeout3);\n  }, []);\n};\nvar DragDropContextClient = ({\n  children,\n  disableAutoScroll\n}) => {\n  const dispatch = useAppStore((s) => s.dispatch);\n  const instanceId = useAppStore((s) => s.instanceId);\n  const appStore = useAppStoreApi();\n  const debouncedParamsRef = useRef8(null);\n  const tempDisableFallback = useTempDisableFallback(100);\n  const [zoneStore] = useState15(\n    () => createStore4(() => ({\n      zoneDepthIndex: {},\n      nextZoneDepthIndex: {},\n      areaDepthIndex: {},\n      nextAreaDepthIndex: {},\n      draggedItem: null,\n      previewIndex: {},\n      enabledIndex: {},\n      hoveringComponent: null\n    }))\n  );\n  const getChanged = useCallback12(\n    (params) => {\n      const { zoneDepthIndex = {}, areaDepthIndex = {} } = zoneStore.getState() || {};\n      const stateHasZone = Object.keys(zoneDepthIndex).length > 0;\n      const stateHasArea = Object.keys(areaDepthIndex).length > 0;\n      let zoneChanged = false;\n      let areaChanged = false;\n      if (params.zone && !zoneDepthIndex[params.zone]) {\n        zoneChanged = true;\n      } else if (!params.zone && stateHasZone) {\n        zoneChanged = true;\n      }\n      if (params.area && !areaDepthIndex[params.area]) {\n        areaChanged = true;\n      } else if (!params.area && stateHasArea) {\n        areaChanged = true;\n      }\n      return { zoneChanged, areaChanged };\n    },\n    [zoneStore]\n  );\n  const setDeepestAndCollide = useCallback12(\n    (params, manager) => {\n      const { zoneChanged, areaChanged } = getChanged(params);\n      if (!zoneChanged && !areaChanged) return;\n      zoneStore.setState({\n        zoneDepthIndex: params.zone ? { [params.zone]: true } : {},\n        areaDepthIndex: params.area ? { [params.area]: true } : {}\n      });\n      tempDisableFallback(manager);\n      setTimeout(() => {\n        manager.collisionObserver.forceUpdate(true);\n      }, 50);\n      debouncedParamsRef.current = null;\n    },\n    [zoneStore]\n  );\n  const setDeepestDb = useDebouncedCallback(\n    setDeepestAndCollide,\n    AREA_CHANGE_DEBOUNCE_MS\n  );\n  const cancelDb = () => {\n    setDeepestDb.cancel();\n    debouncedParamsRef.current = null;\n  };\n  useEffect16(() => {\n    if (DEBUG3) {\n      zoneStore.subscribe(\n        (s) => {\n          var _a, _b;\n          return console.log(\n            s.previewIndex,\n            (_a = Object.entries(s.zoneDepthIndex || {})[0]) == null ? void 0 : _a[0],\n            (_b = Object.entries(s.areaDepthIndex || {})[0]) == null ? void 0 : _b[0]\n          );\n        }\n      );\n    }\n  }, []);\n  const [plugins] = useState15(() => [\n    ...disableAutoScroll ? defaultPreset.plugins.filter((plugin) => plugin !== AutoScroller) : defaultPreset.plugins,\n    createNestedDroppablePlugin(\n      {\n        onChange: (params, manager) => {\n          const state = zoneStore.getState();\n          const { zoneChanged, areaChanged } = getChanged(params);\n          const isDragging = manager.dragOperation.status.dragging;\n          if (areaChanged || zoneChanged) {\n            let nextZoneDepthIndex = {};\n            let nextAreaDepthIndex = {};\n            if (params.zone) {\n              nextZoneDepthIndex = { [params.zone]: true };\n            }\n            if (params.area) {\n              nextAreaDepthIndex = { [params.area]: true };\n            }\n            zoneStore.setState({ nextZoneDepthIndex, nextAreaDepthIndex });\n          }\n          if (params.zone !== \"void\" && (state == null ? void 0 : state.zoneDepthIndex[\"void\"])) {\n            setDeepestAndCollide(params, manager);\n            return;\n          }\n          if (areaChanged) {\n            if (isDragging) {\n              const debouncedParams = debouncedParamsRef.current;\n              const isSameParams = debouncedParams && debouncedParams.area === params.area && debouncedParams.zone === params.zone;\n              if (!isSameParams) {\n                cancelDb();\n                setDeepestDb(params, manager);\n                debouncedParamsRef.current = params;\n              }\n            } else {\n              cancelDb();\n              setDeepestAndCollide(params, manager);\n            }\n            return;\n          }\n          if (zoneChanged) {\n            setDeepestAndCollide(params, manager);\n          }\n          cancelDb();\n        }\n      },\n      instanceId\n    )\n  ]);\n  const sensors = useSensors();\n  const [dragListeners, setDragListeners] = useState15({});\n  const dragMode = useRef8(null);\n  const initialSelector = useRef8(void 0);\n  const nextContextValue = useMemo11(\n    () => ({\n      mode: \"edit\",\n      areaId: \"root\",\n      depth: 0\n    }),\n    []\n  );\n  return /* @__PURE__ */ jsx30(\n    dragListenerContext.Provider,\n    {\n      value: {\n        dragListeners,\n        setDragListeners\n      },\n      children: /* @__PURE__ */ jsx30(\n        DragDropProvider2,\n        {\n          plugins,\n          sensors,\n          onDragEnd: (event, manager) => {\n            var _a, _b;\n            const entryEl = (_a = getFrame()) == null ? void 0 : _a.querySelector(\"[data-puck-entry]\");\n            entryEl == null ? void 0 : entryEl.removeAttribute(\"data-puck-dragging\");\n            const { source, target } = event.operation;\n            if (!source) {\n              zoneStore.setState({ draggedItem: null });\n              return;\n            }\n            const { zone, index } = source.data;\n            const { previewIndex = {} } = zoneStore.getState() || {};\n            const thisPreview = ((_b = previewIndex[zone]) == null ? void 0 : _b.props.id) === source.id ? previewIndex[zone] : null;\n            const onAnimationEnd = () => {\n              var _a2, _b2;\n              zoneStore.setState({ draggedItem: null });\n              if (event.canceled || (target == null ? void 0 : target.type) === \"void\") {\n                zoneStore.setState({ previewIndex: {} });\n                if (thisPreview) {\n                  zoneStore.setState({ previewIndex: {} });\n                  if (thisPreview.type === \"insert\") {\n                    insertComponent(\n                      thisPreview.componentType,\n                      thisPreview.zone,\n                      thisPreview.index,\n                      appStore\n                    );\n                  } else if (initialSelector.current) {\n                    moveComponent(\n                      thisPreview.props.id,\n                      initialSelector.current,\n                      thisPreview,\n                      appStore\n                    );\n                  }\n                }\n                dispatch({\n                  type: \"setUi\",\n                  ui: {\n                    itemSelector: null,\n                    isDragging: false\n                  }\n                });\n                (_a2 = dragListeners.dragend) == null ? void 0 : _a2.forEach((fn) => {\n                  fn(event, manager);\n                });\n                return;\n              }\n              if (thisPreview) {\n                zoneStore.setState({ previewIndex: {} });\n                if (thisPreview.type === \"insert\") {\n                  insertComponent(\n                    thisPreview.componentType,\n                    thisPreview.zone,\n                    thisPreview.index,\n                    appStore\n                  );\n                } else if (initialSelector.current) {\n                  dispatch({\n                    type: \"move\",\n                    sourceIndex: initialSelector.current.index,\n                    sourceZone: initialSelector.current.zone,\n                    destinationIndex: thisPreview.index,\n                    destinationZone: thisPreview.zone,\n                    recordHistory: false\n                  });\n                }\n              }\n              dispatch({\n                type: \"setUi\",\n                ui: {\n                  itemSelector: { index, zone },\n                  isDragging: false\n                },\n                recordHistory: true\n              });\n              (_b2 = dragListeners.dragend) == null ? void 0 : _b2.forEach((fn) => {\n                fn(event, manager);\n              });\n            };\n            let dispose;\n            dispose = effect(() => {\n              if (source.status === \"idle\") {\n                onAnimationEnd();\n                dispose == null ? void 0 : dispose();\n              }\n            });\n          },\n          onDragOver: (event, manager) => {\n            var _a, _b, _c, _d;\n            event.preventDefault();\n            const draggedItem = (_a = zoneStore.getState()) == null ? void 0 : _a.draggedItem;\n            if (!draggedItem) return;\n            cancelDb();\n            const { source, target } = event.operation;\n            if (!target || !source || target.type === \"void\") return;\n            const [sourceId] = source.id.split(\":\");\n            const [targetId] = target.id.split(\":\");\n            const sourceData = source.data;\n            let sourceZone = sourceData.zone;\n            let sourceIndex = sourceData.index;\n            let targetZone = \"\";\n            let targetIndex = 0;\n            if (target.type === \"component\") {\n              const targetData = target.data;\n              targetZone = targetData.zone;\n              targetIndex = targetData.index;\n              const collisionData = (_b = manager.collisionObserver.collisions[0]) == null ? void 0 : _b.data;\n              const dir = getDeepDir(target.element);\n              const collisionPosition = (collisionData == null ? void 0 : collisionData.direction) === \"up\" || dir === \"ltr\" && (collisionData == null ? void 0 : collisionData.direction) === \"left\" || dir === \"rtl\" && (collisionData == null ? void 0 : collisionData.direction) === \"right\" ? \"before\" : \"after\";\n              if (targetIndex >= sourceIndex && sourceZone === targetZone) {\n                targetIndex = targetIndex - 1;\n              }\n              if (collisionPosition === \"after\") {\n                targetIndex = targetIndex + 1;\n              }\n            } else {\n              targetZone = target.id.toString();\n              targetIndex = 0;\n            }\n            const path = ((_c = appStore.getState().state.indexes.nodes[target.id]) == null ? void 0 : _c.path) || [];\n            if (targetId === sourceId || path.find((path2) => {\n              const [pathId] = path2.split(\":\");\n              return pathId === sourceId;\n            })) {\n              return;\n            }\n            if (dragMode.current === \"new\") {\n              zoneStore.setState({\n                previewIndex: {\n                  [targetZone]: {\n                    componentType: sourceData.componentType,\n                    type: \"insert\",\n                    index: targetIndex,\n                    zone: targetZone,\n                    element: source.element,\n                    props: {\n                      id: source.id.toString()\n                    }\n                  }\n                }\n              });\n            } else {\n              if (!initialSelector.current) {\n                initialSelector.current = {\n                  zone: sourceData.zone,\n                  index: sourceData.index\n                };\n              }\n              const item = getItem(\n                initialSelector.current,\n                appStore.getState().state\n              );\n              if (item) {\n                zoneStore.setState({\n                  previewIndex: {\n                    [targetZone]: {\n                      componentType: sourceData.componentType,\n                      type: \"move\",\n                      index: targetIndex,\n                      zone: targetZone,\n                      props: item.props,\n                      element: source.element\n                    }\n                  }\n                });\n              }\n            }\n            (_d = dragListeners.dragover) == null ? void 0 : _d.forEach((fn) => {\n              fn(event, manager);\n            });\n          },\n          onDragStart: (event, manager) => {\n            var _a;\n            const { source } = event.operation;\n            if (source && source.type !== \"void\") {\n              const sourceData = source.data;\n              const item = getItem(\n                {\n                  zone: sourceData.zone,\n                  index: sourceData.index\n                },\n                appStore.getState().state\n              );\n              if (item) {\n                zoneStore.setState({\n                  previewIndex: {\n                    [sourceData.zone]: {\n                      componentType: sourceData.componentType,\n                      type: \"move\",\n                      index: sourceData.index,\n                      zone: sourceData.zone,\n                      props: item.props,\n                      element: source.element\n                    }\n                  }\n                });\n              }\n            }\n            (_a = dragListeners.dragstart) == null ? void 0 : _a.forEach((fn) => {\n              fn(event, manager);\n            });\n          },\n          onBeforeDragStart: (event) => {\n            var _a, _b, _c, _d;\n            const isNewComponent = ((_a = event.operation.source) == null ? void 0 : _a.type) === \"drawer\";\n            dragMode.current = isNewComponent ? \"new\" : \"existing\";\n            initialSelector.current = void 0;\n            zoneStore.setState({ draggedItem: event.operation.source });\n            if (((_b = appStore.getState().selectedItem) == null ? void 0 : _b.props.id) !== ((_c = event.operation.source) == null ? void 0 : _c.id)) {\n              dispatch({\n                type: \"setUi\",\n                ui: {\n                  itemSelector: null,\n                  isDragging: true\n                },\n                recordHistory: false\n              });\n            } else {\n              dispatch({\n                type: \"setUi\",\n                ui: {\n                  isDragging: true\n                },\n                recordHistory: false\n              });\n            }\n            const entryEl = (_d = getFrame()) == null ? void 0 : _d.querySelector(\"[data-puck-entry]\");\n            entryEl == null ? void 0 : entryEl.setAttribute(\"data-puck-dragging\", \"true\");\n          },\n          children: /* @__PURE__ */ jsx30(ZoneStoreProvider, { store: zoneStore, children: /* @__PURE__ */ jsx30(DropZoneProvider, { value: nextContextValue, children }) })\n        }\n      )\n    }\n  );\n};\nvar DragDropContext = ({\n  children,\n  disableAutoScroll\n}) => {\n  const status = useAppStore((s) => s.status);\n  if (status === \"LOADING\") {\n    return children;\n  }\n  return /* @__PURE__ */ jsx30(DragDropContextClient, { disableAutoScroll, children });\n};\n\n// components/Drawer/index.tsx\nimport { useDraggable, useDroppable as useDroppable2 } from \"@dnd-kit/react\";\nimport { jsx as jsx31, jsxs as jsxs9 } from \"react/jsx-runtime\";\nvar getClassName17 = get_class_name_factory_default(\"Drawer\", styles_module_default8);\nvar getClassNameItem2 = get_class_name_factory_default(\"DrawerItem\", styles_module_default8);\nvar DrawerItemInner = ({\n  children,\n  name,\n  label,\n  dragRef,\n  isDragDisabled\n}) => {\n  const CustomInner = useMemo12(\n    () => children || (({ children: children2 }) => /* @__PURE__ */ jsx31(\"div\", { className: getClassNameItem2(\"default\"), children: children2 })),\n    [children]\n  );\n  return /* @__PURE__ */ jsx31(\n    \"div\",\n    {\n      className: getClassNameItem2({ disabled: isDragDisabled }),\n      ref: dragRef,\n      onMouseDown: (e) => e.preventDefault(),\n      \"data-testid\": dragRef ? `drawer-item:${name}` : \"\",\n      \"data-puck-drawer-item\": true,\n      children: /* @__PURE__ */ jsx31(CustomInner, { name, children: /* @__PURE__ */ jsx31(\"div\", { className: getClassNameItem2(\"draggableWrapper\"), children: /* @__PURE__ */ jsxs9(\"div\", { className: getClassNameItem2(\"draggable\"), children: [\n        /* @__PURE__ */ jsx31(\"div\", { className: getClassNameItem2(\"name\"), children: label != null ? label : name }),\n        /* @__PURE__ */ jsx31(\"div\", { className: getClassNameItem2(\"icon\"), children: /* @__PURE__ */ jsx31(DragIcon, {}) })\n      ] }) }) })\n    }\n  );\n};\nvar DrawerItemDraggable = ({\n  children,\n  name,\n  label,\n  id,\n  isDragDisabled\n}) => {\n  const { ref } = useDraggable({\n    id,\n    data: { componentType: name },\n    disabled: isDragDisabled,\n    type: \"drawer\"\n  });\n  return /* @__PURE__ */ jsxs9(\"div\", { className: getClassName17(\"draggable\"), children: [\n    /* @__PURE__ */ jsx31(\"div\", { className: getClassName17(\"draggableBg\"), children: /* @__PURE__ */ jsx31(DrawerItemInner, { name, label, children }) }),\n    /* @__PURE__ */ jsx31(\"div\", { className: getClassName17(\"draggableFg\"), children: /* @__PURE__ */ jsx31(\n      DrawerItemInner,\n      {\n        name,\n        label,\n        dragRef: ref,\n        isDragDisabled,\n        children\n      }\n    ) })\n  ] });\n};\nvar DrawerItem = ({\n  name,\n  children,\n  id,\n  label,\n  index,\n  isDragDisabled\n}) => {\n  const resolvedId = id || name;\n  const [dynamicId, setDynamicId] = useState16(generateId(resolvedId));\n  if (typeof index !== \"undefined\") {\n    console.error(\n      \"Warning: The `index` prop on Drawer.Item is deprecated and no longer required.\"\n    );\n  }\n  useDragListener(\n    \"dragend\",\n    () => {\n      setDynamicId(generateId(resolvedId));\n    },\n    [resolvedId]\n  );\n  return /* @__PURE__ */ jsx31(\"div\", { children: /* @__PURE__ */ jsx31(\n    DrawerItemDraggable,\n    {\n      name,\n      label,\n      id: dynamicId,\n      isDragDisabled,\n      children\n    }\n  ) }, dynamicId);\n};\nvar Drawer = ({\n  children,\n  droppableId,\n  direction\n}) => {\n  if (droppableId) {\n    console.error(\n      \"Warning: The `droppableId` prop on Drawer is deprecated and no longer required.\"\n    );\n  }\n  if (direction) {\n    console.error(\n      \"Warning: The `direction` prop on Drawer is deprecated and no longer required to achieve multi-directional dragging.\"\n    );\n  }\n  const id = useSafeId();\n  const { ref } = useDroppable2({\n    id,\n    type: \"void\",\n    collisionPriority: 0\n    // Never collide with this, but we use it so NestedDroppablePlugin respects the Drawer\n  });\n  return /* @__PURE__ */ jsx31(\n    \"div\",\n    {\n      className: getClassName17(),\n      ref,\n      \"data-puck-dnd\": id,\n      \"data-puck-drawer\": true,\n      \"data-puck-dnd-void\": true,\n      children\n    }\n  );\n};\nDrawer.Item = DrawerItem;\n\n// components/Puck/index.tsx\ninit_react_import();\nimport {\n  createContext as createContext8,\n  useCallback as useCallback22,\n  useContext as useContext14,\n  useEffect as useEffect29,\n  useMemo as useMemo24,\n  useRef as useRef14,\n  useState as useState26\n} from \"react\";\n\n// components/Puck/components/Fields/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Fields/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default12 = { \"PuckFields\": \"_PuckFields_10bh7_1\", \"PuckFields--isLoading\": \"_PuckFields--isLoading_10bh7_6\", \"PuckFields-loadingOverlay\": \"_PuckFields-loadingOverlay_10bh7_10\", \"PuckFields-loadingOverlayInner\": \"_PuckFields-loadingOverlayInner_10bh7_25\", \"PuckFields-field\": \"_PuckFields-field_10bh7_32\", \"PuckFields--wrapFields\": \"_PuckFields--wrapFields_10bh7_36\" };\n\n// components/Puck/components/Fields/index.tsx\nimport {\n  memo as memo8,\n  useCallback as useCallback13,\n  useContext as useContext9,\n  useEffect as useEffect17,\n  useMemo as useMemo13\n} from \"react\";\nimport { useShallow as useShallow7 } from \"zustand/react/shallow\";\nimport { Fragment as Fragment9, jsx as jsx32, jsxs as jsxs10 } from \"react/jsx-runtime\";\nvar getClassName18 = get_class_name_factory_default(\"PuckFields\", styles_module_default12);\nvar DefaultFields = ({\n  children\n}) => {\n  return /* @__PURE__ */ jsx32(Fragment9, { children });\n};\nvar createOnChange = (fieldName, appStore) => (value, updatedUi) => __async(null, null, function* () {\n  const { dispatch, state, selectedItem, resolveComponentData } = appStore.getState();\n  const { data, ui } = state;\n  const { itemSelector } = ui;\n  const rootProps = data.root.props || data.root;\n  const currentProps = selectedItem ? selectedItem.props : rootProps;\n  const newProps = __spreadProps(__spreadValues({}, currentProps), { [fieldName]: value });\n  if (selectedItem && itemSelector) {\n    const resolved = yield resolveComponentData(\n      __spreadProps(__spreadValues({}, selectedItem), { props: newProps }),\n      \"replace\"\n    );\n    const latestSelector = getSelectorForId(\n      appStore.getState().state,\n      selectedItem.props.id\n    );\n    if (!latestSelector) return;\n    dispatch({\n      type: \"replace\",\n      destinationIndex: latestSelector.index,\n      destinationZone: latestSelector.zone || rootDroppableId,\n      data: resolved.node,\n      ui: updatedUi\n    });\n    return;\n  }\n  if (data.root.props) {\n    dispatch({\n      type: \"replaceRoot\",\n      root: (yield resolveComponentData(\n        __spreadProps(__spreadValues({}, data.root), { props: newProps }),\n        \"replace\"\n      )).node,\n      ui: __spreadValues(__spreadValues({}, ui), updatedUi),\n      recordHistory: true\n    });\n    return;\n  }\n  dispatch({\n    type: \"setData\",\n    data: { root: newProps }\n  });\n});\nvar FieldsChildInner = ({ fieldName }) => {\n  const field = useAppStore((s) => s.fields.fields[fieldName]);\n  const isReadOnly = useAppStore(\n    (s) => ((s.selectedItem ? s.selectedItem.readOnly : s.state.data.root.readOnly) || {})[fieldName]\n  );\n  const id = useAppStore((s) => {\n    if (!field) return null;\n    return s.selectedItem ? `${s.selectedItem.props.id}_${field.type}_${fieldName}` : `root_${field.type}_${fieldName}`;\n  });\n  const permissions = useAppStore(\n    useShallow7((s) => {\n      const { selectedItem, permissions: permissions2 } = s;\n      return selectedItem ? permissions2.getPermissions({ item: selectedItem }) : permissions2.getPermissions({ root: true });\n    })\n  );\n  const appStore = useAppStoreApi();\n  const onChange = useCallback13(createOnChange(fieldName, appStore), [\n    fieldName\n  ]);\n  const { visible = true } = field != null ? field : {};\n  const fieldStore = useContext9(fieldContextStore.ctx);\n  useEffect17(() => {\n    return appStore.subscribe(\n      (s) => {\n        var _a;\n        const data = s.getCurrentData();\n        return (_a = data.props) == null ? void 0 : _a[fieldName];\n      },\n      (value) => {\n        fieldStore.setState({ [fieldName]: value });\n      }\n    );\n  }, [appStore, fieldStore]);\n  if (!field || !id || !visible) return null;\n  if (field.type === \"slot\") return null;\n  return /* @__PURE__ */ jsx32(\"div\", { className: getClassName18(\"field\"), children: /* @__PURE__ */ jsx32(\n    AutoFieldPrivate,\n    {\n      field,\n      name: fieldName,\n      id,\n      readOnly: !permissions.edit || isReadOnly,\n      onChange\n    }\n  ) }, id);\n};\nvar FieldsChild = ({ fieldName }) => {\n  const appStore = useAppStoreApi();\n  const initialValue = useMemo13(() => {\n    var _a;\n    const value = (_a = appStore.getState().getCurrentData().props) == null ? void 0 : _a[fieldName];\n    return { [fieldName]: value };\n  }, []);\n  return /* @__PURE__ */ jsx32(fieldContextStore.Provider, { value: initialValue, children: /* @__PURE__ */ jsx32(FieldsChildInner, { fieldName }) });\n};\nvar FieldsChildMemo = memo8(FieldsChild);\nvar FieldsInternal = ({ wrapFields = true }) => {\n  const overrides = useAppStore((s) => s.overrides);\n  const componentResolving = useAppStore((s) => {\n    var _a, _b;\n    const loadingCount = s.selectedItem ? (_a = s.componentState[s.selectedItem.props.id]) == null ? void 0 : _a.loadingCount : (_b = s.componentState[\"root\"]) == null ? void 0 : _b.loadingCount;\n    return (loadingCount != null ? loadingCount : 0) > 0;\n  });\n  const itemSelector = useAppStore(useShallow7((s) => s.state.ui.itemSelector));\n  const id = useAppStore((s) => {\n    var _a;\n    return (_a = s.selectedItem) == null ? void 0 : _a.props.id;\n  });\n  const appStore = useAppStoreApi();\n  useRegisterFieldsSlice(appStore, id);\n  const fieldsLoading = useAppStore((s) => s.fields.loading);\n  const fieldNames = useAppStore(\n    useShallow7((s) => {\n      if (s.fields.id === id) {\n        return Object.keys(s.fields.fields);\n      }\n      return [];\n    })\n  );\n  const isLoading = fieldsLoading || componentResolving;\n  const Wrapper = useMemo13(() => overrides.fields || DefaultFields, [overrides]);\n  return /* @__PURE__ */ jsxs10(\n    \"form\",\n    {\n      className: getClassName18({ wrapFields }),\n      onSubmit: (e) => {\n        e.preventDefault();\n      },\n      children: [\n        /* @__PURE__ */ jsx32(Wrapper, { isLoading, itemSelector, children: fieldNames.map((fieldName) => /* @__PURE__ */ jsx32(FieldsChildMemo, { fieldName }, fieldName)) }),\n        isLoading && /* @__PURE__ */ jsx32(\"div\", { className: getClassName18(\"loadingOverlay\"), children: /* @__PURE__ */ jsx32(\"div\", { className: getClassName18(\"loadingOverlayInner\"), children: /* @__PURE__ */ jsx32(Loader, { size: 16 }) }) })\n      ]\n    }\n  );\n};\nvar Fields = memo8(FieldsInternal);\n\n// components/Puck/components/Components/index.tsx\ninit_react_import();\n\n// lib/use-component-list.tsx\ninit_react_import();\nimport { useEffect as useEffect19, useState as useState17 } from \"react\";\n\n// components/ComponentList/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/ComponentList/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default13 = { \"ComponentList\": \"_ComponentList_1rrlt_1\", \"ComponentList--isExpanded\": \"_ComponentList--isExpanded_1rrlt_5\", \"ComponentList-content\": \"_ComponentList-content_1rrlt_9\", \"ComponentList-title\": \"_ComponentList-title_1rrlt_17\", \"ComponentList-titleIcon\": \"_ComponentList-titleIcon_1rrlt_53\" };\n\n// components/ComponentList/index.tsx\nimport { useEffect as useEffect18 } from \"react\";\nimport { jsx as jsx33, jsxs as jsxs11 } from \"react/jsx-runtime\";\nvar getClassName19 = get_class_name_factory_default(\"ComponentList\", styles_module_default13);\nvar ComponentListItem = ({\n  name,\n  label\n}) => {\n  var _a;\n  const overrides = useAppStore((s) => s.overrides);\n  const canInsert = useAppStore(\n    (s) => s.permissions.getPermissions({\n      type: name\n    }).insert\n  );\n  useEffect18(() => {\n    if (overrides.componentItem) {\n      console.warn(\n        \"The `componentItem` override has been deprecated and renamed to `drawerItem`\"\n      );\n    }\n  }, [overrides]);\n  return /* @__PURE__ */ jsx33(Drawer.Item, { label, name, isDragDisabled: !canInsert, children: (_a = overrides.componentItem) != null ? _a : overrides.drawerItem });\n};\nvar ComponentList = ({\n  children,\n  title,\n  id\n}) => {\n  const config = useAppStore((s) => s.config);\n  const setUi = useAppStore((s) => s.setUi);\n  const componentList = useAppStore((s) => s.state.ui.componentList);\n  const { expanded = true } = componentList[id] || {};\n  return /* @__PURE__ */ jsxs11(\"div\", { className: getClassName19({ isExpanded: expanded }), children: [\n    title && /* @__PURE__ */ jsxs11(\n      \"button\",\n      {\n        type: \"button\",\n        className: getClassName19(\"title\"),\n        onClick: () => setUi({\n          componentList: __spreadProps(__spreadValues({}, componentList), {\n            [id]: __spreadProps(__spreadValues({}, componentList[id]), {\n              expanded: !expanded\n            })\n          })\n        }),\n        title: expanded ? `Collapse${title ? ` ${title}` : \"\"}` : `Expand${title ? ` ${title}` : \"\"}`,\n        children: [\n          /* @__PURE__ */ jsx33(\"div\", { children: title }),\n          /* @__PURE__ */ jsx33(\"div\", { className: getClassName19(\"titleIcon\"), children: expanded ? /* @__PURE__ */ jsx33(ChevronUp, { size: 12 }) : /* @__PURE__ */ jsx33(ChevronDown, { size: 12 }) })\n        ]\n      }\n    ),\n    /* @__PURE__ */ jsx33(\"div\", { className: getClassName19(\"content\"), children: /* @__PURE__ */ jsx33(Drawer, { children: children || Object.keys(config.components).map((componentKey) => {\n      var _a;\n      return /* @__PURE__ */ jsx33(\n        ComponentListItem,\n        {\n          label: (_a = config.components[componentKey][\"label\"]) != null ? _a : componentKey,\n          name: componentKey\n        },\n        componentKey\n      );\n    }) }) })\n  ] });\n};\nComponentList.Item = ComponentListItem;\n\n// lib/use-component-list.tsx\nimport { jsx as jsx34 } from \"react/jsx-runtime\";\nvar useComponentList = () => {\n  const [componentList, setComponentList] = useState17();\n  const config = useAppStore((s) => s.config);\n  const uiComponentList = useAppStore((s) => s.state.ui.componentList);\n  useEffect19(() => {\n    var _a, _b, _c;\n    if (Object.keys(uiComponentList).length > 0) {\n      const matchedComponents = [];\n      let _componentList;\n      _componentList = Object.entries(uiComponentList).map(\n        ([categoryKey, category]) => {\n          if (!category.components) {\n            return null;\n          }\n          category.components.forEach((componentName) => {\n            matchedComponents.push(componentName);\n          });\n          if (category.visible === false) {\n            return null;\n          }\n          return /* @__PURE__ */ jsx34(\n            ComponentList,\n            {\n              id: categoryKey,\n              title: category.title || categoryKey,\n              children: category.components.map((componentName, i) => {\n                var _a2;\n                const componentConf = config.components[componentName] || {};\n                return /* @__PURE__ */ jsx34(\n                  ComponentList.Item,\n                  {\n                    label: (_a2 = componentConf[\"label\"]) != null ? _a2 : componentName,\n                    name: componentName,\n                    index: i\n                  },\n                  componentName\n                );\n              })\n            },\n            categoryKey\n          );\n        }\n      );\n      const remainingComponents = Object.keys(config.components).filter(\n        (component) => matchedComponents.indexOf(component) === -1\n      );\n      if (remainingComponents.length > 0 && !((_a = uiComponentList.other) == null ? void 0 : _a.components) && ((_b = uiComponentList.other) == null ? void 0 : _b.visible) !== false) {\n        _componentList.push(\n          /* @__PURE__ */ jsx34(\n            ComponentList,\n            {\n              id: \"other\",\n              title: ((_c = uiComponentList.other) == null ? void 0 : _c.title) || \"Other\",\n              children: remainingComponents.map((componentName, i) => {\n                var _a2;\n                const componentConf = config.components[componentName] || {};\n                return /* @__PURE__ */ jsx34(\n                  ComponentList.Item,\n                  {\n                    name: componentName,\n                    label: (_a2 = componentConf[\"label\"]) != null ? _a2 : componentName,\n                    index: i\n                  },\n                  componentName\n                );\n              })\n            },\n            \"other\"\n          )\n        );\n      }\n      setComponentList(_componentList);\n    }\n  }, [config.categories, config.components, uiComponentList]);\n  return componentList;\n};\n\n// components/Puck/components/Components/index.tsx\nimport { useMemo as useMemo14 } from \"react\";\nimport { jsx as jsx35 } from \"react/jsx-runtime\";\nvar Components = () => {\n  const overrides = useAppStore((s) => s.overrides);\n  const componentList = useComponentList();\n  const Wrapper = useMemo14(() => {\n    if (overrides.components) {\n      console.warn(\n        \"The `components` override has been deprecated and renamed to `drawer`\"\n      );\n    }\n    return overrides.components || overrides.drawer || \"div\";\n  }, [overrides]);\n  return /* @__PURE__ */ jsx35(Wrapper, { children: componentList ? componentList : /* @__PURE__ */ jsx35(ComponentList, { id: \"all\" }) });\n};\n\n// components/Puck/components/Preview/index.tsx\ninit_react_import();\nimport { useCallback as useCallback14, useEffect as useEffect21, useRef as useRef9, useMemo as useMemo15 } from \"react\";\n\n// components/AutoFrame/index.tsx\ninit_react_import();\nimport {\n  createContext as createContext5,\n  useContext as useContext10,\n  useEffect as useEffect20,\n  useState as useState18\n} from \"react\";\nimport hash from \"object-hash\";\nimport { createPortal as createPortal3 } from \"react-dom\";\nimport { Fragment as Fragment10, jsx as jsx36 } from \"react/jsx-runtime\";\nvar styleSelector = 'style, link[rel=\"stylesheet\"]';\nvar collectStyles = (doc) => {\n  const collected = [];\n  doc.querySelectorAll(styleSelector).forEach((style) => {\n    if (style.tagName === \"STYLE\") {\n      const hasContent = !!style.innerHTML.trim();\n      if (hasContent) {\n        collected.push(style);\n      }\n    } else {\n      collected.push(style);\n    }\n  });\n  return collected;\n};\nvar getStyleSheet = (el) => {\n  return Array.from(document.styleSheets).find((ss) => {\n    const ownerNode = ss.ownerNode;\n    return ownerNode.href === el.href;\n  });\n};\nvar getStyles = (styleSheet) => {\n  if (styleSheet) {\n    try {\n      return Array.from(styleSheet.cssRules).map((rule) => rule.cssText).join(\"\");\n    } catch (e) {\n      console.warn(\n        \"Access to stylesheet %s is denied. Ignoring\\u2026\",\n        styleSheet.href\n      );\n    }\n  }\n  return \"\";\n};\nvar syncAttributes = (sourceElement, targetElement) => {\n  const attributes = sourceElement.attributes;\n  if ((attributes == null ? void 0 : attributes.length) > 0) {\n    Array.from(attributes).forEach((attribute) => {\n      targetElement.setAttribute(attribute.name, attribute.value);\n    });\n  }\n};\nvar defer = (fn) => setTimeout(fn, 0);\nvar CopyHostStyles = ({\n  children,\n  debug = false,\n  onStylesLoaded = () => null\n}) => {\n  const { document: doc, window: win } = useFrame();\n  useEffect20(() => {\n    if (!win || !doc) {\n      return () => {\n      };\n    }\n    let elements = [];\n    const hashes = {};\n    const lookupEl = (el) => elements.findIndex((elementMap) => elementMap.original === el);\n    const mirrorEl = (el, inlineStyles = false) => __async(null, null, function* () {\n      let mirror;\n      if (el.nodeName === \"LINK\" && inlineStyles) {\n        mirror = document.createElement(\"style\");\n        mirror.type = \"text/css\";\n        let styleSheet = getStyleSheet(el);\n        if (!styleSheet) {\n          yield new Promise((resolve) => {\n            const fn = () => {\n              resolve();\n              el.removeEventListener(\"load\", fn);\n            };\n            el.addEventListener(\"load\", fn);\n          });\n          styleSheet = getStyleSheet(el);\n        }\n        const styles2 = getStyles(styleSheet);\n        if (!styles2) {\n          if (debug) {\n            console.warn(\n              `Tried to load styles for link element, but couldn't find them. Skipping...`\n            );\n          }\n          return;\n        }\n        mirror.innerHTML = styles2;\n        mirror.setAttribute(\"data-href\", el.getAttribute(\"href\"));\n      } else {\n        mirror = el.cloneNode(true);\n      }\n      return mirror;\n    });\n    const addEl = (el) => __async(null, null, function* () {\n      const index = lookupEl(el);\n      if (index > -1) {\n        if (debug)\n          console.log(\n            `Tried to add an element that was already mirrored. Updating instead...`\n          );\n        elements[index].mirror.innerText = el.innerText;\n        return;\n      }\n      const mirror = yield mirrorEl(el);\n      if (!mirror) {\n        return;\n      }\n      const elHash = hash(mirror.outerHTML);\n      if (hashes[elHash]) {\n        if (debug)\n          console.log(\n            `iframe already contains element that is being mirrored. Skipping...`\n          );\n        return;\n      }\n      hashes[elHash] = true;\n      doc.head.append(mirror);\n      elements.push({ original: el, mirror });\n      if (debug) console.log(`Added style node ${el.outerHTML}`);\n    });\n    const removeEl = (el) => {\n      var _a, _b;\n      const index = lookupEl(el);\n      if (index === -1) {\n        if (debug)\n          console.log(\n            `Tried to remove an element that did not exist. Skipping...`\n          );\n        return;\n      }\n      const elHash = hash(el.outerHTML);\n      (_b = (_a = elements[index]) == null ? void 0 : _a.mirror) == null ? void 0 : _b.remove();\n      delete hashes[elHash];\n      if (debug) console.log(`Removed style node ${el.outerHTML}`);\n    };\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (mutation.type === \"childList\") {\n          mutation.addedNodes.forEach((node) => {\n            if (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE) {\n              const el = node.nodeType === Node.TEXT_NODE ? node.parentElement : node;\n              if (el && el.matches(styleSelector)) {\n                defer(() => addEl(el));\n              }\n            }\n          });\n          mutation.removedNodes.forEach((node) => {\n            if (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE) {\n              const el = node.nodeType === Node.TEXT_NODE ? node.parentElement : node;\n              if (el && el.matches(styleSelector)) {\n                defer(() => removeEl(el));\n              }\n            }\n          });\n        }\n      });\n    });\n    const parentDocument = win.parent.document;\n    const collectedStyles = collectStyles(parentDocument);\n    const hrefs = [];\n    let stylesLoaded = 0;\n    const parentHtml = parentDocument.getElementsByTagName(\"html\")[0];\n    syncAttributes(parentHtml, doc.documentElement);\n    const parentBody = parentDocument.getElementsByTagName(\"body\")[0];\n    syncAttributes(parentBody, doc.body);\n    Promise.all(\n      collectedStyles.map((styleNode, i) => __async(null, null, function* () {\n        if (styleNode.nodeName === \"LINK\") {\n          const linkHref = styleNode.href;\n          if (hrefs.indexOf(linkHref) > -1) {\n            return;\n          }\n          hrefs.push(linkHref);\n        }\n        const mirror = yield mirrorEl(styleNode);\n        if (!mirror) return;\n        elements.push({ original: styleNode, mirror });\n        return mirror;\n      }))\n    ).then((mirrorStyles) => {\n      const filtered = mirrorStyles.filter(\n        (el) => typeof el !== \"undefined\"\n      );\n      filtered.forEach((mirror) => {\n        mirror.onload = () => {\n          stylesLoaded = stylesLoaded + 1;\n          if (stylesLoaded >= elements.length) {\n            onStylesLoaded();\n          }\n        };\n        mirror.onerror = () => {\n          console.warn(`AutoFrame couldn't load a stylesheet`);\n          stylesLoaded = stylesLoaded + 1;\n          if (stylesLoaded >= elements.length) {\n            onStylesLoaded();\n          }\n        };\n      });\n      doc.head.innerHTML = \"\";\n      doc.head.append(...filtered);\n      observer.observe(parentDocument.head, { childList: true, subtree: true });\n      filtered.forEach((el) => {\n        const elHash = hash(el.outerHTML);\n        hashes[elHash] = true;\n      });\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n  return /* @__PURE__ */ jsx36(Fragment10, { children });\n};\nvar autoFrameContext = createContext5({});\nvar useFrame = () => useContext10(autoFrameContext);\nfunction AutoFrame(_a) {\n  var _b = _a, {\n    children,\n    className,\n    debug,\n    id,\n    onReady = () => {\n    },\n    onNotReady = () => {\n    },\n    frameRef\n  } = _b, props = __objRest(_b, [\n    \"children\",\n    \"className\",\n    \"debug\",\n    \"id\",\n    \"onReady\",\n    \"onNotReady\",\n    \"frameRef\"\n  ]);\n  const [loaded, setLoaded] = useState18(false);\n  const [ctx, setCtx] = useState18({});\n  const [mountTarget, setMountTarget] = useState18();\n  const [stylesLoaded, setStylesLoaded] = useState18(false);\n  useEffect20(() => {\n    var _a2;\n    if (frameRef.current) {\n      const doc = frameRef.current.contentDocument;\n      const win = frameRef.current.contentWindow;\n      setCtx({\n        document: doc || void 0,\n        window: win || void 0\n      });\n      setMountTarget(\n        (_a2 = frameRef.current.contentDocument) == null ? void 0 : _a2.getElementById(\"frame-root\")\n      );\n      if (doc && win && stylesLoaded) {\n        onReady();\n      } else {\n        onNotReady();\n      }\n    }\n  }, [frameRef, loaded, stylesLoaded]);\n  return /* @__PURE__ */ jsx36(\n    \"iframe\",\n    __spreadProps(__spreadValues({}, props), {\n      className,\n      id,\n      srcDoc: '<!DOCTYPE html><html><head></head><body><div id=\"frame-root\" data-puck-entry></div></body></html>',\n      ref: frameRef,\n      onLoad: () => {\n        setLoaded(true);\n      },\n      children: /* @__PURE__ */ jsx36(autoFrameContext.Provider, { value: ctx, children: loaded && mountTarget && /* @__PURE__ */ jsx36(\n        CopyHostStyles,\n        {\n          debug,\n          onStylesLoaded: () => setStylesLoaded(true),\n          children: createPortal3(children, mountTarget)\n        }\n      ) })\n    })\n  );\n}\nAutoFrame.displayName = \"AutoFrame\";\nvar AutoFrame_default = AutoFrame;\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Preview/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default14 = { \"PuckPreview\": \"_PuckPreview_z2rgu_1\", \"PuckPreview-frame\": \"_PuckPreview-frame_z2rgu_6\" };\n\n// components/Puck/components/Preview/index.tsx\nimport { Fragment as Fragment11, jsx as jsx37 } from \"react/jsx-runtime\";\nvar getClassName20 = get_class_name_factory_default(\"PuckPreview\", styles_module_default14);\nvar useBubbleIframeEvents = (ref) => {\n  const status = useAppStore((s) => s.status);\n  useEffect21(() => {\n    if (ref.current && status === \"READY\") {\n      const iframe = ref.current;\n      const handlePointerMove = (event) => {\n        const evt = new BubbledPointerEvent(\"pointermove\", __spreadProps(__spreadValues({}, event), {\n          bubbles: true,\n          cancelable: false,\n          clientX: event.clientX,\n          clientY: event.clientY,\n          originalTarget: event.target\n        }));\n        iframe.dispatchEvent(evt);\n      };\n      const register = () => {\n        var _a;\n        unregister();\n        (_a = iframe.contentDocument) == null ? void 0 : _a.addEventListener(\n          \"pointermove\",\n          handlePointerMove,\n          {\n            capture: true\n          }\n        );\n      };\n      const unregister = () => {\n        var _a;\n        (_a = iframe.contentDocument) == null ? void 0 : _a.removeEventListener(\n          \"pointermove\",\n          handlePointerMove\n        );\n      };\n      register();\n      return () => {\n        unregister();\n      };\n    }\n  }, [status]);\n};\nvar Preview2 = ({ id = \"puck-preview\" }) => {\n  const dispatch = useAppStore((s) => s.dispatch);\n  const root = useAppStore((s) => s.state.data.root);\n  const config = useAppStore((s) => s.config);\n  const setStatus = useAppStore((s) => s.setStatus);\n  const iframe = useAppStore((s) => s.iframe);\n  const overrides = useAppStore((s) => s.overrides);\n  const metadata = useAppStore((s) => s.metadata);\n  const renderData = useAppStore(\n    (s) => s.state.ui.previewMode === \"edit\" ? null : s.state.data\n  );\n  const Page = useCallback14(\n    (pageProps) => {\n      var _a, _b, _c, _d;\n      const propsWithSlots = useSlots(\n        config,\n        { type: \"root\", props: pageProps },\n        DropZoneEditPure\n      );\n      const richtextProps = useRichtextProps(\n        (_b = (_a = config.root) == null ? void 0 : _a.fields) != null ? _b : {},\n        pageProps\n      );\n      return ((_c = config.root) == null ? void 0 : _c.render) ? (_d = config.root) == null ? void 0 : _d.render(__spreadValues(__spreadValues({\n        id: \"puck-root\"\n      }, propsWithSlots), richtextProps)) : /* @__PURE__ */ jsx37(Fragment11, { children: propsWithSlots.children });\n    },\n    [config]\n  );\n  const Frame = useMemo15(() => overrides.iframe, [overrides]);\n  const rootProps = root.props || root;\n  const ref = useRef9(null);\n  useBubbleIframeEvents(ref);\n  const inner = !renderData ? /* @__PURE__ */ jsx37(\n    Page,\n    __spreadProps(__spreadValues({}, rootProps), {\n      puck: {\n        renderDropZone: DropZonePure,\n        isEditing: true,\n        dragRef: null,\n        metadata\n      },\n      editMode: true,\n      children: /* @__PURE__ */ jsx37(DropZonePure, { zone: rootDroppableId })\n    })\n  ) : /* @__PURE__ */ jsx37(Render, { data: renderData, config, metadata });\n  useEffect21(() => {\n    if (!iframe.enabled) {\n      setStatus(\"READY\");\n    }\n  }, [iframe.enabled]);\n  return /* @__PURE__ */ jsx37(\n    \"div\",\n    {\n      className: getClassName20(),\n      id,\n      \"data-puck-preview\": true,\n      onClick: (e) => {\n        const el = e.target;\n        if (!el.hasAttribute(\"data-puck-component\") && !el.hasAttribute(\"data-puck-dropzone\")) {\n          dispatch({ type: \"setUi\", ui: { itemSelector: null } });\n        }\n      },\n      children: iframe.enabled ? /* @__PURE__ */ jsx37(\n        AutoFrame_default,\n        {\n          id: \"preview-frame\",\n          className: getClassName20(\"frame\"),\n          \"data-rfd-iframe\": true,\n          onReady: () => {\n            setStatus(\"READY\");\n          },\n          onNotReady: () => {\n            setStatus(\"MOUNTED\");\n          },\n          frameRef: ref,\n          children: /* @__PURE__ */ jsx37(autoFrameContext.Consumer, { children: ({ document: document2 }) => {\n            if (Frame) {\n              return /* @__PURE__ */ jsx37(Frame, { document: document2, children: inner });\n            }\n            return inner;\n          } })\n        }\n      ) : /* @__PURE__ */ jsx37(\n        \"div\",\n        {\n          id: \"preview-frame\",\n          className: getClassName20(\"frame\"),\n          ref,\n          \"data-puck-entry\": true,\n          children: inner\n        }\n      )\n    }\n  );\n};\n\n// components/Puck/components/Outline/index.tsx\ninit_react_import();\n\n// components/LayerTree/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/LayerTree/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default15 = { \"LayerTree\": \"_LayerTree_7rx04_1\", \"LayerTree-zoneTitle\": \"_LayerTree-zoneTitle_7rx04_11\", \"LayerTree-helper\": \"_LayerTree-helper_7rx04_17\", \"Layer\": \"_Layer_7rx04_1\", \"Layer-inner\": \"_Layer-inner_7rx04_29\", \"Layer--containsZone\": \"_Layer--containsZone_7rx04_35\", \"Layer-clickable\": \"_Layer-clickable_7rx04_39\", \"Layer--isSelected\": \"_Layer--isSelected_7rx04_61\", \"Layer-chevron\": \"_Layer-chevron_7rx04_77\", \"Layer--childIsSelected\": \"_Layer--childIsSelected_7rx04_78\", \"Layer-zones\": \"_Layer-zones_7rx04_82\", \"Layer-title\": \"_Layer-title_7rx04_96\", \"Layer-name\": \"_Layer-name_7rx04_105\", \"Layer-icon\": \"_Layer-icon_7rx04_111\", \"Layer-zoneIcon\": \"_Layer-zoneIcon_7rx04_116\" };\n\n// lib/scroll-into-view.ts\ninit_react_import();\nvar scrollIntoView = (el) => {\n  const oldStyle = __spreadValues({}, el.style);\n  el.style.scrollMargin = \"256px\";\n  if (el) {\n    el == null ? void 0 : el.scrollIntoView({ behavior: \"smooth\" });\n    el.style.scrollMargin = oldStyle.scrollMargin || \"\";\n  }\n};\n\n// components/LayerTree/index.tsx\nimport { useCallback as useCallback15, useContext as useContext11 } from \"react\";\n\n// lib/on-scroll-end.ts\ninit_react_import();\nvar onScrollEnd = (frame, cb) => {\n  let scrollTimeout;\n  const callback = function() {\n    clearTimeout(scrollTimeout);\n    scrollTimeout = setTimeout(function() {\n      cb();\n      frame == null ? void 0 : frame.removeEventListener(\"scroll\", callback);\n    }, 50);\n  };\n  frame == null ? void 0 : frame.addEventListener(\"scroll\", callback);\n  setTimeout(() => {\n    if (!scrollTimeout) {\n      cb();\n    }\n  }, 50);\n};\n\n// components/LayerTree/index.tsx\nimport { useShallow as useShallow8 } from \"zustand/react/shallow\";\nimport { Fragment as Fragment12, jsx as jsx38, jsxs as jsxs12 } from \"react/jsx-runtime\";\nvar getClassName21 = get_class_name_factory_default(\"LayerTree\", styles_module_default15);\nvar getClassNameLayer = get_class_name_factory_default(\"Layer\", styles_module_default15);\nvar Layer = ({\n  index,\n  itemId,\n  zoneCompound\n}) => {\n  var _a;\n  const config = useAppStore((s) => s.config);\n  const itemSelector = useAppStore((s) => s.state.ui.itemSelector);\n  const dispatch = useAppStore((s) => s.dispatch);\n  const setItemSelector = useCallback15(\n    (itemSelector2) => {\n      dispatch({ type: \"setUi\", ui: { itemSelector: itemSelector2 } });\n    },\n    [dispatch]\n  );\n  const selecedItemId = useAppStore((s) => {\n    var _a2;\n    return (_a2 = s.selectedItem) == null ? void 0 : _a2.props.id;\n  });\n  const isSelected = selecedItemId === itemId || itemSelector && itemSelector.zone === rootDroppableId && !zoneCompound;\n  const nodeData = useAppStore((s) => s.state.indexes.nodes[itemId]);\n  const zonesForItem = useAppStore(\n    useShallow8(\n      (s) => Object.keys(s.state.indexes.zones).filter(\n        (z) => z.split(\":\")[0] === itemId\n      )\n    )\n  );\n  const containsZone = zonesForItem.length > 0;\n  const zoneStore = useContext11(ZoneStoreContext);\n  const isHovering = useContextStore(\n    ZoneStoreContext,\n    (s) => s.hoveringComponent === itemId\n  );\n  const childIsSelected = useAppStore((s) => {\n    var _a2, _b;\n    const selectedData = s.state.indexes.nodes[(_a2 = s.selectedItem) == null ? void 0 : _a2.props.id];\n    return (_b = selectedData == null ? void 0 : selectedData.path.some((candidate) => {\n      const [candidateId] = candidate.split(\":\");\n      return candidateId === itemId;\n    })) != null ? _b : false;\n  });\n  const componentConfig = config.components[nodeData.data.type];\n  const label = (_a = componentConfig == null ? void 0 : componentConfig[\"label\"]) != null ? _a : nodeData.data.type.toString();\n  return /* @__PURE__ */ jsxs12(\n    \"li\",\n    {\n      className: getClassNameLayer({\n        isSelected,\n        isHovering,\n        containsZone,\n        childIsSelected\n      }),\n      children: [\n        /* @__PURE__ */ jsx38(\"div\", { className: getClassNameLayer(\"inner\"), children: /* @__PURE__ */ jsxs12(\n          \"button\",\n          {\n            type: \"button\",\n            className: getClassNameLayer(\"clickable\"),\n            onClick: () => {\n              if (isSelected) {\n                setItemSelector(null);\n                return;\n              }\n              const frame = getFrame();\n              const el = frame == null ? void 0 : frame.querySelector(\n                `[data-puck-component=\"${itemId}\"]`\n              );\n              if (!el) {\n                setItemSelector({\n                  index,\n                  zone: zoneCompound\n                });\n                return;\n              }\n              scrollIntoView(el);\n              onScrollEnd(frame, () => {\n                setItemSelector({\n                  index,\n                  zone: zoneCompound\n                });\n              });\n            },\n            onMouseEnter: (e) => {\n              e.stopPropagation();\n              zoneStore.setState({ hoveringComponent: itemId });\n            },\n            onMouseLeave: (e) => {\n              e.stopPropagation();\n              zoneStore.setState({ hoveringComponent: null });\n            },\n            children: [\n              containsZone && /* @__PURE__ */ jsx38(\n                \"div\",\n                {\n                  className: getClassNameLayer(\"chevron\"),\n                  title: isSelected ? \"Collapse\" : \"Expand\",\n                  children: /* @__PURE__ */ jsx38(ChevronDown, { size: \"12\" })\n                }\n              ),\n              /* @__PURE__ */ jsxs12(\"div\", { className: getClassNameLayer(\"title\"), children: [\n                /* @__PURE__ */ jsx38(\"div\", { className: getClassNameLayer(\"icon\"), children: nodeData.data.type === \"Text\" || nodeData.data.type === \"Heading\" ? /* @__PURE__ */ jsx38(Type, { size: \"16\" }) : /* @__PURE__ */ jsx38(LayoutGrid, { size: \"16\" }) }),\n                /* @__PURE__ */ jsx38(\"div\", { className: getClassNameLayer(\"name\"), children: label })\n              ] })\n            ]\n          }\n        ) }),\n        containsZone && zonesForItem.map((subzone) => /* @__PURE__ */ jsx38(\"div\", { className: getClassNameLayer(\"zones\"), children: /* @__PURE__ */ jsx38(LayerTree, { zoneCompound: subzone }) }, subzone))\n      ]\n    }\n  );\n};\nvar LayerTree = ({\n  label: _label,\n  zoneCompound\n}) => {\n  const label = useAppStore((s) => {\n    var _a, _b, _c, _d;\n    if (_label) return _label;\n    if (zoneCompound === rootDroppableId) return;\n    const [componentId, slotId] = zoneCompound.split(\":\");\n    const componentType = (_a = s.state.indexes.nodes[componentId]) == null ? void 0 : _a.data.type;\n    const configForComponent = componentType && componentType !== rootAreaId ? s.config.components[componentType] : s.config.root;\n    return (_d = (_c = (_b = configForComponent == null ? void 0 : configForComponent.fields) == null ? void 0 : _b[slotId]) == null ? void 0 : _c.label) != null ? _d : slotId;\n  });\n  const contentIds = useAppStore(\n    useShallow8(\n      (s) => {\n        var _a, _b;\n        return zoneCompound ? (_b = (_a = s.state.indexes.zones[zoneCompound]) == null ? void 0 : _a.contentIds) != null ? _b : [] : [];\n      }\n    )\n  );\n  return /* @__PURE__ */ jsxs12(Fragment12, { children: [\n    label && /* @__PURE__ */ jsxs12(\"div\", { className: getClassName21(\"zoneTitle\"), children: [\n      /* @__PURE__ */ jsx38(\"div\", { className: getClassName21(\"zoneIcon\"), children: /* @__PURE__ */ jsx38(Layers, { size: \"16\" }) }),\n      label\n    ] }),\n    /* @__PURE__ */ jsxs12(\"ul\", { className: getClassName21(), children: [\n      contentIds.length === 0 && /* @__PURE__ */ jsx38(\"div\", { className: getClassName21(\"helper\"), children: \"No items\" }),\n      contentIds.map((itemId, i) => {\n        return /* @__PURE__ */ jsx38(\n          Layer,\n          {\n            index: i,\n            itemId,\n            zoneCompound\n          },\n          itemId\n        );\n      })\n    ] })\n  ] });\n};\n\n// components/Puck/components/Outline/index.tsx\nimport { useMemo as useMemo16 } from \"react\";\n\n// lib/data/find-zones-for-area.ts\ninit_react_import();\nvar findZonesForArea = (state, area) => {\n  return Object.keys(state.indexes.zones).filter(\n    (zone) => zone.split(\":\")[0] === area\n  );\n};\n\n// components/Puck/components/Outline/index.tsx\nimport { useShallow as useShallow9 } from \"zustand/react/shallow\";\nimport { jsx as jsx39 } from \"react/jsx-runtime\";\nvar Outline = () => {\n  const outlineOverride = useAppStore((s) => s.overrides.outline);\n  const rootZones = useAppStore(\n    useShallow9((s) => findZonesForArea(s.state, \"root\"))\n  );\n  const Wrapper = useMemo16(() => outlineOverride || \"div\", [outlineOverride]);\n  return /* @__PURE__ */ jsx39(Wrapper, { children: rootZones.map((zoneCompound) => /* @__PURE__ */ jsx39(\n    LayerTree,\n    {\n      label: rootZones.length === 1 ? \"\" : zoneCompound.split(\":\")[1],\n      zoneCompound\n    },\n    zoneCompound\n  )) });\n};\n\n// lib/use-loaded-overrides.ts\ninit_react_import();\nimport { useMemo as useMemo17 } from \"react\";\n\n// lib/load-overrides.ts\ninit_react_import();\nvar loadOverrides = ({\n  overrides,\n  plugins\n}) => {\n  const collected = __spreadValues({}, overrides);\n  plugins == null ? void 0 : plugins.forEach((plugin) => {\n    if (!plugin.overrides) return;\n    Object.keys(plugin.overrides).forEach((_overridesType) => {\n      var _a;\n      const overridesType = _overridesType;\n      if (!((_a = plugin.overrides) == null ? void 0 : _a[overridesType])) return;\n      if (overridesType === \"fieldTypes\") {\n        const fieldTypes = plugin.overrides.fieldTypes;\n        Object.keys(fieldTypes).forEach((fieldType) => {\n          collected.fieldTypes = collected.fieldTypes || {};\n          const childNode2 = collected.fieldTypes[fieldType];\n          const Comp2 = (props) => fieldTypes[fieldType](__spreadProps(__spreadValues({}, props), {\n            children: childNode2 ? childNode2(props) : props.children\n          }));\n          collected.fieldTypes[fieldType] = Comp2;\n        });\n        return;\n      }\n      const childNode = collected[overridesType];\n      const Comp = (props) => plugin.overrides[overridesType](__spreadProps(__spreadValues({}, props), {\n        children: childNode ? childNode(props) : props.children\n      }));\n      collected[overridesType] = Comp;\n    });\n  });\n  return collected;\n};\n\n// lib/use-loaded-overrides.ts\nvar useLoadedOverrides = ({\n  overrides,\n  plugins\n}) => {\n  return useMemo17(() => {\n    return loadOverrides({ overrides, plugins });\n  }, [plugins, overrides]);\n};\n\n// lib/use-puck.ts\ninit_react_import();\nimport { createContext as createContext6, useContext as useContext12, useEffect as useEffect22, useState as useState19 } from \"react\";\nimport { createStore as createStore5, useStore as useStore3 } from \"zustand\";\n\n// lib/data/resolve-data-by-id.ts\ninit_react_import();\n\n// lib/data/resolve-and-replace-data.ts\ninit_react_import();\nfunction resolveAndReplaceData(currentData, getState, trigger = \"force\") {\n  return __async(this, null, function* () {\n    const resolvedResult = yield getState().resolveComponentData(\n      currentData,\n      trigger\n    );\n    if (!resolvedResult.didChange) return;\n    const itemSelector = getSelectorForId(\n      getState().state,\n      resolvedResult.node.props.id\n    );\n    if (!itemSelector) {\n      console.warn(\n        `Warning: Could not find component with id \"${currentData.props.id}\" to resolve its data. Component may have been removed or the id is invalid.`\n      );\n      return;\n    }\n    getState().dispatch({\n      type: \"replace\",\n      data: toComponent(resolvedResult.node),\n      destinationIndex: itemSelector.index,\n      destinationZone: itemSelector.zone\n    });\n  });\n}\n\n// lib/data/resolve-data-by-id.ts\nfunction resolveDataById(id, getState, trigger) {\n  return __async(this, null, function* () {\n    const node = getState().state.indexes.nodes[id];\n    if (!node) {\n      console.warn(\n        `Warning: Could not find component with id \"${id}\" to resolve its data. Component may have been removed or the id is invalid.`\n      );\n      return;\n    }\n    yield resolveAndReplaceData(node.data, getState, trigger);\n  });\n}\n\n// lib/data/resolve-data-by-selector.ts\ninit_react_import();\nfunction resolveDataBySelector(selector, getState, trigger) {\n  return __async(this, null, function* () {\n    const item = getItem(selector, getState().state);\n    if (!item) {\n      console.warn(\n        `Warning: Could not find component for selector \"${JSON.stringify(\n          selector\n        )}\" to resolve its data. Component may have been removed or the selector is invalid.`\n      );\n      return;\n    }\n    const itemAsComponent = toComponent(item);\n    yield resolveAndReplaceData(itemAsComponent, getState, trigger);\n  });\n}\n\n// lib/use-puck.ts\nvar generateUsePuck = (store, getState) => {\n  const history = {\n    back: store.history.back,\n    forward: store.history.forward,\n    setHistories: store.history.setHistories,\n    setHistoryIndex: store.history.setHistoryIndex,\n    hasPast: store.history.hasPast(),\n    hasFuture: store.history.hasFuture(),\n    histories: store.history.histories,\n    index: store.history.index\n  };\n  const storeData = {\n    appState: makeStatePublic(store.state),\n    config: store.config,\n    dispatch: store.dispatch,\n    getPermissions: store.permissions.getPermissions,\n    refreshPermissions: store.permissions.refreshPermissions,\n    resolveDataById: (id, trigger) => resolveDataById(id, getState, trigger),\n    resolveDataBySelector: (selector, trigger) => resolveDataBySelector(selector, getState, trigger),\n    history,\n    selectedItem: store.selectedItem || null,\n    getItemBySelector: (selector) => getItem(selector, store.state),\n    getItemById: (id) => store.state.indexes.nodes[id].data,\n    getSelectorForId: (id) => getSelectorForId(store.state, id),\n    getParentById: (id) => {\n      const node = store.state.indexes.nodes[id];\n      const parentId = node.parentId;\n      if (parentId === null) return;\n      const parentNode = store.state.indexes.nodes[parentId];\n      if (!parentNode) return;\n      return parentNode.data;\n    }\n  };\n  storeData.__private = {\n    appState: store.state\n  };\n  return storeData;\n};\nvar UsePuckStoreContext = createContext6(\n  null\n);\nvar convertToPickedStore = (store) => {\n  return {\n    state: store.state,\n    config: store.config,\n    dispatch: store.dispatch,\n    permissions: store.permissions,\n    history: store.history,\n    selectedItem: store.selectedItem\n  };\n};\nvar useRegisterUsePuckStore = (appStore) => {\n  const [usePuckStore] = useState19(\n    () => createStore5(\n      () => generateUsePuck(\n        convertToPickedStore(appStore.getState()),\n        appStore.getState\n      )\n    )\n  );\n  useEffect22(() => {\n    return appStore.subscribe(\n      (store) => convertToPickedStore(store),\n      (pickedStore) => {\n        usePuckStore.setState(generateUsePuck(pickedStore, appStore.getState));\n      }\n    );\n  }, []);\n  return usePuckStore;\n};\nfunction createUsePuck() {\n  return function usePuck2(selector) {\n    const usePuckApi = useContext12(UsePuckStoreContext);\n    if (!usePuckApi) {\n      throw new Error(\"usePuck must be used inside <Puck>.\");\n    }\n    const result = useStore3(\n      usePuckApi,\n      selector != null ? selector : ((s) => s)\n    );\n    return result;\n  };\n}\nfunction usePuck() {\n  useEffect22(() => {\n    console.warn(\n      \"You're using the `usePuck` method without a selector, which may cause unnecessary re-renders. Replace with `createUsePuck` and provide a selector for improved performance.\"\n    );\n  }, []);\n  return createUsePuck()((s) => s);\n}\nfunction useGetPuck() {\n  const usePuckApi = useContext12(UsePuckStoreContext);\n  if (!usePuckApi) {\n    throw new Error(\"usePuckGet must be used inside <Puck>.\");\n  }\n  return usePuckApi.getState;\n}\n\n// components/Puck/index.tsx\nimport { deepEqual as deepEqual2 } from \"fast-equals\";\n\n// components/Puck/components/Layout/index.tsx\ninit_react_import();\nimport { useEffect as useEffect28, useMemo as useMemo23, useState as useState25 } from \"react\";\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Layout/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default16 = { \"Puck\": \"_Puck_1dd16_19\", \"Puck-portal\": \"_Puck-portal_1dd16_31\", \"PuckLayout\": \"_PuckLayout_1dd16_36\", \"PuckLayout-inner\": \"_PuckLayout-inner_1dd16_40\", \"Puck--hidePlugins\": \"_Puck--hidePlugins_1dd16_72\", \"PuckLayout--mounted\": \"_PuckLayout--mounted_1dd16_77\", \"PuckLayout--mobilePanelHeightToggle\": \"_PuckLayout--mobilePanelHeightToggle_1dd16_81\", \"PuckLayout--leftSideBarVisible\": \"_PuckLayout--leftSideBarVisible_1dd16_81\", \"PuckLayout--isExpanded\": \"_PuckLayout--isExpanded_1dd16_87\", \"PuckLayout--mobilePanelHeightMinContent\": \"_PuckLayout--mobilePanelHeightMinContent_1dd16_105\", \"PuckLayout--rightSideBarVisible\": \"_PuckLayout--rightSideBarVisible_1dd16_132\", \"PuckLayout-mounted\": \"_PuckLayout-mounted_1dd16_151\", \"PuckLayout-nav\": \"_PuckLayout-nav_1dd16_192\", \"PuckLayout-header\": \"_PuckLayout-header_1dd16_208\", \"PuckPluginTab\": \"_PuckPluginTab_1dd16_222\", \"PuckPluginTab--visible\": \"_PuckPluginTab--visible_1dd16_228\", \"PuckPluginTab-body\": \"_PuckPluginTab-body_1dd16_233\" };\n\n// lib/use-inject-css.ts\ninit_react_import();\nimport { useEffect as useEffect23, useState as useState20 } from \"react\";\nvar styles = ``;\nvar useInjectStyleSheet = (initialStyles, iframeEnabled) => {\n  const [el, setEl] = useState20();\n  useEffect23(() => {\n    setEl(document.createElement(\"style\"));\n  }, []);\n  useEffect23(() => {\n    var _a;\n    if (!el || typeof window === \"undefined\") {\n      return;\n    }\n    el.innerHTML = initialStyles;\n    if (iframeEnabled) {\n      const frame = getFrame();\n      (_a = frame == null ? void 0 : frame.head) == null ? void 0 : _a.appendChild(el);\n    }\n    document.head.appendChild(el);\n  }, [iframeEnabled, el]);\n  return el;\n};\nvar useInjectGlobalCss = (iframeEnabled) => {\n  return useInjectStyleSheet(styles, iframeEnabled);\n};\n\n// components/DefaultOverride/index.tsx\ninit_react_import();\nimport { Fragment as Fragment13, jsx as jsx40 } from \"react/jsx-runtime\";\nvar DefaultOverride = ({ children }) => /* @__PURE__ */ jsx40(Fragment13, { children });\n\n// lib/use-preview-mode-hotkeys.ts\ninit_react_import();\nimport { useCallback as useCallback16 } from \"react\";\nvar usePreviewModeHotkeys = () => {\n  const appStore = useAppStoreApi();\n  const toggleInteractive = useCallback16(() => {\n    const dispatch = appStore.getState().dispatch;\n    dispatch({\n      type: \"setUi\",\n      ui: (ui) => ({\n        previewMode: ui.previewMode === \"edit\" ? \"interactive\" : \"edit\"\n      })\n    });\n  }, [appStore]);\n  useHotkey({ meta: true, i: true }, toggleInteractive);\n  useHotkey({ ctrl: true, i: true }, toggleInteractive);\n};\n\n// components/Puck/components/Header/index.tsx\ninit_react_import();\nimport { memo as memo9, useCallback as useCallback17, useMemo as useMemo18, useState as useState21 } from \"react\";\n\n// components/MenuBar/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/MenuBar/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default17 = { \"MenuBar\": \"_MenuBar_8pf8c_1\", \"MenuBar--menuOpen\": \"_MenuBar--menuOpen_8pf8c_14\", \"MenuBar-inner\": \"_MenuBar-inner_8pf8c_29\", \"MenuBar-history\": \"_MenuBar-history_8pf8c_45\" };\n\n// components/MenuBar/index.tsx\nimport { Fragment as Fragment14, jsx as jsx41, jsxs as jsxs13 } from \"react/jsx-runtime\";\nvar getClassName22 = get_class_name_factory_default(\"MenuBar\", styles_module_default17);\nfunction MenuBar({\n  menuOpen = false,\n  renderHeaderActions,\n  setMenuOpen\n}) {\n  const back = useAppStore((s) => s.history.back);\n  const forward = useAppStore((s) => s.history.forward);\n  const hasFuture = useAppStore((s) => s.history.hasFuture());\n  const hasPast = useAppStore((s) => s.history.hasPast());\n  return /* @__PURE__ */ jsx41(\n    \"div\",\n    {\n      className: getClassName22({ menuOpen }),\n      onClick: (event) => {\n        var _a;\n        const element = event.target;\n        if (window.matchMedia(\"(min-width: 638px)\").matches) {\n          return;\n        }\n        if (element.tagName === \"A\" && ((_a = element.getAttribute(\"href\")) == null ? void 0 : _a.startsWith(\"#\"))) {\n          setMenuOpen(false);\n        }\n      },\n      children: /* @__PURE__ */ jsxs13(\"div\", { className: getClassName22(\"inner\"), children: [\n        /* @__PURE__ */ jsxs13(\"div\", { className: getClassName22(\"history\"), children: [\n          /* @__PURE__ */ jsx41(\n            IconButton,\n            {\n              type: \"button\",\n              title: \"undo\",\n              disabled: !hasPast,\n              onClick: back,\n              children: /* @__PURE__ */ jsx41(Undo2, { size: 21 })\n            }\n          ),\n          /* @__PURE__ */ jsx41(\n            IconButton,\n            {\n              type: \"button\",\n              title: \"redo\",\n              disabled: !hasFuture,\n              onClick: forward,\n              children: /* @__PURE__ */ jsx41(Redo2, { size: 21 })\n            }\n          )\n        ] }),\n        /* @__PURE__ */ jsx41(Fragment14, { children: renderHeaderActions && renderHeaderActions() })\n      ] })\n    }\n  );\n}\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Header/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default18 = { \"PuckHeader\": \"_PuckHeader_63pti_1\", \"PuckHeader--hidePlugins\": \"_PuckHeader--hidePlugins_63pti_15\", \"PuckHeader-inner\": \"_PuckHeader-inner_63pti_20\", \"PuckHeader-toggle\": \"_PuckHeader-toggle_63pti_40\", \"PuckHeader--rightSideBarVisible\": \"_PuckHeader--rightSideBarVisible_63pti_47\", \"PuckHeader-rightSideBarToggle\": \"_PuckHeader-rightSideBarToggle_63pti_47\", \"PuckHeader--leftSideBarVisible\": \"_PuckHeader--leftSideBarVisible_63pti_48\", \"PuckHeader-leftSideBarToggle\": \"_PuckHeader-leftSideBarToggle_63pti_48\", \"PuckHeader-title\": \"_PuckHeader-title_63pti_64\", \"PuckHeader-path\": \"_PuckHeader-path_63pti_68\", \"PuckHeader-tools\": \"_PuckHeader-tools_63pti_75\", \"PuckHeader-menuButton\": \"_PuckHeader-menuButton_63pti_81\", \"PuckHeader--menuOpen\": \"_PuckHeader--menuOpen_63pti_86\" };\n\n// components/Puck/components/Header/index.tsx\nimport { Fragment as Fragment15, jsx as jsx42, jsxs as jsxs14 } from \"react/jsx-runtime\";\nvar getClassName23 = get_class_name_factory_default(\"PuckHeader\", styles_module_default18);\nvar HeaderInner = ({\n  hidePlugins\n}) => {\n  const {\n    onPublish,\n    renderHeader,\n    renderHeaderActions,\n    headerTitle,\n    headerPath,\n    iframe: _iframe\n  } = usePropsContext();\n  const dispatch = useAppStore((s) => s.dispatch);\n  const appStore = useAppStoreApi();\n  const defaultHeaderRender = useMemo18(() => {\n    if (renderHeader) {\n      console.warn(\n        \"`renderHeader` is deprecated. Please use `overrides.header` and the `usePuck` hook instead\"\n      );\n      const RenderHeader = (_a) => {\n        var _b = _a, { actions } = _b, props = __objRest(_b, [\"actions\"]);\n        const Comp = renderHeader;\n        const appState = useAppStore((s) => s.state);\n        return /* @__PURE__ */ jsx42(Comp, __spreadProps(__spreadValues({}, props), { dispatch, state: appState, children: actions }));\n      };\n      return RenderHeader;\n    }\n    return DefaultOverride;\n  }, [renderHeader]);\n  const defaultHeaderActionsRender = useMemo18(() => {\n    if (renderHeaderActions) {\n      console.warn(\n        \"`renderHeaderActions` is deprecated. Please use `overrides.headerActions` and the `usePuck` hook instead.\"\n      );\n      const RenderHeader = (props) => {\n        const Comp = renderHeaderActions;\n        const appState = useAppStore((s) => s.state);\n        return /* @__PURE__ */ jsx42(Comp, __spreadProps(__spreadValues({}, props), { dispatch, state: appState }));\n      };\n      return RenderHeader;\n    }\n    return DefaultOverride;\n  }, [renderHeaderActions]);\n  const CustomHeader = useAppStore(\n    (s) => s.overrides.header || defaultHeaderRender\n  );\n  const CustomHeaderActions = useAppStore(\n    (s) => s.overrides.headerActions || defaultHeaderActionsRender\n  );\n  const [menuOpen, setMenuOpen] = useState21(false);\n  const rootTitle = useAppStore((s) => {\n    var _a, _b;\n    const rootData = (_a = s.state.indexes.nodes[\"root\"]) == null ? void 0 : _a.data;\n    return (_b = rootData.props.title) != null ? _b : \"\";\n  });\n  const leftSideBarVisible = useAppStore((s) => s.state.ui.leftSideBarVisible);\n  const rightSideBarVisible = useAppStore(\n    (s) => s.state.ui.rightSideBarVisible\n  );\n  const toggleSidebars = useCallback17(\n    (sidebar) => {\n      const widerViewport = window.matchMedia(\"(min-width: 638px)\").matches;\n      const sideBarVisible = sidebar === \"left\" ? leftSideBarVisible : rightSideBarVisible;\n      const oppositeSideBar = sidebar === \"left\" ? \"rightSideBarVisible\" : \"leftSideBarVisible\";\n      dispatch({\n        type: \"setUi\",\n        ui: __spreadValues({\n          [`${sidebar}SideBarVisible`]: !sideBarVisible\n        }, !widerViewport ? { [oppositeSideBar]: false } : {})\n      });\n    },\n    [dispatch, leftSideBarVisible, rightSideBarVisible]\n  );\n  return /* @__PURE__ */ jsx42(\n    CustomHeader,\n    {\n      actions: /* @__PURE__ */ jsx42(Fragment15, { children: /* @__PURE__ */ jsx42(CustomHeaderActions, { children: /* @__PURE__ */ jsx42(\n        Button,\n        {\n          onClick: () => {\n            const data = appStore.getState().state.data;\n            onPublish && onPublish(data);\n          },\n          icon: /* @__PURE__ */ jsx42(Globe, { size: \"14px\" }),\n          children: \"Publish\"\n        }\n      ) }) }),\n      children: /* @__PURE__ */ jsx42(\n        \"header\",\n        {\n          className: getClassName23({\n            leftSideBarVisible,\n            rightSideBarVisible,\n            hidePlugins\n          }),\n          children: /* @__PURE__ */ jsxs14(\"div\", { className: getClassName23(\"inner\"), children: [\n            /* @__PURE__ */ jsxs14(\"div\", { className: getClassName23(\"toggle\"), children: [\n              /* @__PURE__ */ jsx42(\"div\", { className: getClassName23(\"leftSideBarToggle\"), children: /* @__PURE__ */ jsx42(\n                IconButton,\n                {\n                  type: \"button\",\n                  onClick: () => {\n                    toggleSidebars(\"left\");\n                  },\n                  title: \"Toggle left sidebar\",\n                  children: /* @__PURE__ */ jsx42(PanelLeft, { focusable: \"false\" })\n                }\n              ) }),\n              /* @__PURE__ */ jsx42(\"div\", { className: getClassName23(\"rightSideBarToggle\"), children: /* @__PURE__ */ jsx42(\n                IconButton,\n                {\n                  type: \"button\",\n                  onClick: () => {\n                    toggleSidebars(\"right\");\n                  },\n                  title: \"Toggle right sidebar\",\n                  children: /* @__PURE__ */ jsx42(PanelRight, { focusable: \"false\" })\n                }\n              ) })\n            ] }),\n            /* @__PURE__ */ jsx42(\"div\", { className: getClassName23(\"title\"), children: /* @__PURE__ */ jsxs14(Heading, { rank: \"2\", size: \"xs\", children: [\n              headerTitle || rootTitle || \"Page\",\n              headerPath && /* @__PURE__ */ jsxs14(Fragment15, { children: [\n                \" \",\n                /* @__PURE__ */ jsx42(\"code\", { className: getClassName23(\"path\"), children: headerPath })\n              ] })\n            ] }) }),\n            /* @__PURE__ */ jsxs14(\"div\", { className: getClassName23(\"tools\"), children: [\n              /* @__PURE__ */ jsx42(\"div\", { className: getClassName23(\"menuButton\"), children: /* @__PURE__ */ jsx42(\n                IconButton,\n                {\n                  type: \"button\",\n                  onClick: () => {\n                    return setMenuOpen(!menuOpen);\n                  },\n                  title: \"Toggle menu bar\",\n                  children: menuOpen ? /* @__PURE__ */ jsx42(ChevronUp, { focusable: \"false\" }) : /* @__PURE__ */ jsx42(ChevronDown, { focusable: \"false\" })\n                }\n              ) }),\n              /* @__PURE__ */ jsx42(\n                MenuBar,\n                {\n                  dispatch,\n                  onPublish,\n                  menuOpen,\n                  renderHeaderActions: () => /* @__PURE__ */ jsx42(CustomHeaderActions, { children: /* @__PURE__ */ jsx42(\n                    Button,\n                    {\n                      onClick: () => {\n                        const data = appStore.getState().state.data;\n                        onPublish && onPublish(data);\n                      },\n                      icon: /* @__PURE__ */ jsx42(Globe, { size: \"14px\" }),\n                      children: \"Publish\"\n                    }\n                  ) }),\n                  setMenuOpen\n                }\n              )\n            ] })\n          ] })\n        }\n      )\n    }\n  );\n};\nvar Header = memo9(HeaderInner);\n\n// components/SidebarSection/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/SidebarSection/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default19 = { \"SidebarSection\": \"_SidebarSection_5otpt_1\", \"SidebarSection-title\": \"_SidebarSection-title_5otpt_12\", \"SidebarSection--noBorderTop\": \"_SidebarSection--noBorderTop_5otpt_20\", \"SidebarSection-content\": \"_SidebarSection-content_5otpt_24\", \"SidebarSection-breadcrumbLabel\": \"_SidebarSection-breadcrumbLabel_5otpt_33\", \"SidebarSection-breadcrumbs\": \"_SidebarSection-breadcrumbs_5otpt_62\", \"SidebarSection-breadcrumb\": \"_SidebarSection-breadcrumb_5otpt_33\", \"SidebarSection-heading\": \"_SidebarSection-heading_5otpt_74\", \"SidebarSection-loadingOverlay\": \"_SidebarSection-loadingOverlay_5otpt_78\" };\n\n// components/Breadcrumbs/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Breadcrumbs/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default20 = { \"Breadcrumbs\": \"_Breadcrumbs_1c9yh_1\", \"Breadcrumbs-breadcrumbLabel\": \"_Breadcrumbs-breadcrumbLabel_1c9yh_7\", \"Breadcrumbs-breadcrumb\": \"_Breadcrumbs-breadcrumb_1c9yh_7\" };\n\n// lib/use-breadcrumbs.ts\ninit_react_import();\nimport { useMemo as useMemo19 } from \"react\";\nvar useBreadcrumbs = (renderCount) => {\n  const selectedId = useAppStore((s) => {\n    var _a;\n    return (_a = s.selectedItem) == null ? void 0 : _a.props.id;\n  });\n  const config = useAppStore((s) => s.config);\n  const path = useAppStore((s) => {\n    var _a;\n    return (_a = s.state.indexes.nodes[selectedId]) == null ? void 0 : _a.path;\n  });\n  const appStore = useAppStoreApi();\n  return useMemo19(() => {\n    const breadcrumbs = (path == null ? void 0 : path.map((zoneCompound) => {\n      var _a, _b, _c, _d;\n      const [componentId] = zoneCompound.split(\":\");\n      if (componentId === \"root\") {\n        return {\n          label: ((_a = config == null ? void 0 : config.root) == null ? void 0 : _a.label) || \"Page\",\n          selector: null\n        };\n      }\n      const node = appStore.getState().state.indexes.nodes[componentId];\n      const parentId = node.path[node.path.length - 1];\n      const contentIds = ((_b = appStore.getState().state.indexes.zones[parentId]) == null ? void 0 : _b.contentIds) || [];\n      const index = contentIds.indexOf(componentId);\n      const label = node ? (_d = (_c = config.components[node.data.type]) == null ? void 0 : _c.label) != null ? _d : node.data.type : \"Component\";\n      return {\n        label,\n        selector: node ? {\n          index,\n          zone: node.path[node.path.length - 1]\n        } : null\n      };\n    })) || [];\n    if (renderCount) {\n      return breadcrumbs.slice(breadcrumbs.length - renderCount);\n    }\n    return breadcrumbs;\n  }, [path, renderCount]);\n};\n\n// components/Breadcrumbs/index.tsx\nimport { jsx as jsx43, jsxs as jsxs15 } from \"react/jsx-runtime\";\nvar getClassName24 = get_class_name_factory_default(\"Breadcrumbs\", styles_module_default20);\nvar Breadcrumbs = ({\n  children,\n  numParents = 1\n}) => {\n  const setUi = useAppStore((s) => s.setUi);\n  const breadcrumbs = useBreadcrumbs(numParents);\n  return /* @__PURE__ */ jsxs15(\"div\", { className: getClassName24(), children: [\n    breadcrumbs.map((breadcrumb, i) => /* @__PURE__ */ jsxs15(\"div\", { className: getClassName24(\"breadcrumb\"), children: [\n      /* @__PURE__ */ jsx43(\n        \"button\",\n        {\n          type: \"button\",\n          className: getClassName24(\"breadcrumbLabel\"),\n          onClick: () => setUi({ itemSelector: breadcrumb.selector }),\n          children: breadcrumb.label\n        }\n      ),\n      /* @__PURE__ */ jsx43(ChevronRight, { size: 16 })\n    ] }, i)),\n    children\n  ] });\n};\n\n// components/SidebarSection/index.tsx\nimport { jsx as jsx44, jsxs as jsxs16 } from \"react/jsx-runtime\";\nvar getClassName25 = get_class_name_factory_default(\"SidebarSection\", styles_module_default19);\nvar SidebarSection = ({\n  children,\n  title,\n  background,\n  showBreadcrumbs,\n  noBorderTop,\n  isLoading\n}) => {\n  return /* @__PURE__ */ jsxs16(\"div\", { className: getClassName25({ noBorderTop }), style: { background }, children: [\n    /* @__PURE__ */ jsx44(\"div\", { className: getClassName25(\"title\"), children: /* @__PURE__ */ jsxs16(\"div\", { className: getClassName25(\"breadcrumbs\"), children: [\n      showBreadcrumbs && /* @__PURE__ */ jsx44(Breadcrumbs, {}),\n      /* @__PURE__ */ jsx44(\"div\", { className: getClassName25(\"heading\"), children: /* @__PURE__ */ jsx44(Heading, { rank: \"2\", size: \"xs\", children: title }) })\n    ] }) }),\n    /* @__PURE__ */ jsx44(\"div\", { className: getClassName25(\"content\"), children }),\n    isLoading && /* @__PURE__ */ jsx44(\"div\", { className: getClassName25(\"loadingOverlay\"), children: /* @__PURE__ */ jsx44(Loader, { size: 32 }) })\n  ] });\n};\n\n// components/Puck/components/Canvas/index.tsx\ninit_react_import();\nimport {\n  useCallback as useCallback18,\n  useEffect as useEffect25,\n  useMemo as useMemo22,\n  useRef as useRef11,\n  useState as useState23\n} from \"react\";\n\n// components/ViewportControls/index.tsx\ninit_react_import();\nimport { useEffect as useEffect24, useMemo as useMemo20, useState as useState22 } from \"react\";\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/ViewportControls/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default21 = { \"ViewportControls\": \"_ViewportControls_e3unb_1\", \"ViewportControls--fullScreen\": \"_ViewportControls--fullScreen_e3unb_5\", \"ViewportControls-toggleButton\": \"_ViewportControls-toggleButton_e3unb_14\", \"ViewportControls--isExpanded\": \"_ViewportControls--isExpanded_e3unb_38\", \"ViewportControls-actions\": \"_ViewportControls-actions_e3unb_42\", \"ViewportControls-actionsInner\": \"_ViewportControls-actionsInner_e3unb_46\", \"ViewportControls-divider\": \"_ViewportControls-divider_e3unb_75\", \"ViewportControls-zoomSelect\": \"_ViewportControls-zoomSelect_e3unb_81\", \"ViewportControls-zoom\": \"_ViewportControls-zoom_e3unb_81\", \"ViewportButton-inner\": \"_ViewportButton-inner_e3unb_111\", \"ViewportButton--isActive\": \"_ViewportButton--isActive_e3unb_119\" };\n\n// components/ViewportControls/index.tsx\nimport { jsx as jsx45, jsxs as jsxs17 } from \"react/jsx-runtime\";\nvar icons = {\n  Smartphone: /* @__PURE__ */ jsx45(Smartphone, { size: 16 }),\n  Tablet: /* @__PURE__ */ jsx45(Tablet, { size: 16 }),\n  Monitor: /* @__PURE__ */ jsx45(Monitor, { size: 16 }),\n  FullWidth: /* @__PURE__ */ jsx45(Expand, { size: 16 })\n};\nvar getClassName26 = get_class_name_factory_default(\"ViewportControls\", styles_module_default21);\nvar getClassNameButton = get_class_name_factory_default(\"ViewportButton\", styles_module_default21);\nvar ActionButton = ({\n  children,\n  title,\n  onClick,\n  isActive,\n  disabled\n}) => {\n  return /* @__PURE__ */ jsx45(\"span\", { className: getClassNameButton({ isActive }), suppressHydrationWarning: true, children: /* @__PURE__ */ jsx45(\n    IconButton,\n    {\n      type: \"button\",\n      title,\n      disabled: disabled || isActive,\n      onClick,\n      suppressHydrationWarning: true,\n      children: /* @__PURE__ */ jsx45(\"span\", { className: getClassNameButton(\"inner\"), children })\n    }\n  ) });\n};\nvar defaultZoomOptions = [\n  { label: \"25%\", value: 0.25 },\n  { label: \"50%\", value: 0.5 },\n  { label: \"75%\", value: 0.75 },\n  { label: \"100%\", value: 1 },\n  { label: \"125%\", value: 1.25 },\n  { label: \"150%\", value: 1.5 },\n  { label: \"200%\", value: 2 }\n];\nvar ViewportControls = ({\n  autoZoom,\n  zoom,\n  onViewportChange,\n  onZoom,\n  fullScreen\n}) => {\n  var _a, _b;\n  const viewports = useAppStore((s) => s.viewports);\n  const uiViewports = useAppStore((s) => s.state.ui.viewports);\n  const defaultsContainAutoZoom = defaultZoomOptions.find(\n    (option) => option.value === autoZoom\n  );\n  const zoomOptions = useMemo20(\n    () => [\n      ...defaultZoomOptions,\n      ...defaultsContainAutoZoom ? [] : [\n        {\n          value: autoZoom,\n          label: `${(autoZoom * 100).toFixed(0)}% (Auto)`\n        }\n      ]\n    ].filter((a) => a.value <= autoZoom).sort((a, b) => a.value > b.value ? 1 : -1),\n    [autoZoom]\n  );\n  const [activeViewport, setActiveViewport] = useState22(\n    uiViewports.current.width\n  );\n  useEffect24(() => {\n    setActiveViewport(uiViewports.current.width);\n  }, [uiViewports.current]);\n  const [isExpanded, setIsExpanded] = useState22(false);\n  return /* @__PURE__ */ jsxs17(\n    \"div\",\n    {\n      className: getClassName26({ isExpanded, fullScreen }),\n      suppressHydrationWarning: true,\n      children: [\n        /* @__PURE__ */ jsx45(\"div\", { className: getClassName26(\"actions\"), children: /* @__PURE__ */ jsxs17(\"div\", { className: getClassName26(\"actionsInner\"), children: [\n          viewports.map((viewport, i) => /* @__PURE__ */ jsx45(\n            ActionButton,\n            {\n              title: viewport.label ? `Switch to ${viewport.label} viewport` : \"Switch viewport\",\n              onClick: () => {\n                setActiveViewport(viewport.width);\n                onViewportChange(viewport);\n              },\n              isActive: activeViewport === viewport.width,\n              children: typeof viewport.icon === \"string\" ? icons[viewport.icon] || viewport.icon : viewport.icon || icons.Smartphone\n            },\n            i\n          )),\n          /* @__PURE__ */ jsx45(\"div\", { className: getClassName26(\"divider\") }),\n          /* @__PURE__ */ jsx45(\n            ActionButton,\n            {\n              title: \"Zoom viewport out\",\n              disabled: zoom <= ((_a = zoomOptions[0]) == null ? void 0 : _a.value),\n              onClick: (e) => {\n                e.stopPropagation();\n                onZoom(\n                  zoomOptions[Math.max(\n                    zoomOptions.findIndex((option) => option.value === zoom) - 1,\n                    0\n                  )].value\n                );\n              },\n              children: /* @__PURE__ */ jsx45(ZoomOut, { size: 16 })\n            }\n          ),\n          /* @__PURE__ */ jsx45(\n            ActionButton,\n            {\n              title: \"Zoom viewport in\",\n              disabled: zoom >= ((_b = zoomOptions[zoomOptions.length - 1]) == null ? void 0 : _b.value),\n              onClick: (e) => {\n                e.stopPropagation();\n                onZoom(\n                  zoomOptions[Math.min(\n                    zoomOptions.findIndex((option) => option.value === zoom) + 1,\n                    zoomOptions.length - 1\n                  )].value\n                );\n              },\n              children: /* @__PURE__ */ jsx45(ZoomIn, { size: 16 })\n            }\n          ),\n          /* @__PURE__ */ jsxs17(\"div\", { className: getClassName26(\"zoom\"), children: [\n            /* @__PURE__ */ jsx45(\"div\", { className: getClassName26(\"divider\") }),\n            /* @__PURE__ */ jsx45(\n              \"select\",\n              {\n                className: getClassName26(\"zoomSelect\"),\n                value: zoom.toString(),\n                onClick: (e) => {\n                  e.stopPropagation();\n                },\n                onChange: (e) => {\n                  onZoom(parseFloat(e.currentTarget.value));\n                },\n                children: zoomOptions.map((option) => /* @__PURE__ */ jsx45(\n                  \"option\",\n                  {\n                    value: option.value,\n                    label: option.label\n                  },\n                  option.label\n                ))\n              }\n            )\n          ] })\n        ] }) }),\n        /* @__PURE__ */ jsx45(\n          \"button\",\n          {\n            className: getClassName26(\"toggleButton\"),\n            title: \"Toggle viewport menu\",\n            onClick: () => setIsExpanded((s) => !s),\n            children: isExpanded ? /* @__PURE__ */ jsx45(X, { size: 16 }) : /* @__PURE__ */ jsx45(Monitor, { size: 16 })\n          }\n        )\n      ]\n    }\n  );\n};\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Canvas/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default22 = { \"PuckCanvas\": \"_PuckCanvas_t6s9b_1\", \"PuckCanvas-controls\": \"_PuckCanvas-controls_t6s9b_17\", \"PuckCanvas--fullScreen\": \"_PuckCanvas--fullScreen_t6s9b_22\", \"PuckCanvas-inner\": \"_PuckCanvas-inner_t6s9b_33\", \"PuckCanvas-root\": \"_PuckCanvas-root_t6s9b_42\", \"PuckCanvas--ready\": \"_PuckCanvas--ready_t6s9b_67\", \"PuckCanvas-loader\": \"_PuckCanvas-loader_t6s9b_72\", \"PuckCanvas--showLoader\": \"_PuckCanvas--showLoader_t6s9b_82\" };\n\n// components/Puck/components/Canvas/index.tsx\nimport { useShallow as useShallow10 } from \"zustand/react/shallow\";\n\n// lib/frame-context.tsx\ninit_react_import();\nimport {\n  createContext as createContext7,\n  useContext as useContext13,\n  useRef as useRef10,\n  useMemo as useMemo21\n} from \"react\";\nimport { jsx as jsx46 } from \"react/jsx-runtime\";\nvar FrameContext = createContext7(null);\nvar FrameProvider = ({\n  children\n}) => {\n  const frameRef = useRef10(null);\n  const value = useMemo21(\n    () => ({\n      frameRef\n    }),\n    []\n  );\n  return /* @__PURE__ */ jsx46(FrameContext.Provider, { value, children });\n};\nvar useCanvasFrame = () => {\n  const context = useContext13(FrameContext);\n  if (context === null) {\n    throw new Error(\"useCanvasFrame must be used within a FrameProvider\");\n  }\n  return context;\n};\n\n// components/Puck/components/Canvas/index.tsx\nimport { Fragment as Fragment16, jsx as jsx47, jsxs as jsxs18 } from \"react/jsx-runtime\";\nvar getClassName27 = get_class_name_factory_default(\"PuckCanvas\", styles_module_default22);\nvar ZOOM_ON_CHANGE = true;\nvar TRANSITION_DURATION = 150;\nvar Canvas = () => {\n  const { frameRef } = useCanvasFrame();\n  const resetAutoZoom = useResetAutoZoom(frameRef);\n  const {\n    _experimentalFullScreenCanvas,\n    viewports: viewportOptions = defaultViewports\n  } = usePropsContext();\n  const {\n    dispatch,\n    overrides,\n    setUi,\n    zoomConfig,\n    setZoomConfig,\n    status,\n    iframe\n  } = useAppStore(\n    useShallow10((s) => ({\n      dispatch: s.dispatch,\n      overrides: s.overrides,\n      setUi: s.setUi,\n      zoomConfig: s.zoomConfig,\n      setZoomConfig: s.setZoomConfig,\n      status: s.status,\n      iframe: s.iframe\n    }))\n  );\n  const {\n    leftSideBarVisible,\n    rightSideBarVisible,\n    leftSideBarWidth,\n    rightSideBarWidth,\n    viewports\n  } = useAppStore(\n    useShallow10((s) => ({\n      leftSideBarVisible: s.state.ui.leftSideBarVisible,\n      rightSideBarVisible: s.state.ui.rightSideBarVisible,\n      leftSideBarWidth: s.state.ui.leftSideBarWidth,\n      rightSideBarWidth: s.state.ui.rightSideBarWidth,\n      viewports: s.state.ui.viewports\n    }))\n  );\n  const [showTransition, setShowTransition] = useState23(false);\n  const isResizingRef = useRef11(false);\n  const defaultRender = useMemo22(() => {\n    const PuckDefault = ({ children }) => /* @__PURE__ */ jsx47(Fragment16, { children });\n    return PuckDefault;\n  }, []);\n  const CustomPreview = useMemo22(\n    () => overrides.preview || defaultRender,\n    [overrides]\n  );\n  const getFrameDimensions = useCallback18(() => {\n    if (frameRef.current) {\n      const frame = frameRef.current;\n      const box = getBox(frame);\n      return { width: box.contentBox.width, height: box.contentBox.height };\n    }\n    return { width: 0, height: 0 };\n  }, [frameRef]);\n  useEffect25(() => {\n    resetAutoZoom();\n  }, [\n    frameRef,\n    leftSideBarVisible,\n    rightSideBarVisible,\n    leftSideBarWidth,\n    rightSideBarWidth,\n    viewports\n  ]);\n  useEffect25(() => {\n    const { height: frameHeight } = getFrameDimensions();\n    if (viewports.current.height === \"auto\") {\n      setZoomConfig(__spreadProps(__spreadValues({}, zoomConfig), {\n        rootHeight: frameHeight / zoomConfig.zoom\n      }));\n    }\n  }, [zoomConfig.zoom, getFrameDimensions, setZoomConfig]);\n  useEffect25(() => {\n    if (ZOOM_ON_CHANGE) {\n      resetAutoZoom();\n    }\n  }, [viewports.current.width, viewports]);\n  useEffect25(() => {\n    if (!frameRef.current) return;\n    const resizeObserver = new ResizeObserver(() => {\n      if (!isResizingRef.current) {\n        resetAutoZoom();\n      }\n    });\n    resizeObserver.observe(frameRef.current);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [frameRef.current]);\n  const [showLoader, setShowLoader] = useState23(false);\n  useEffect25(() => {\n    setTimeout(() => {\n      setShowLoader(true);\n    }, 500);\n  }, []);\n  const appStoreApi = useAppStoreApi();\n  useEffect25(() => {\n    var _a;\n    if (typeof window === \"undefined\") return;\n    const viewportWidth = window.innerWidth;\n    const frameWidth = (_a = frameRef.current) == null ? void 0 : _a.getBoundingClientRect().width;\n    if (!viewportWidth) return;\n    if (!frameWidth) return;\n    if (viewportOptions.length === 0) return;\n    const fullWidthViewport = Object.values(viewportOptions).find(\n      (v) => v.width === \"100%\"\n    );\n    const containsFullWidthViewport = !!fullWidthViewport;\n    const viewportDifferences = Object.entries(viewportOptions).filter(([_, value]) => value.width !== \"100%\").map(([key, value]) => ({\n      key,\n      diff: Math.abs(\n        viewportWidth - (typeof value.width === \"string\" ? viewportWidth : value.width)\n      ),\n      value\n    })).sort((a, b) => a.diff > b.diff ? 1 : -1);\n    let closestViewport = viewportDifferences[0].value;\n    if (closestViewport.width < frameWidth && containsFullWidthViewport) {\n      closestViewport = fullWidthViewport;\n    }\n    if (iframe.enabled) {\n      const s = appStoreApi.getState();\n      const appState = {\n        state: __spreadProps(__spreadValues({}, s.state), {\n          ui: __spreadProps(__spreadValues({}, s.state.ui), {\n            viewports: __spreadProps(__spreadValues({}, s.state.ui.viewports), {\n              current: __spreadProps(__spreadValues({}, s.state.ui.viewports.current), {\n                height: (closestViewport == null ? void 0 : closestViewport.height) || \"auto\",\n                width: closestViewport == null ? void 0 : closestViewport.width\n              })\n            })\n          })\n        })\n      };\n      let history = s.history;\n      if (s.history.histories.length === 1) {\n        history = __spreadProps(__spreadValues({}, history), { histories: [appState] });\n      }\n      appStoreApi.setState(__spreadProps(__spreadValues({}, appState), { history }));\n    }\n  }, [viewportOptions, frameRef.current, iframe, appStoreApi]);\n  return /* @__PURE__ */ jsxs18(\n    \"div\",\n    {\n      className: getClassName27({\n        ready: status === \"READY\" || !iframe.enabled || !iframe.waitForStyles,\n        showLoader,\n        fullScreen: _experimentalFullScreenCanvas\n      }),\n      onClick: (e) => {\n        const el = e.target;\n        if (!el.hasAttribute(\"data-puck-component\") && !el.hasAttribute(\"data-puck-dropzone\")) {\n          dispatch({\n            type: \"setUi\",\n            ui: { itemSelector: null },\n            recordHistory: true\n          });\n        }\n      },\n      children: [\n        viewports.controlsVisible && iframe.enabled && /* @__PURE__ */ jsx47(\"div\", { className: getClassName27(\"controls\"), children: /* @__PURE__ */ jsx47(\n          ViewportControls,\n          {\n            fullScreen: _experimentalFullScreenCanvas,\n            autoZoom: zoomConfig.autoZoom,\n            zoom: zoomConfig.zoom,\n            onViewportChange: (viewport) => {\n              setShowTransition(true);\n              isResizingRef.current = true;\n              const uiViewport = __spreadProps(__spreadValues({}, viewport), {\n                height: viewport.height || \"auto\",\n                zoom: zoomConfig.zoom\n              });\n              const newUi = {\n                viewports: __spreadProps(__spreadValues({}, viewports), { current: uiViewport })\n              };\n              setUi(newUi);\n              if (ZOOM_ON_CHANGE) {\n                resetAutoZoom({\n                  viewports: __spreadProps(__spreadValues({}, viewports), { current: uiViewport })\n                });\n              }\n            },\n            onZoom: (zoom) => {\n              setShowTransition(true);\n              isResizingRef.current = true;\n              setZoomConfig(__spreadProps(__spreadValues({}, zoomConfig), { zoom }));\n            }\n          }\n        ) }),\n        /* @__PURE__ */ jsxs18(\"div\", { className: getClassName27(\"inner\"), ref: frameRef, children: [\n          /* @__PURE__ */ jsx47(\n            \"div\",\n            {\n              className: getClassName27(\"root\"),\n              style: {\n                width: iframe.enabled ? viewports.current.width : \"100%\",\n                height: zoomConfig.rootHeight,\n                transform: iframe.enabled ? `scale(${zoomConfig.zoom})` : void 0,\n                transition: showTransition ? `width ${TRANSITION_DURATION}ms ease-out, height ${TRANSITION_DURATION}ms ease-out, transform ${TRANSITION_DURATION}ms ease-out` : \"\",\n                overflow: iframe.enabled ? void 0 : \"auto\"\n              },\n              suppressHydrationWarning: true,\n              id: \"puck-canvas-root\",\n              onTransitionEnd: () => {\n                setShowTransition(false);\n                isResizingRef.current = false;\n              },\n              children: /* @__PURE__ */ jsx47(CustomPreview, { children: /* @__PURE__ */ jsx47(Preview2, {}) })\n            }\n          ),\n          /* @__PURE__ */ jsx47(\"div\", { className: getClassName27(\"loader\"), children: /* @__PURE__ */ jsx47(Loader, { size: 24 }) })\n        ] })\n      ]\n    }\n  );\n};\n\n// lib/use-sidebar-resize.ts\ninit_react_import();\nimport { useCallback as useCallback19, useEffect as useEffect26, useRef as useRef12, useState as useState24 } from \"react\";\nfunction useSidebarResize(position, dispatch) {\n  const [width, setWidth] = useState24(null);\n  const sidebarRef = useRef12(null);\n  const storeWidth = useAppStore(\n    (s) => position === \"left\" ? s.state.ui.leftSideBarWidth : s.state.ui.rightSideBarWidth\n  );\n  useEffect26(() => {\n    if (typeof window !== \"undefined\" && !storeWidth) {\n      try {\n        const savedWidths = localStorage.getItem(\"puck-sidebar-widths\");\n        if (savedWidths) {\n          const widths = JSON.parse(savedWidths);\n          const savedWidth = widths[position];\n          const key = position === \"left\" ? \"leftSideBarWidth\" : \"rightSideBarWidth\";\n          if (savedWidth) {\n            dispatch({\n              type: \"setUi\",\n              ui: {\n                [key]: savedWidth\n              }\n            });\n          }\n        }\n      } catch (error) {\n        console.error(\n          `Failed to load ${position} sidebar width from localStorage`,\n          error\n        );\n      }\n    }\n  }, [dispatch, position, storeWidth]);\n  useEffect26(() => {\n    if (storeWidth !== void 0) {\n      setWidth(storeWidth);\n    }\n  }, [storeWidth]);\n  const handleResizeEnd = useCallback19(\n    (width2) => {\n      dispatch({\n        type: \"setUi\",\n        ui: {\n          [position === \"left\" ? \"leftSideBarWidth\" : \"rightSideBarWidth\"]: width2\n        }\n      });\n      let widths = {};\n      try {\n        const savedWidths = localStorage.getItem(\"puck-sidebar-widths\");\n        widths = savedWidths ? JSON.parse(savedWidths) : {};\n      } catch (error) {\n        console.error(\n          `Failed to save ${position} sidebar width to localStorage`,\n          error\n        );\n      } finally {\n        localStorage.setItem(\n          \"puck-sidebar-widths\",\n          JSON.stringify(__spreadProps(__spreadValues({}, widths), {\n            [position]: width2\n          }))\n        );\n      }\n      window.dispatchEvent(\n        new CustomEvent(\"viewportchange\", {\n          bubbles: true,\n          cancelable: false\n        })\n      );\n    },\n    [dispatch, position]\n  );\n  return {\n    width,\n    setWidth,\n    sidebarRef,\n    handleResizeEnd\n  };\n}\n\n// components/Puck/components/Sidebar/index.tsx\ninit_react_import();\n\n// components/Puck/components/ResizeHandle/index.tsx\ninit_react_import();\nimport { useCallback as useCallback20, useRef as useRef13 } from \"react\";\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/ResizeHandle/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default23 = { \"ResizeHandle\": \"_ResizeHandle_144bf_2\", \"ResizeHandle--left\": \"_ResizeHandle--left_144bf_16\", \"ResizeHandle--right\": \"_ResizeHandle--right_144bf_20\" };\n\n// components/Puck/components/ResizeHandle/index.tsx\nimport { jsx as jsx48 } from \"react/jsx-runtime\";\nvar getClassName28 = get_class_name_factory_default(\"ResizeHandle\", styles_module_default23);\nvar ResizeHandle = ({\n  position,\n  sidebarRef,\n  onResize,\n  onResizeEnd\n}) => {\n  const { frameRef } = useCanvasFrame();\n  const resetAutoZoom = useResetAutoZoom(frameRef);\n  const handleRef = useRef13(null);\n  const isDragging = useRef13(false);\n  const startX = useRef13(0);\n  const startWidth = useRef13(0);\n  const handleMouseMove = useCallback20(\n    (e) => {\n      if (!isDragging.current) return;\n      const delta = e.clientX - startX.current;\n      const newWidth = position === \"left\" ? startWidth.current + delta : startWidth.current - delta;\n      const width = Math.max(192, newWidth);\n      onResize(width);\n      e.preventDefault();\n    },\n    [onResize, position]\n  );\n  const handleMouseUp = useCallback20(() => {\n    var _a;\n    if (!isDragging.current) return;\n    isDragging.current = false;\n    document.body.style.cursor = \"\";\n    document.body.style.userSelect = \"\";\n    const overlay = document.getElementById(\"resize-overlay\");\n    if (overlay) {\n      document.body.removeChild(overlay);\n    }\n    document.removeEventListener(\"mousemove\", handleMouseMove);\n    document.removeEventListener(\"mouseup\", handleMouseUp);\n    const finalWidth = ((_a = sidebarRef.current) == null ? void 0 : _a.getBoundingClientRect().width) || 0;\n    onResizeEnd(finalWidth);\n    resetAutoZoom();\n  }, [onResizeEnd]);\n  const handleMouseDown = useCallback20(\n    (e) => {\n      var _a;\n      isDragging.current = true;\n      startX.current = e.clientX;\n      startWidth.current = ((_a = sidebarRef.current) == null ? void 0 : _a.getBoundingClientRect().width) || 0;\n      document.body.style.cursor = \"col-resize\";\n      document.body.style.userSelect = \"none\";\n      const overlay = document.createElement(\"div\");\n      overlay.id = \"resize-overlay\";\n      overlay.setAttribute(\"data-resize-overlay\", \"\");\n      document.body.appendChild(overlay);\n      document.addEventListener(\"mousemove\", handleMouseMove);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n      e.preventDefault();\n    },\n    [position, handleMouseMove, handleMouseUp]\n  );\n  return /* @__PURE__ */ jsx48(\n    \"div\",\n    {\n      ref: handleRef,\n      className: getClassName28({ [position]: true }),\n      onMouseDown: handleMouseDown\n    }\n  );\n};\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Sidebar/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default24 = { \"Sidebar\": \"_Sidebar_o396p_1\", \"Sidebar--isVisible\": \"_Sidebar--isVisible_o396p_9\", \"Sidebar--left\": \"_Sidebar--left_o396p_13\", \"Sidebar--right\": \"_Sidebar--right_o396p_25\", \"Sidebar-resizeHandle\": \"_Sidebar-resizeHandle_o396p_37\" };\n\n// components/Puck/components/Sidebar/index.tsx\nimport { Fragment as Fragment17, jsx as jsx49, jsxs as jsxs19 } from \"react/jsx-runtime\";\nvar getClassName29 = get_class_name_factory_default(\"Sidebar\", styles_module_default24);\nvar Sidebar = ({\n  position,\n  sidebarRef,\n  isVisible,\n  onResize,\n  onResizeEnd,\n  children\n}) => {\n  return /* @__PURE__ */ jsxs19(Fragment17, { children: [\n    /* @__PURE__ */ jsx49(\n      \"div\",\n      {\n        ref: sidebarRef,\n        className: getClassName29({ [position]: true, isVisible }),\n        children\n      }\n    ),\n    /* @__PURE__ */ jsx49(\"div\", { className: `${getClassName29(\"resizeHandle\")}`, children: /* @__PURE__ */ jsx49(\n      ResizeHandle,\n      {\n        position,\n        sidebarRef,\n        onResize,\n        onResizeEnd\n      }\n    ) })\n  ] });\n};\n\n// lib/use-delete-hotkeys.ts\ninit_react_import();\nimport { useCallback as useCallback21 } from \"react\";\nvar isElementVisible = (element) => {\n  let current = element;\n  while (current && current !== document.body) {\n    const style = window.getComputedStyle(current);\n    if (style.display === \"none\" || style.visibility === \"hidden\" || style.opacity === \"0\" || current.getAttribute(\"aria-hidden\") === \"true\" || current.hasAttribute(\"hidden\")) {\n      return false;\n    }\n    current = current.parentElement;\n  }\n  return true;\n};\nvar shouldBlockDeleteHotkey = (e) => {\n  var _a;\n  if (e == null ? void 0 : e.defaultPrevented) return true;\n  const origin = ((_a = e == null ? void 0 : e.composedPath) == null ? void 0 : _a.call(e)[0]) || (e == null ? void 0 : e.target) || document.activeElement;\n  if (origin instanceof HTMLElement) {\n    const tag = origin.tagName.toLowerCase();\n    if (tag === \"input\" || tag === \"textarea\" || tag === \"select\") return true;\n    if (origin.isContentEditable) return true;\n    const role = origin.getAttribute(\"role\");\n    if (role === \"textbox\" || role === \"combobox\" || role === \"searchbox\" || role === \"listbox\" || role === \"grid\") {\n      return true;\n    }\n  }\n  const modal = document.querySelector(\n    'dialog[open], [aria-modal=\"true\"], [role=\"dialog\"], [role=\"alertdialog\"]'\n  );\n  if (modal && isElementVisible(modal)) {\n    return true;\n  }\n  return false;\n};\nvar useDeleteHotkeys = () => {\n  const appStore = useAppStoreApi();\n  const deleteSelectedComponent = useCallback21(\n    (e) => {\n      var _a;\n      if (shouldBlockDeleteHotkey(e)) {\n        return false;\n      }\n      const { state, dispatch, permissions, selectedItem } = appStore.getState();\n      const sel = (_a = state.ui) == null ? void 0 : _a.itemSelector;\n      if (!(sel == null ? void 0 : sel.zone) || !selectedItem) return true;\n      if (!permissions.getPermissions({ item: selectedItem }).delete)\n        return true;\n      dispatch({\n        type: \"remove\",\n        index: sel.index,\n        zone: sel.zone\n      });\n      return true;\n    },\n    [appStore]\n  );\n  useHotkey({ delete: true }, deleteSelectedComponent);\n  useHotkey({ backspace: true }, deleteSelectedComponent);\n};\n\n// components/Puck/components/Nav/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Nav/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default25 = { \"Nav\": \"_Nav_1tvxq_1\", \"Nav-list\": \"_Nav-list_1tvxq_5\", \"Nav-mobileActions\": \"_Nav-mobileActions_1tvxq_23\", \"NavItem-link\": \"_NavItem-link_1tvxq_38\", \"NavItem\": \"_NavItem_1tvxq_38\", \"NavItem-linkIcon\": \"_NavItem-linkIcon_1tvxq_89\", \"NavItem--active\": \"_NavItem--active_1tvxq_94\", \"NavItem--mobileOnly\": \"_NavItem--mobileOnly_1tvxq_121\", \"NavItem--desktopOnly\": \"_NavItem--desktopOnly_1tvxq_126\" };\n\n// components/Puck/components/Nav/index.tsx\nimport { jsx as jsx50, jsxs as jsxs20 } from \"react/jsx-runtime\";\nvar getClassName30 = get_class_name_factory_default(\"Nav\", styles_module_default25);\nvar getClassNameItem3 = get_class_name_factory_default(\"NavItem\", styles_module_default25);\nvar MenuItem = ({\n  label,\n  icon,\n  onClick,\n  isActive,\n  mobileOnly,\n  desktopOnly\n}) => {\n  return /* @__PURE__ */ jsx50(\n    \"li\",\n    {\n      className: getClassNameItem3({\n        active: isActive,\n        mobileOnly,\n        desktopOnly\n      }),\n      children: onClick && /* @__PURE__ */ jsxs20(\"div\", { className: getClassNameItem3(\"link\"), onClick, children: [\n        icon && /* @__PURE__ */ jsx50(\"span\", { className: getClassNameItem3(\"linkIcon\"), children: icon }),\n        /* @__PURE__ */ jsx50(\"span\", { className: getClassNameItem3(\"linkLabel\"), children: label })\n      ] })\n    }\n  );\n};\nvar Nav = ({\n  items,\n  mobileActions\n}) => {\n  return /* @__PURE__ */ jsxs20(\"nav\", { className: getClassName30(), children: [\n    /* @__PURE__ */ jsx50(\"ul\", { className: getClassName30(\"list\"), children: Object.entries(items).map(([key, item]) => /* @__PURE__ */ jsx50(MenuItem, __spreadValues({}, item), key)) }),\n    mobileActions && /* @__PURE__ */ jsx50(\"div\", { className: getClassName30(\"mobileActions\"), children: mobileActions })\n  ] });\n};\n\n// plugins/blocks/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/plugins/blocks/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default26 = { \"BlocksPlugin\": \"_BlocksPlugin_1ey1i_1\" };\n\n// plugins/blocks/index.tsx\nimport { jsx as jsx51 } from \"react/jsx-runtime\";\nvar getClassName31 = get_class_name_factory_default(\"BlocksPlugin\", styles_module_default26);\nvar blocksPlugin = () => ({\n  name: \"blocks\",\n  label: \"Blocks\",\n  render: () => /* @__PURE__ */ jsx51(\"div\", { className: getClassName31(), children: /* @__PURE__ */ jsx51(Components, {}) }),\n  icon: /* @__PURE__ */ jsx51(Hammer, {})\n});\n\n// plugins/outline/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/plugins/outline/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default27 = { \"OutlinePlugin\": \"_OutlinePlugin_q92j6_1\" };\n\n// plugins/outline/index.tsx\nimport { jsx as jsx52 } from \"react/jsx-runtime\";\nvar getClassName32 = get_class_name_factory_default(\"OutlinePlugin\", styles_module_default27);\nvar outlinePlugin = () => ({\n  name: \"outline\",\n  label: \"Outline\",\n  render: () => /* @__PURE__ */ jsx52(\"div\", { className: getClassName32(), children: /* @__PURE__ */ jsx52(Outline, {}) }),\n  icon: /* @__PURE__ */ jsx52(Layers, {})\n});\n\n// plugins/fields/index.tsx\ninit_react_import();\n\n// css-module:/home/runner/work/puck/puck/packages/core/plugins/fields/styles.module.css#css-module\ninit_react_import();\nvar styles_module_default28 = { \"FieldsPlugin\": \"_FieldsPlugin_nd930_1\", \"FieldsPlugin-header\": \"_FieldsPlugin-header_nd930_7\" };\n\n// plugins/fields/index.tsx\nimport { jsx as jsx53, jsxs as jsxs21 } from \"react/jsx-runtime\";\nvar getClassName33 = get_class_name_factory_default(\"FieldsPlugin\", styles_module_default28);\nvar CurrentTitle = () => {\n  const label = useAppStore((s) => {\n    var _a, _b;\n    const selectedItem = s.selectedItem;\n    return selectedItem ? (_b = (_a = s.config.components[selectedItem.type]) == null ? void 0 : _a.label) != null ? _b : selectedItem.type : \"Page\";\n  });\n  return label;\n};\nvar fieldsPlugin = ({ desktopSideBar = \"right\" } = {}) => ({\n  name: \"fields\",\n  label: \"Fields\",\n  render: () => /* @__PURE__ */ jsxs21(\"div\", { className: getClassName33(), children: [\n    /* @__PURE__ */ jsx53(\"div\", { className: getClassName33(\"header\"), children: /* @__PURE__ */ jsx53(Breadcrumbs, { numParents: 2, children: /* @__PURE__ */ jsx53(CurrentTitle, {}) }) }),\n    /* @__PURE__ */ jsx53(Fields, {})\n  ] }),\n  icon: /* @__PURE__ */ jsx53(RectangleEllipsis, {}),\n  mobileOnly: desktopSideBar === \"right\"\n});\n\n// components/Puck/components/Layout/index.tsx\nimport { jsx as jsx54, jsxs as jsxs22 } from \"react/jsx-runtime\";\nvar getClassName34 = get_class_name_factory_default(\"Puck\", styles_module_default16);\nvar getLayoutClassName = get_class_name_factory_default(\"PuckLayout\", styles_module_default16);\nvar getPluginTabClassName = get_class_name_factory_default(\"PuckPluginTab\", styles_module_default16);\nvar FieldSideBar = () => {\n  const title = useAppStore(\n    (s) => {\n      var _a, _b, _c;\n      return s.selectedItem ? (_b = (_a = s.config.components[s.selectedItem.type]) == null ? void 0 : _a[\"label\"]) != null ? _b : s.selectedItem.type.toString() : ((_c = s.config.root) == null ? void 0 : _c.label) || \"Page\";\n    }\n  );\n  return /* @__PURE__ */ jsx54(SidebarSection, { noBorderTop: true, showBreadcrumbs: true, title, children: /* @__PURE__ */ jsx54(Fields, {}) });\n};\nvar PluginTab = ({\n  children,\n  visible,\n  mobileOnly\n}) => {\n  return /* @__PURE__ */ jsx54(\"div\", { className: getPluginTabClassName({ visible, mobileOnly }), children: /* @__PURE__ */ jsx54(\"div\", { className: getPluginTabClassName(\"body\"), children }) });\n};\nvar Layout = ({ children }) => {\n  const {\n    iframe: _iframe,\n    dnd,\n    initialHistory: _initialHistory,\n    plugins,\n    height\n  } = usePropsContext();\n  const iframe = useMemo23(\n    () => __spreadValues({\n      enabled: true,\n      waitForStyles: true\n    }, _iframe),\n    [_iframe]\n  );\n  useInjectGlobalCss(iframe.enabled);\n  const dispatch = useAppStore((s) => s.dispatch);\n  const leftSideBarVisible = useAppStore((s) => s.state.ui.leftSideBarVisible);\n  const rightSideBarVisible = useAppStore(\n    (s) => s.state.ui.rightSideBarVisible\n  );\n  const instanceId = useAppStore((s) => s.instanceId);\n  const {\n    width: leftWidth,\n    setWidth: setLeftWidth,\n    sidebarRef: leftSidebarRef,\n    handleResizeEnd: handleLeftSidebarResizeEnd\n  } = useSidebarResize(\"left\", dispatch);\n  const {\n    width: rightWidth,\n    setWidth: setRightWidth,\n    sidebarRef: rightSidebarRef,\n    handleResizeEnd: handleRightSidebarResizeEnd\n  } = useSidebarResize(\"right\", dispatch);\n  useEffect28(() => {\n    if (!window.matchMedia(\"(min-width: 638px)\").matches) {\n      dispatch({\n        type: \"setUi\",\n        ui: {\n          leftSideBarVisible: false,\n          rightSideBarVisible: false\n        }\n      });\n    }\n    const handleResize = () => {\n      if (!window.matchMedia(\"(min-width: 638px)\").matches) {\n        dispatch({\n          type: \"setUi\",\n          ui: (ui) => __spreadValues(__spreadValues({}, ui), ui.rightSideBarVisible ? { leftSideBarVisible: false } : {})\n        });\n      }\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n  const overrides = useAppStore((s) => s.overrides);\n  const CustomPuck = useMemo23(\n    () => overrides.puck || DefaultOverride,\n    [overrides]\n  );\n  const [mounted, setMounted] = useState25(false);\n  useEffect28(() => {\n    setMounted(true);\n  }, []);\n  const ready = useAppStore((s) => s.status === \"READY\");\n  useMonitorHotkeys();\n  useEffect28(() => {\n    if (ready && iframe.enabled) {\n      const frameDoc = getFrame();\n      if (frameDoc) {\n        return monitorHotkeys(frameDoc);\n      }\n    }\n  }, [ready, iframe.enabled]);\n  usePreviewModeHotkeys();\n  useDeleteHotkeys();\n  const layoutOptions = {};\n  if (leftWidth) {\n    layoutOptions[\"--puck-user-left-side-bar-width\"] = `${leftWidth}px`;\n  }\n  if (rightWidth) {\n    layoutOptions[\"--puck-user-right-side-bar-width\"] = `${rightWidth}px`;\n  }\n  const setUi = useAppStore((s) => s.setUi);\n  const currentPlugin = useAppStore((s) => {\n    var _a;\n    return (_a = s.state.ui.plugin) == null ? void 0 : _a.current;\n  });\n  const appStoreApi = useAppStoreApi();\n  const [mobilePanelHeightMode, setMobilePanelHeightMode] = useState25(\"toggle\");\n  const hasLegacySideBarPlugin = useMemo23(\n    () => !!(plugins == null ? void 0 : plugins.find((p) => p.name === \"legacy-side-bar\")),\n    [plugins]\n  );\n  const pluginItems = useMemo23(() => {\n    const details = {};\n    const defaultPlugins = [blocksPlugin(), outlinePlugin()];\n    const isLegacy = (plugin) => plugin.name === \"legacy-side-bar\" ? -1 : 0;\n    const combinedPlugins = [\n      ...defaultPlugins,\n      ...plugins != null ? plugins : []\n    ].sort((a, b) => isLegacy(a) - isLegacy(b));\n    if (!(plugins == null ? void 0 : plugins.some((p) => p.name === \"fields\"))) {\n      combinedPlugins.push(fieldsPlugin());\n    }\n    combinedPlugins == null ? void 0 : combinedPlugins.forEach((plugin) => {\n      var _a, _b;\n      if (plugin.name && plugin.render) {\n        if (details[plugin.name]) {\n          delete details[plugin.name];\n        }\n        details[plugin.name] = {\n          label: (_a = plugin.label) != null ? _a : plugin.name,\n          icon: (_b = plugin.icon) != null ? _b : /* @__PURE__ */ jsx54(ToyBrick, {}),\n          onClick: () => {\n            var _a2;\n            setMobilePanelHeightMode((_a2 = plugin.mobilePanelHeight) != null ? _a2 : \"toggle\");\n            if (plugin.name === currentPlugin) {\n              if (leftSideBarVisible) {\n                setUi({ leftSideBarVisible: false });\n              } else {\n                setUi({ leftSideBarVisible: true });\n              }\n            } else {\n              if (plugin.name) {\n                setUi({\n                  plugin: { current: plugin.name },\n                  leftSideBarVisible: true\n                });\n              }\n            }\n          },\n          isActive: leftSideBarVisible && currentPlugin === plugin.name,\n          render: plugin.render,\n          mobileOnly: hasLegacySideBarPlugin || plugin.mobileOnly,\n          desktopOnly: plugin.name === \"legacy-side-bar\" || plugin.desktopOnly\n        };\n      }\n    });\n    return details;\n  }, [plugins, currentPlugin, appStoreApi, leftSideBarVisible]);\n  useEffect28(() => {\n    if (!currentPlugin) {\n      const names = Object.keys(pluginItems);\n      setUi({ plugin: { current: names[0] } });\n    }\n  }, [pluginItems, currentPlugin]);\n  const hasDesktopFieldsPlugin = pluginItems[\"fields\"] && pluginItems[\"fields\"].mobileOnly === false;\n  const mobilePanelExpanded = useAppStore(\n    (s) => {\n      var _a;\n      return (_a = s.state.ui.mobilePanelExpanded) != null ? _a : false;\n    }\n  );\n  return /* @__PURE__ */ jsxs22(\n    \"div\",\n    {\n      className: `Puck ${getClassName34({\n        hidePlugins: hasLegacySideBarPlugin\n      })}`,\n      id: instanceId,\n      style: { height },\n      children: [\n        /* @__PURE__ */ jsx54(DragDropContext, { disableAutoScroll: dnd == null ? void 0 : dnd.disableAutoScroll, children: /* @__PURE__ */ jsx54(CustomPuck, { children: children || /* @__PURE__ */ jsx54(FrameProvider, { children: /* @__PURE__ */ jsx54(\n          \"div\",\n          {\n            className: getLayoutClassName({\n              leftSideBarVisible,\n              mounted,\n              rightSideBarVisible: !hasDesktopFieldsPlugin && rightSideBarVisible,\n              isExpanded: mobilePanelExpanded,\n              mobilePanelHeightToggle: mobilePanelHeightMode === \"toggle\",\n              mobilePanelHeightMinContent: mobilePanelHeightMode === \"min-content\"\n            }),\n            style: { height },\n            children: /* @__PURE__ */ jsxs22(\n              \"div\",\n              {\n                className: getLayoutClassName(\"inner\"),\n                style: layoutOptions,\n                children: [\n                  /* @__PURE__ */ jsx54(\"div\", { className: getLayoutClassName(\"header\"), children: /* @__PURE__ */ jsx54(Header, { hidePlugins: hasLegacySideBarPlugin }) }),\n                  /* @__PURE__ */ jsx54(\"div\", { className: getLayoutClassName(\"nav\"), children: /* @__PURE__ */ jsx54(\n                    Nav,\n                    {\n                      items: pluginItems,\n                      mobileActions: leftSideBarVisible && mobilePanelHeightMode === \"toggle\" && /* @__PURE__ */ jsx54(\n                        IconButton,\n                        {\n                          type: \"button\",\n                          title: \"maximize\",\n                          onClick: () => {\n                            setUi({\n                              mobilePanelExpanded: !mobilePanelExpanded\n                            });\n                          },\n                          children: mobilePanelExpanded ? /* @__PURE__ */ jsx54(Minimize2, { size: 21 }) : /* @__PURE__ */ jsx54(Maximize2, { size: 21 })\n                        }\n                      )\n                    }\n                  ) }),\n                  /* @__PURE__ */ jsx54(\n                    Sidebar,\n                    {\n                      position: \"left\",\n                      sidebarRef: leftSidebarRef,\n                      isVisible: leftSideBarVisible,\n                      onResize: setLeftWidth,\n                      onResizeEnd: handleLeftSidebarResizeEnd,\n                      children: Object.entries(pluginItems).map(\n                        ([id, { mobileOnly, render: Render2, label }]) => /* @__PURE__ */ jsx54(\n                          PluginTab,\n                          {\n                            visible: currentPlugin === id,\n                            mobileOnly,\n                            children: /* @__PURE__ */ jsx54(Render2, {})\n                          },\n                          id\n                        )\n                      )\n                    }\n                  ),\n                  /* @__PURE__ */ jsx54(Canvas, {}),\n                  !hasDesktopFieldsPlugin && /* @__PURE__ */ jsx54(\n                    Sidebar,\n                    {\n                      position: \"right\",\n                      sidebarRef: rightSidebarRef,\n                      isVisible: rightSideBarVisible,\n                      onResize: setRightWidth,\n                      onResizeEnd: handleRightSidebarResizeEnd,\n                      children: /* @__PURE__ */ jsx54(FieldSideBar, {})\n                    }\n                  )\n                ]\n              }\n            )\n          }\n        ) }) }) }),\n        /* @__PURE__ */ jsx54(\"div\", { id: \"puck-portal-root\", className: getClassName34(\"portal\") })\n      ]\n    }\n  );\n};\n\n// components/Puck/index.tsx\nimport { jsx as jsx55 } from \"react/jsx-runtime\";\nvar propsContext = createContext8({});\nfunction PropsProvider(props) {\n  return /* @__PURE__ */ jsx55(propsContext.Provider, { value: props, children: props.children });\n}\nvar usePropsContext = () => useContext14(propsContext);\nfunction PuckProvider({ children }) {\n  const {\n    config,\n    data: initialData,\n    ui: initialUi,\n    onChange,\n    permissions = {},\n    plugins,\n    overrides,\n    viewports = defaultViewports,\n    iframe: _iframe,\n    initialHistory: _initialHistory,\n    metadata,\n    onAction,\n    fieldTransforms\n  } = usePropsContext();\n  const iframe = useMemo24(\n    () => __spreadValues({\n      enabled: true,\n      waitForStyles: true\n    }, _iframe),\n    [_iframe]\n  );\n  const [generatedAppState] = useState26(() => {\n    var _a, _b, _c;\n    const initial = __spreadValues(__spreadValues({}, defaultAppState.ui), initialUi);\n    let clientUiState = {};\n    if (Object.keys((initialData == null ? void 0 : initialData.root) || {}).length > 0 && !((_a = initialData == null ? void 0 : initialData.root) == null ? void 0 : _a.props)) {\n      console.warn(\n        \"Warning: Defining props on `root` is deprecated. Please use `root.props`, or republish this page to migrate automatically.\"\n      );\n    }\n    const rootProps = ((_b = initialData == null ? void 0 : initialData.root) == null ? void 0 : _b.props) || (initialData == null ? void 0 : initialData.root) || {};\n    const defaultedRootProps = __spreadValues(__spreadValues({}, (_c = config.root) == null ? void 0 : _c.defaultProps), rootProps);\n    const root = populateIds(\n      toComponent(__spreadProps(__spreadValues({}, initialData == null ? void 0 : initialData.root), { props: defaultedRootProps })),\n      config\n    );\n    const newAppState = __spreadProps(__spreadValues({}, defaultAppState), {\n      data: __spreadProps(__spreadValues({}, initialData), {\n        root: __spreadProps(__spreadValues({}, initialData == null ? void 0 : initialData.root), { props: root.props }),\n        content: initialData.content || []\n      }),\n      ui: __spreadProps(__spreadValues(__spreadValues({}, initial), clientUiState), {\n        // Store categories under componentList on state to allow render functions and plugins to modify\n        componentList: config.categories ? Object.entries(config.categories).reduce(\n          (acc, [categoryName, category]) => {\n            return __spreadProps(__spreadValues({}, acc), {\n              [categoryName]: {\n                title: category.title,\n                components: category.components,\n                expanded: category.defaultExpanded,\n                visible: category.visible\n              }\n            });\n          },\n          {}\n        ) : {}\n      })\n    });\n    return walkAppState(newAppState, config);\n  });\n  const { appendData = true } = _initialHistory || {};\n  const [blendedHistories] = useState26(\n    [\n      ...(_initialHistory == null ? void 0 : _initialHistory.histories) || [],\n      ...appendData ? [{ state: generatedAppState }] : []\n    ].map((history) => {\n      let newState = __spreadValues(__spreadValues({}, generatedAppState), history.state);\n      if (!history.state.indexes) {\n        newState = walkAppState(newState, config);\n      }\n      return __spreadProps(__spreadValues({}, history), {\n        state: newState\n      });\n    })\n  );\n  const initialHistoryIndex = useMemo24(() => {\n    if ((_initialHistory == null ? void 0 : _initialHistory.index) !== void 0 && (_initialHistory == null ? void 0 : _initialHistory.index) >= 0 && (_initialHistory == null ? void 0 : _initialHistory.index) < blendedHistories.length) {\n      return _initialHistory == null ? void 0 : _initialHistory.index;\n    }\n    return blendedHistories.length - 1;\n  }, []);\n  const initialAppState = blendedHistories[initialHistoryIndex].state;\n  const loadedOverrides = useLoadedOverrides({\n    overrides,\n    plugins\n  });\n  const loadedFieldTransforms = useMemo24(() => {\n    const _plugins = plugins || [];\n    const pluginFieldTransforms = _plugins.reduce(\n      (acc, plugin) => __spreadValues(__spreadValues({}, acc), plugin.fieldTransforms),\n      {}\n    );\n    return __spreadValues(__spreadValues({}, pluginFieldTransforms), fieldTransforms);\n  }, [fieldTransforms, plugins]);\n  const instanceId = useSafeId();\n  const generateAppStore = useCallback22(\n    (state) => {\n      return {\n        instanceId,\n        state,\n        config,\n        plugins: plugins || [],\n        overrides: loadedOverrides,\n        viewports,\n        iframe,\n        onAction,\n        metadata,\n        fieldTransforms: loadedFieldTransforms\n      };\n    },\n    [\n      instanceId,\n      initialAppState,\n      config,\n      plugins,\n      loadedOverrides,\n      viewports,\n      iframe,\n      onAction,\n      metadata,\n      loadedFieldTransforms\n    ]\n  );\n  const [appStore] = useState26(\n    () => createAppStore(generateAppStore(initialAppState))\n  );\n  useEffect29(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      window.__PUCK_INTERNAL_DO_NOT_USE = { appStore };\n    }\n  }, [appStore]);\n  useEffect29(() => {\n    const state = appStore.getState().state;\n    appStore.setState(__spreadValues({}, generateAppStore(state)));\n  }, [config, plugins, loadedOverrides, viewports, iframe, onAction, metadata]);\n  useRegisterHistorySlice(appStore, {\n    histories: blendedHistories,\n    index: initialHistoryIndex,\n    initialAppState\n  });\n  const previousData = useRef14(null);\n  useEffect29(() => {\n    return appStore.subscribe(\n      (s) => s.state.data,\n      (data) => {\n        if (onChange) {\n          if (deepEqual2(data, previousData.current)) return;\n          onChange(data);\n          previousData.current = data;\n        }\n      }\n    );\n  }, [onChange]);\n  useRegisterPermissionsSlice(appStore, permissions);\n  const uPuckStore = useRegisterUsePuckStore(appStore);\n  useEffect29(() => {\n    const { resolveAndCommitData } = appStore.getState();\n    resolveAndCommitData();\n  }, []);\n  return /* @__PURE__ */ jsx55(appStoreContext.Provider, { value: appStore, children: /* @__PURE__ */ jsx55(UsePuckStoreContext.Provider, { value: uPuckStore, children }) });\n}\nfunction Puck(props) {\n  return /* @__PURE__ */ jsx55(PropsProvider, __spreadProps(__spreadValues({}, props), { children: /* @__PURE__ */ jsx55(PuckProvider, __spreadProps(__spreadValues({}, props), { children: /* @__PURE__ */ jsx55(Layout, { children: props.children }) })) }));\n}\nPuck.Components = Components;\nPuck.Fields = Fields;\nPuck.Layout = Layout;\nPuck.Outline = Outline;\nPuck.Preview = Preview2;\n\n// plugins/legacy-side-bar/index.tsx\ninit_react_import();\nimport { jsx as jsx56, jsxs as jsxs23 } from \"react/jsx-runtime\";\nvar legacySideBarPlugin = () => ({\n  name: \"legacy-side-bar\",\n  render: () => /* @__PURE__ */ jsxs23(\"div\", { style: { overflowY: \"auto\" }, children: [\n    /* @__PURE__ */ jsx56(SidebarSection, { title: \"Components\", noBorderTop: true, children: /* @__PURE__ */ jsx56(Components, {}) }),\n    /* @__PURE__ */ jsx56(SidebarSection, { title: \"Outline\", children: /* @__PURE__ */ jsx56(Outline, {}) })\n  ] })\n});\n\nexport {\n  overrideKeys,\n  Button,\n  FieldLabel,\n  AutoField,\n  renderContext,\n  Render,\n  registerOverlayPortal,\n  setDeep,\n  DropZone,\n  Drawer,\n  createUsePuck,\n  usePuck,\n  useGetPuck,\n  blocksPlugin,\n  outlinePlugin,\n  fieldsPlugin,\n  Puck,\n  legacySideBarPlugin\n};\n", "import React from 'react';\nimport { shallow } from 'zustand/vanilla/shallow';\n\nfunction useShallow(selector) {\n  const prev = React.useRef(void 0);\n  return (state) => {\n    const next = selector(state);\n    return shallow(prev.current, next) ? prev.current : prev.current = next;\n  };\n}\n\nexport { useShallow };\n", "const isIterable = (obj) => Symbol.iterator in obj;\nconst hasIterableEntries = (value) => (\n  // HACK: avoid checking entries type\n  \"entries\" in value\n);\nconst compareEntries = (valueA, valueB) => {\n  const mapA = valueA instanceof Map ? valueA : new Map(valueA.entries());\n  const mapB = valueB instanceof Map ? valueB : new Map(valueB.entries());\n  if (mapA.size !== mapB.size) {\n    return false;\n  }\n  for (const [key, value] of mapA) {\n    if (!mapB.has(key) || !Object.is(value, mapB.get(key))) {\n      return false;\n    }\n  }\n  return true;\n};\nconst compareIterables = (valueA, valueB) => {\n  const iteratorA = valueA[Symbol.iterator]();\n  const iteratorB = valueB[Symbol.iterator]();\n  let nextA = iteratorA.next();\n  let nextB = iteratorB.next();\n  while (!nextA.done && !nextB.done) {\n    if (!Object.is(nextA.value, nextB.value)) {\n      return false;\n    }\n    nextA = iteratorA.next();\n    nextB = iteratorB.next();\n  }\n  return !!nextA.done && !!nextB.done;\n};\nfunction shallow(valueA, valueB) {\n  if (Object.is(valueA, valueB)) {\n    return true;\n  }\n  if (typeof valueA !== \"object\" || valueA === null || typeof valueB !== \"object\" || valueB === null) {\n    return false;\n  }\n  if (Object.getPrototypeOf(valueA) !== Object.getPrototypeOf(valueB)) {\n    return false;\n  }\n  if (isIterable(valueA) && isIterable(valueB)) {\n    if (hasIterableEntries(valueA) && hasIterableEntries(valueB)) {\n      return compareEntries(valueA, valueB);\n    }\n    return compareIterables(valueA, valueB);\n  }\n  return compareEntries(\n    { entries: () => Object.entries(valueA) },\n    { entries: () => Object.entries(valueB) }\n  );\n}\n\nexport { shallow };\n", "import { createContext, memo, forwardRef, useState, useRef, useMemo, startTransition, useImperativeHandle, useEffect, useContext, useCallback, createElement } from 'react';\nimport { DragDropManager, defaultPreset, Draggable, Feedback, Droppable } from '@dnd-kit/dom';\nexport { KeyboardSensor, PointerSensor } from '@dnd-kit/dom';\nimport { useIsomorphicLayoutEffect, useLatest, useOnValueChange, useDeepSignal, useOnElementChange, useComputed } from '@dnd-kit/react/hooks';\nimport { deepEqual, ValueHistory, derived, batch } from '@dnd-kit/state';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { currentValue } from '@dnd-kit/react/utilities';\nimport { CollisionPriority, CollisionType } from '@dnd-kit/abstract';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar defaultManager = new DragDropManager();\nvar DragDropContext = createContext(\n  defaultManager\n);\nvar Renderer = memo(\n  forwardRef(({ children }, ref) => {\n    const [transitionCount, setTransitionCount] = useState(0);\n    const rendering = useRef(null);\n    const resolver = useRef(null);\n    const renderer = useMemo(\n      () => ({\n        renderer: {\n          get rendering() {\n            var _a2;\n            return (_a2 = rendering.current) != null ? _a2 : Promise.resolve();\n          }\n        },\n        trackRendering(callback) {\n          if (!rendering.current) {\n            rendering.current = new Promise((resolve) => {\n              resolver.current = resolve;\n            });\n          }\n          startTransition(() => {\n            callback();\n            setTransitionCount((count) => count + 1);\n          });\n        }\n      }),\n      []\n    );\n    useIsomorphicLayoutEffect(() => {\n      var _a2;\n      (_a2 = resolver.current) == null ? void 0 : _a2.call(resolver);\n      rendering.current = null;\n    }, [children, transitionCount]);\n    useImperativeHandle(ref, () => renderer);\n    return null;\n  })\n);\nvar options = [void 0, deepEqual];\nfunction DragDropProvider(_a2) {\n  var _b = _a2, {\n    children,\n    onCollision,\n    onBeforeDragStart,\n    onDragStart,\n    onDragMove,\n    onDragOver,\n    onDragEnd\n  } = _b, input = __objRest(_b, [\n    \"children\",\n    \"onCollision\",\n    \"onBeforeDragStart\",\n    \"onDragStart\",\n    \"onDragMove\",\n    \"onDragOver\",\n    \"onDragEnd\"\n  ]);\n  var _a3;\n  const rendererRef = useRef(null);\n  const [manager, setManager] = useState((_a3 = input.manager) != null ? _a3 : null);\n  const { plugins, modifiers, sensors } = input;\n  const handleBeforeDragStart = useLatest(onBeforeDragStart);\n  const handleDragStart = useLatest(onDragStart);\n  const handleDragOver = useLatest(onDragOver);\n  const handleDragMove = useLatest(onDragMove);\n  const handleDragEnd = useLatest(onDragEnd);\n  const handleCollision = useLatest(onCollision);\n  useEffect(() => {\n    var _a4;\n    if (!rendererRef.current) throw new Error(\"Renderer not found\");\n    const { renderer, trackRendering } = rendererRef.current;\n    const manager2 = (_a4 = input.manager) != null ? _a4 : new DragDropManager(input);\n    manager2.renderer = renderer;\n    manager2.monitor.addEventListener(\"beforedragstart\", (event) => {\n      const callback = handleBeforeDragStart.current;\n      if (callback) {\n        trackRendering(() => callback(event, manager2));\n      }\n    });\n    manager2.monitor.addEventListener(\n      \"dragstart\",\n      (event) => {\n        var _a5;\n        return (_a5 = handleDragStart.current) == null ? void 0 : _a5.call(handleDragStart, event, manager2);\n      }\n    );\n    manager2.monitor.addEventListener(\"dragover\", (event) => {\n      const callback = handleDragOver.current;\n      if (callback) {\n        trackRendering(() => callback(event, manager2));\n      }\n    });\n    manager2.monitor.addEventListener(\"dragmove\", (event) => {\n      const callback = handleDragMove.current;\n      if (callback) {\n        trackRendering(() => callback(event, manager2));\n      }\n    });\n    manager2.monitor.addEventListener(\"dragend\", (event) => {\n      const callback = handleDragEnd.current;\n      if (callback) {\n        trackRendering(() => callback(event, manager2));\n      }\n    });\n    manager2.monitor.addEventListener(\n      \"collision\",\n      (event) => {\n        var _a5;\n        return (_a5 = handleCollision.current) == null ? void 0 : _a5.call(handleCollision, event, manager2);\n      }\n    );\n    startTransition(() => setManager(manager2));\n    return manager2.destroy;\n  }, [input.manager]);\n  useOnValueChange(\n    plugins,\n    () => manager && (manager.plugins = plugins != null ? plugins : defaultPreset.plugins),\n    ...options\n  );\n  useOnValueChange(\n    sensors,\n    () => manager && (manager.sensors = sensors != null ? sensors : defaultPreset.sensors),\n    ...options\n  );\n  useOnValueChange(\n    modifiers,\n    () => manager && (manager.modifiers = modifiers != null ? modifiers : defaultPreset.modifiers),\n    ...options\n  );\n  return /* @__PURE__ */ jsxs(DragDropContext.Provider, { value: manager, children: [\n    /* @__PURE__ */ jsx(Renderer, { ref: rendererRef, children }),\n    children\n  ] });\n}\nfunction useDragDropManager() {\n  return useContext(DragDropContext);\n}\n\n// src/core/hooks/useInstance.ts\nfunction useInstance(initializer) {\n  var _a2;\n  const manager = (_a2 = useDragDropManager()) != null ? _a2 : void 0;\n  const [instance] = useState(() => initializer(manager));\n  if (instance.manager !== manager) {\n    instance.manager = manager;\n  }\n  useIsomorphicLayoutEffect(instance.register, [manager, instance]);\n  return instance;\n}\n\n// src/core/draggable/useDraggable.ts\nfunction useDraggable(input) {\n  const { disabled, data, element, handle, id, modifiers, sensors } = input;\n  const draggable = useInstance(\n    (manager) => new Draggable(\n      __spreadProps(__spreadValues({}, input), {\n        register: false,\n        handle: currentValue(handle),\n        element: currentValue(element)\n      }),\n      manager\n    )\n  );\n  const trackedDraggable = useDeepSignal(draggable, shouldUpdateSynchronously);\n  useOnValueChange(id, () => draggable.id = id);\n  useOnElementChange(handle, (handle2) => draggable.handle = handle2);\n  useOnElementChange(element, (element2) => draggable.element = element2);\n  useOnValueChange(data, () => data && (draggable.data = data));\n  useOnValueChange(disabled, () => draggable.disabled = disabled === true);\n  useOnValueChange(sensors, () => draggable.sensors = sensors);\n  useOnValueChange(\n    modifiers,\n    () => draggable.modifiers = modifiers,\n    void 0,\n    deepEqual\n  );\n  useOnValueChange(\n    input.feedback,\n    () => {\n      var _a2;\n      return draggable.feedback = (_a2 = input.feedback) != null ? _a2 : \"default\";\n    }\n  );\n  useOnValueChange(\n    input.alignment,\n    () => draggable.alignment = input.alignment\n  );\n  return {\n    draggable: trackedDraggable,\n    get isDragging() {\n      return trackedDraggable.isDragging;\n    },\n    get isDropping() {\n      return trackedDraggable.isDropping;\n    },\n    get isDragSource() {\n      return trackedDraggable.isDragSource;\n    },\n    handleRef: useCallback(\n      (element2) => {\n        draggable.handle = element2 != null ? element2 : void 0;\n      },\n      [draggable]\n    ),\n    ref: useCallback(\n      (element2) => {\n        var _a2, _b;\n        if (!element2 && ((_a2 = draggable.element) == null ? void 0 : _a2.isConnected) && !((_b = draggable.manager) == null ? void 0 : _b.dragOperation.status.idle)) {\n          return;\n        }\n        draggable.element = element2 != null ? element2 : void 0;\n      },\n      [draggable]\n    )\n  };\n}\nfunction shouldUpdateSynchronously(key, oldValue, newValue) {\n  if (key === \"isDragSource\" && !newValue && oldValue) return true;\n  return false;\n}\nfunction DragOverlay({\n  children,\n  className,\n  style,\n  tag,\n  disabled\n}) {\n  var _a2;\n  const ref = useRef(null);\n  const manager = useDragDropManager();\n  const source = (_a2 = useComputed(() => manager == null ? void 0 : manager.dragOperation.source, [manager]).value) != null ? _a2 : null;\n  const isDisabled = typeof disabled === \"function\" ? disabled(source) : disabled;\n  useEffect(() => {\n    if (!ref.current || !manager || isDisabled) return;\n    const feedback = manager.plugins.find(\n      (plugin) => plugin instanceof Feedback\n    );\n    if (!feedback) return;\n    feedback.overlay = ref.current;\n    return () => {\n      feedback.overlay = void 0;\n    };\n  }, [manager, isDisabled]);\n  const patchedManager = useMemo(() => {\n    if (!manager) return null;\n    const patchedRegistry = new Proxy(manager.registry, {\n      get(target, property) {\n        if (property === \"register\" || property === \"unregister\") {\n          return noop;\n        }\n        return target[property];\n      }\n    });\n    return new Proxy(manager, {\n      get(target, property) {\n        if (property === \"registry\") {\n          return patchedRegistry;\n        }\n        return target[property];\n      }\n    });\n  }, [manager]);\n  return /* @__PURE__ */ jsx(DragDropContext.Provider, { value: patchedManager, children: createElement(\n    tag || \"div\",\n    { ref, className, style, \"data-dnd-overlay\": true },\n    renderChildren()\n  ) });\n  function renderChildren() {\n    if (!source || isDisabled) return null;\n    if (typeof children === \"function\") {\n      return /* @__PURE__ */ jsx(Children, { source, children });\n    }\n    return children;\n  }\n}\nfunction noop() {\n  return () => {\n  };\n}\nfunction Children({\n  children,\n  source\n}) {\n  return children(useDeepSignal(source));\n}\nvar __create = Object.create;\nvar __defProp2 = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __knownSymbol = (name, symbol) => (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __decoratorStart = (base) => {\n  var _a2;\n  return [, , , __create((_a2 = base == null ? void 0 : base[__knownSymbol(\"metadata\")]) != null ? _a2 : null)];\n};\nvar __decoratorStrings = [\"class\", \"method\", \"getter\", \"setter\", \"accessor\", \"field\", \"value\", \"get\", \"set\"];\nvar __expectFn = (fn) => fn !== void 0 && typeof fn !== \"function\" ? __typeError(\"Function expected\") : fn;\nvar __decoratorContext = (kind, name, done, metadata, fns) => ({ kind: __decoratorStrings[kind], name, metadata, addInitializer: (fn) => done._ ? __typeError(\"Already initialized\") : fns.push(__expectFn(fn || null)) });\nvar __decoratorMetadata = (array, target) => __defNormalProp2(target, __knownSymbol(\"metadata\"), array[3]);\nvar __runInitializers = (array, flags, self, value) => {\n  for (var i = 0, fns = array[flags >> 1], n = fns && fns.length; i < n; i++) fns[i].call(self) ;\n  return value;\n};\nvar __decorateElement = (array, flags, name, decorators, target, extra) => {\n  var it, done, ctx, access, k = flags & 7, s = false, p = false;\n  var j = 2 , key = __decoratorStrings[k + 5];\n  var extraInitializers = array[j] || (array[j] = []);\n  var desc = ((target = target.prototype), __getOwnPropDesc(target , name));\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    ctx = __decoratorContext(k, name, done = {}, array[3], extraInitializers);\n    {\n      ctx.static = s, ctx.private = p, access = ctx.access = { has: (x) => name in x };\n      access.get = (x) => x[name];\n    }\n    it = (0, decorators[i])(desc[key]  , ctx), done._ = 1;\n    __expectFn(it) && (desc[key] = it );\n  }\n  return desc && __defProp2(target, name, desc), target;\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), member.set(obj, value), value);\nvar Point = class _Point {\n  /**\n   * @param {number} Coordinate of the point on the horizontal axis\n   * @param {number} Coordinate of the point on the vertical axis\n   */\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  /**\n   * Returns the delta between this point and another point.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static delta(a, b) {\n    return new _Point(a.x - b.x, a.y - b.y);\n  }\n  /**\n   * Returns the distance (hypotenuse) between this point and another point.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static distance(a, b) {\n    return Math.hypot(a.x - b.x, a.y - b.y);\n  }\n  /**\n   * Returns true if both points are equal.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static equals(a, b) {\n    return a.x === b.x && a.y === b.y;\n  }\n  static from({ x, y }) {\n    return new _Point(x, y);\n  }\n};\nvar _direction_dec;\nvar _delta_dec;\nvar _a;\nvar _timestamp;\nvar _init;\nvar Position = class extends (_a = ValueHistory, _delta_dec = [derived], _direction_dec = [derived], _a) {\n  constructor(initialValue) {\n    const point = Point.from(initialValue);\n    super(point, (a, b) => Point.equals(a, b));\n    __runInitializers(_init, 5, this);\n    __privateAdd(this, _timestamp, 0);\n    this.velocity = { x: 0, y: 0 };\n  }\n  get delta() {\n    return Point.delta(this.current, this.initial);\n  }\n  get direction() {\n    const { current, previous } = this;\n    if (!previous) return null;\n    const delta = {\n      x: current.x - previous.x,\n      y: current.y - previous.y\n    };\n    if (!delta.x && !delta.y) {\n      return null;\n    }\n    if (Math.abs(delta.x) > Math.abs(delta.y)) {\n      return delta.x > 0 ? \"right\" : \"left\";\n    }\n    return delta.y > 0 ? \"down\" : \"up\";\n  }\n  get current() {\n    return super.current;\n  }\n  set current(coordinates) {\n    const { current } = this;\n    const point = Point.from(coordinates);\n    const delta = {\n      x: point.x - current.x,\n      y: point.y - current.y\n    };\n    const timestamp = Date.now();\n    const timeDelta = timestamp - __privateGet(this, _timestamp);\n    const velocity = (delta2) => Math.round(delta2 / timeDelta * 100);\n    batch(() => {\n      __privateSet(this, _timestamp, timestamp);\n      this.velocity = {\n        x: velocity(delta.x),\n        y: velocity(delta.y)\n      };\n      super.current = point;\n    });\n  }\n  reset(coordinates = this.defaultValue) {\n    super.reset(Point.from(coordinates));\n    this.velocity = { x: 0, y: 0 };\n  }\n};\n_init = __decoratorStart(_a);\n_timestamp = /* @__PURE__ */ new WeakMap();\n__decorateElement(_init, 2, \"delta\", _delta_dec, Position);\n__decorateElement(_init, 2, \"direction\", _direction_dec, Position);\n__decoratorMetadata(_init, Position);\nvar Axis = /* @__PURE__ */ ((Axis2) => {\n  Axis2[\"Horizontal\"] = \"x\";\n  Axis2[\"Vertical\"] = \"y\";\n  return Axis2;\n})(Axis || {});\nObject.values(Axis);\nvar pointerIntersection = ({\n  dragOperation,\n  droppable\n}) => {\n  const pointerCoordinates = dragOperation.position.current;\n  if (!pointerCoordinates) {\n    return null;\n  }\n  const { id } = droppable;\n  if (!droppable.shape) {\n    return null;\n  }\n  if (droppable.shape.containsPoint(pointerCoordinates)) {\n    const distance = Point.distance(droppable.shape.center, pointerCoordinates);\n    return {\n      id,\n      value: 1 / distance,\n      type: CollisionType.PointerIntersection,\n      priority: CollisionPriority.High\n    };\n  }\n  return null;\n};\nvar shapeIntersection = ({\n  dragOperation,\n  droppable\n}) => {\n  const { shape } = dragOperation;\n  if (!droppable.shape || !(shape == null ? void 0 : shape.current)) {\n    return null;\n  }\n  const intersectionArea = shape.current.intersectionArea(droppable.shape);\n  if (intersectionArea) {\n    const { position } = dragOperation;\n    const distance = Point.distance(droppable.shape.center, position.current);\n    const intersectionRatio = intersectionArea / (shape.current.area + droppable.shape.area - intersectionArea);\n    const value = intersectionRatio / distance;\n    return {\n      id: droppable.id,\n      value,\n      type: CollisionType.ShapeIntersection,\n      priority: CollisionPriority.Normal\n    };\n  }\n  return null;\n};\nvar defaultCollisionDetection = (args) => {\n  var _a2;\n  return (_a2 = pointerIntersection(args)) != null ? _a2 : shapeIntersection(args);\n};\n\n// src/core/droppable/useDroppable.ts\nfunction useDroppable(input) {\n  const { collisionDetector, data, disabled, element, id, accept, type } = input;\n  const droppable = useInstance(\n    (manager) => new Droppable(\n      __spreadProps(__spreadValues({}, input), {\n        register: false,\n        element: currentValue(element)\n      }),\n      manager\n    )\n  );\n  const trackedDroppalbe = useDeepSignal(droppable);\n  useOnValueChange(id, () => droppable.id = id);\n  useOnElementChange(element, (element2) => droppable.element = element2);\n  useOnValueChange(\n    accept,\n    () => droppable.accept = accept,\n    void 0,\n    deepEqual\n  );\n  useOnValueChange(\n    collisionDetector,\n    () => droppable.collisionDetector = collisionDetector != null ? collisionDetector : defaultCollisionDetection\n  );\n  useOnValueChange(data, () => data && (droppable.data = data));\n  useOnValueChange(disabled, () => droppable.disabled = disabled === true);\n  useOnValueChange(type, () => droppable.type = type);\n  return {\n    droppable: trackedDroppalbe,\n    get isDropTarget() {\n      return trackedDroppalbe.isDropTarget;\n    },\n    ref: useCallback(\n      (element2) => {\n        var _a2, _b;\n        if (!element2 && ((_a2 = droppable.element) == null ? void 0 : _a2.isConnected) && !((_b = droppable.manager) == null ? void 0 : _b.dragOperation.status.idle)) {\n          return;\n        }\n        droppable.element = element2 != null ? element2 : void 0;\n      },\n      [droppable]\n    )\n  };\n}\nfunction useDragDropMonitor(handlers) {\n  const manager = useDragDropManager();\n  useEffect(() => {\n    if (!manager) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\n          \"useDndMonitor hook was called outside of a DragDropProvider. Make sure your app is wrapped in a DragDropProvider component.\"\n        );\n      }\n      return;\n    }\n    const cleanupFns = Object.entries(handlers).reduce(\n      (acc, [handlerName, handler]) => {\n        if (handler) {\n          const eventName = handlerName.replace(/^on/, \"\").toLowerCase();\n          const unsubscribe = manager.monitor.addEventListener(\n            eventName,\n            handler\n          );\n          acc.push(unsubscribe);\n        }\n        return acc;\n      },\n      []\n    );\n    return () => cleanupFns.forEach((cleanup) => cleanup == null ? void 0 : cleanup());\n  }, [manager, handlers]);\n}\nfunction useDragOperation() {\n  const manager = useDragDropManager();\n  const source = useComputed(() => manager == null ? void 0 : manager.dragOperation.source, [manager]);\n  const target = useComputed(() => manager == null ? void 0 : manager.dragOperation.target, [manager]);\n  return {\n    get source() {\n      return source.value;\n    },\n    get target() {\n      return target.value;\n    }\n  };\n}\n\nexport { DragDropProvider, DragOverlay, useDragDropManager, useDragDropMonitor, useDragOperation, useDraggable, useDroppable, useInstance };\n//# sourceMappingURL=index.js.map\n//# sourceMappingURL=index.js.map", "// An named symbol/brand for detecting Signal instances even when they weren't\n// created using the same signals library version.\nconst BRAND_SYMBOL = Symbol.for(\"preact-signals\");\n\n// Flags for Computed and Effect.\nconst RUNNING = 1 << 0;\nconst NOTIFIED = 1 << 1;\nconst OUTDATED = 1 << 2;\nconst DISPOSED = 1 << 3;\nconst HAS_ERROR = 1 << 4;\nconst TRACKING = 1 << 5;\n\n// A linked list node used to track dependencies (sources) and dependents (targets).\n// Also used to remember the source's last version number that the target saw.\ntype Node = {\n\t// A source whose value the target depends on.\n\t_source: Signal;\n\t_prevSource?: Node;\n\t_nextSource?: Node;\n\n\t// A target that depends on the source and should be notified when the source changes.\n\t_target: Computed | Effect;\n\t_prevTarget?: Node;\n\t_nextTarget?: Node;\n\n\t// The version number of the source that target has last seen. We use version numbers\n\t// instead of storing the source value, because source values can take arbitrary amount\n\t// of memory, and computeds could hang on to them forever because they're lazily evaluated.\n\t// Use the special value -1 to mark potentially unused but recyclable nodes.\n\t_version: number;\n\n\t// Used to remember & roll back the source's previous `._node` value when entering &\n\t// exiting a new evaluation context.\n\t_rollbackNode?: Node;\n};\n\nfunction startBatch() {\n\tbatchDepth++;\n}\n\nfunction endBatch() {\n\tif (batchDepth > 1) {\n\t\tbatchDepth--;\n\t\treturn;\n\t}\n\n\tlet error: unknown;\n\tlet hasError = false;\n\n\twhile (batchedEffect !== undefined) {\n\t\tlet effect: Effect | undefined = batchedEffect;\n\t\tbatchedEffect = undefined;\n\n\t\tbatchIteration++;\n\n\t\twhile (effect !== undefined) {\n\t\t\tconst next: Effect | undefined = effect._nextBatchedEffect;\n\t\t\teffect._nextBatchedEffect = undefined;\n\t\t\teffect._flags &= ~NOTIFIED;\n\n\t\t\tif (!(effect._flags & DISPOSED) && needsToRecompute(effect)) {\n\t\t\t\ttry {\n\t\t\t\t\teffect._callback();\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (!hasError) {\n\t\t\t\t\t\terror = err;\n\t\t\t\t\t\thasError = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\teffect = next;\n\t\t}\n\t}\n\tbatchIteration = 0;\n\tbatchDepth--;\n\n\tif (hasError) {\n\t\tthrow error;\n\t}\n}\n\n/**\n * Combine multiple value updates into one \"commit\" at the end of the provided callback.\n *\n * Batches can be nested and changes are only flushed once the outermost batch callback\n * completes.\n *\n * Accessing a signal that has been modified within a batch will reflect its updated\n * value.\n *\n * @param fn The callback function.\n * @returns The value returned by the callback.\n */\nfunction batch<T>(fn: () => T): T {\n\tif (batchDepth > 0) {\n\t\treturn fn();\n\t}\n\t/*@__INLINE__**/ startBatch();\n\ttry {\n\t\treturn fn();\n\t} finally {\n\t\tendBatch();\n\t}\n}\n\n// Currently evaluated computed or effect.\nlet evalContext: Computed | Effect | undefined = undefined;\n\n/**\n * Run a callback function that can access signal values without\n * subscribing to the signal updates.\n *\n * @param fn The callback function.\n * @returns The value returned by the callback.\n */\nfunction untracked<T>(fn: () => T): T {\n\tconst prevContext = evalContext;\n\tevalContext = undefined;\n\ttry {\n\t\treturn fn();\n\t} finally {\n\t\tevalContext = prevContext;\n\t}\n}\n\n// Effects collected into a batch.\nlet batchedEffect: Effect | undefined = undefined;\nlet batchDepth = 0;\nlet batchIteration = 0;\n\n// A global version number for signals, used for fast-pathing repeated\n// computed.peek()/computed.value calls when nothing has changed globally.\nlet globalVersion = 0;\n\nfunction addDependency(signal: Signal): Node | undefined {\n\tif (evalContext === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet node = signal._node;\n\tif (node === undefined || node._target !== evalContext) {\n\t\t/**\n\t\t * `signal` is a new dependency. Create a new dependency node, and set it\n\t\t * as the tail of the current context's dependency list. e.g:\n\t\t *\n\t\t * { A <-> B       }\n\t\t *              \n\t\t *        tail  node (new)\n\t\t *               \n\t\t * { A <-> B <-> C }\n\t\t *               \n\t\t *              tail (evalContext._sources)\n\t\t */\n\t\tnode = {\n\t\t\t_version: 0,\n\t\t\t_source: signal,\n\t\t\t_prevSource: evalContext._sources,\n\t\t\t_nextSource: undefined,\n\t\t\t_target: evalContext,\n\t\t\t_prevTarget: undefined,\n\t\t\t_nextTarget: undefined,\n\t\t\t_rollbackNode: node,\n\t\t};\n\n\t\tif (evalContext._sources !== undefined) {\n\t\t\tevalContext._sources._nextSource = node;\n\t\t}\n\t\tevalContext._sources = node;\n\t\tsignal._node = node;\n\n\t\t// Subscribe to change notifications from this dependency if we're in an effect\n\t\t// OR evaluating a computed signal that in turn has subscribers.\n\t\tif (evalContext._flags & TRACKING) {\n\t\t\tsignal._subscribe(node);\n\t\t}\n\t\treturn node;\n\t} else if (node._version === -1) {\n\t\t// `signal` is an existing dependency from a previous evaluation. Reuse it.\n\t\tnode._version = 0;\n\n\t\t/**\n\t\t * If `node` is not already the current tail of the dependency list (i.e.\n\t\t * there is a next node in the list), then make the `node` the new tail. e.g:\n\t\t *\n\t\t * { A <-> B <-> C <-> D }\n\t\t *                    \n\t\t *        node    tail (evalContext._sources)\n\t\t *         \n\t\t *                    \n\t\t * { A <-> C <-> D <-> B }\n\t\t *                     \n\t\t *                    tail (evalContext._sources)\n\t\t */\n\t\tif (node._nextSource !== undefined) {\n\t\t\tnode._nextSource._prevSource = node._prevSource;\n\n\t\t\tif (node._prevSource !== undefined) {\n\t\t\t\tnode._prevSource._nextSource = node._nextSource;\n\t\t\t}\n\n\t\t\tnode._prevSource = evalContext._sources;\n\t\t\tnode._nextSource = undefined;\n\n\t\t\tevalContext._sources!._nextSource = node;\n\t\t\tevalContext._sources = node;\n\t\t}\n\n\t\t// We can assume that the currently evaluated effect / computed signal is already\n\t\t// subscribed to change notifications from `signal` if needed.\n\t\treturn node;\n\t}\n\treturn undefined;\n}\n\n//#region Signal\n\n/**\n * The base class for plain and computed signals.\n */\n//\n// A function with the same name is defined later, so we need to ignore TypeScript's\n// warning about a redeclared variable.\n//\n// The class is declared here, but later implemented with ES5-style prototypes.\n// This enables better control of the transpiled output size.\n// @ts-ignore: \"Cannot redeclare exported variable 'Signal'.\"\ndeclare class Signal<T = any> {\n\t/** @internal */\n\t_value: unknown;\n\n\t/**\n\t * @internal\n\t * Version numbers should always be >= 0, because the special value -1 is used\n\t * by Nodes to signify potentially unused but recyclable nodes.\n\t */\n\t_version: number;\n\n\t/** @internal */\n\t_node?: Node;\n\n\t/** @internal */\n\t_targets?: Node;\n\n\tconstructor(value?: T, options?: SignalOptions<T>);\n\n\t/** @internal */\n\t_refresh(): boolean;\n\n\t/** @internal */\n\t_subscribe(node: Node): void;\n\n\t/** @internal */\n\t_unsubscribe(node: Node): void;\n\n\t/** @internal */\n\t_watched?(this: Signal<T>): void;\n\n\t/** @internal */\n\t_unwatched?(this: Signal<T>): void;\n\n\tsubscribe(fn: (value: T) => void): () => void;\n\n\tname?: string;\n\n\tvalueOf(): T;\n\n\ttoString(): string;\n\n\ttoJSON(): T;\n\n\tpeek(): T;\n\n\tbrand: typeof BRAND_SYMBOL;\n\n\tget value(): T;\n\tset value(value: T);\n}\n\nexport interface SignalOptions<T = any> {\n\twatched?: (this: Signal<T>) => void;\n\tunwatched?: (this: Signal<T>) => void;\n\tname?: string;\n}\n\n/** @internal */\n// A class with the same name has already been declared, so we need to ignore\n// TypeScript's warning about a redeclared variable.\n//\n// The previously declared class is implemented here with ES5-style prototypes.\n// This enables better control of the transpiled output size.\n// @ts-ignore: \"Cannot redeclare exported variable 'Signal'.\"\nfunction Signal(this: Signal, value?: unknown, options?: SignalOptions) {\n\tthis._value = value;\n\tthis._version = 0;\n\tthis._node = undefined;\n\tthis._targets = undefined;\n\tthis._watched = options?.watched;\n\tthis._unwatched = options?.unwatched;\n\tthis.name = options?.name;\n}\n\nSignal.prototype.brand = BRAND_SYMBOL;\n\nSignal.prototype._refresh = function () {\n\treturn true;\n};\n\nSignal.prototype._subscribe = function (node) {\n\tconst targets = this._targets;\n\tif (targets !== node && node._prevTarget === undefined) {\n\t\tnode._nextTarget = targets;\n\t\tthis._targets = node;\n\n\t\tif (targets !== undefined) {\n\t\t\ttargets._prevTarget = node;\n\t\t} else {\n\t\t\tuntracked(() => {\n\t\t\t\tthis._watched?.call(this);\n\t\t\t});\n\t\t}\n\t}\n};\n\nSignal.prototype._unsubscribe = function (node) {\n\t// Only run the unsubscribe step if the signal has any subscribers to begin with.\n\tif (this._targets !== undefined) {\n\t\tconst prev = node._prevTarget;\n\t\tconst next = node._nextTarget;\n\t\tif (prev !== undefined) {\n\t\t\tprev._nextTarget = next;\n\t\t\tnode._prevTarget = undefined;\n\t\t}\n\n\t\tif (next !== undefined) {\n\t\t\tnext._prevTarget = prev;\n\t\t\tnode._nextTarget = undefined;\n\t\t}\n\n\t\tif (node === this._targets) {\n\t\t\tthis._targets = next;\n\t\t\tif (next === undefined) {\n\t\t\t\tuntracked(() => {\n\t\t\t\t\tthis._unwatched?.call(this);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n};\n\nSignal.prototype.subscribe = function (fn) {\n\treturn effect(\n\t\t() => {\n\t\t\tconst value = this.value;\n\t\t\tconst prevContext = evalContext;\n\t\t\tevalContext = undefined;\n\t\t\ttry {\n\t\t\t\tfn(value);\n\t\t\t} finally {\n\t\t\t\tevalContext = prevContext;\n\t\t\t}\n\t\t},\n\t\t{ name: \"sub\" }\n\t);\n};\n\nSignal.prototype.valueOf = function () {\n\treturn this.value;\n};\n\nSignal.prototype.toString = function () {\n\treturn this.value + \"\";\n};\n\nSignal.prototype.toJSON = function () {\n\treturn this.value;\n};\n\nSignal.prototype.peek = function () {\n\tconst prevContext = evalContext;\n\tevalContext = undefined;\n\ttry {\n\t\treturn this.value;\n\t} finally {\n\t\tevalContext = prevContext;\n\t}\n};\n\nObject.defineProperty(Signal.prototype, \"value\", {\n\tget(this: Signal) {\n\t\tconst node = addDependency(this);\n\t\tif (node !== undefined) {\n\t\t\tnode._version = this._version;\n\t\t}\n\t\treturn this._value;\n\t},\n\tset(this: Signal, value) {\n\t\tif (value !== this._value) {\n\t\t\tif (batchIteration > 100) {\n\t\t\t\tthrow new Error(\"Cycle detected\");\n\t\t\t}\n\n\t\t\tthis._value = value;\n\t\t\tthis._version++;\n\t\t\tglobalVersion++;\n\n\t\t\t/**@__INLINE__*/ startBatch();\n\t\t\ttry {\n\t\t\t\tfor (\n\t\t\t\t\tlet node = this._targets;\n\t\t\t\t\tnode !== undefined;\n\t\t\t\t\tnode = node._nextTarget\n\t\t\t\t) {\n\t\t\t\t\tnode._target._notify();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tendBatch();\n\t\t\t}\n\t\t}\n\t},\n});\n\n/**\n * Create a new plain signal.\n *\n * @param value The initial value for the signal.\n * @returns A new signal.\n */\nexport function signal<T>(value: T, options?: SignalOptions<T>): Signal<T>;\nexport function signal<T = undefined>(): Signal<T | undefined>;\nexport function signal<T>(value?: T, options?: SignalOptions<T>): Signal<T> {\n\treturn new Signal(value, options);\n}\n\n//#endregion Signal\n\n//#region Computed\n\nfunction needsToRecompute(target: Computed | Effect): boolean {\n\t// Check the dependencies for changed values. The dependency list is already\n\t// in order of use. Therefore if multiple dependencies have changed values, only\n\t// the first used dependency is re-evaluated at this point.\n\tfor (\n\t\tlet node = target._sources;\n\t\tnode !== undefined;\n\t\tnode = node._nextSource\n\t) {\n\t\tif (\n\t\t\t// If the dependency has definitely been updated since its version number\n\t\t\t// was observed, then we need to recompute. This first check is not strictly\n\t\t\t// necessary for correctness, but allows us to skip the refresh call if the\n\t\t\t// dependency has already been updated.\n\t\t\tnode._source._version !== node._version ||\n\t\t\t// Refresh the dependency. If there's something blocking the refresh (e.g. a\n\t\t\t// dependency cycle), then we need to recompute.\n\t\t\t!node._source._refresh() ||\n\t\t\t// If the dependency got a new version after the refresh, then we need to recompute.\n\t\t\tnode._source._version !== node._version\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t}\n\t// If none of the dependencies have changed values since last recompute then\n\t// there's no need to recompute.\n\treturn false;\n}\n\nfunction prepareSources(target: Computed | Effect) {\n\t/**\n\t * 1. Mark all current sources as re-usable nodes (version: -1)\n\t * 2. Set a rollback node if the current node is being used in a different context\n\t * 3. Point 'target._sources' to the tail of the doubly-linked list, e.g:\n\t *\n\t *    { undefined <- A <-> B <-> C -> undefined }\n\t *                              \n\t *                              \n\t * target._sources = A; (node is head)  \n\t *                                     \n\t * target._sources = C; (node is tail) \n\t */\n\tfor (\n\t\tlet node = target._sources;\n\t\tnode !== undefined;\n\t\tnode = node._nextSource\n\t) {\n\t\tconst rollbackNode = node._source._node;\n\t\tif (rollbackNode !== undefined) {\n\t\t\tnode._rollbackNode = rollbackNode;\n\t\t}\n\t\tnode._source._node = node;\n\t\tnode._version = -1;\n\n\t\tif (node._nextSource === undefined) {\n\t\t\ttarget._sources = node;\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nfunction cleanupSources(target: Computed | Effect) {\n\tlet node = target._sources;\n\tlet head: Node | undefined = undefined;\n\n\t/**\n\t * At this point 'target._sources' points to the tail of the doubly-linked list.\n\t * It contains all existing sources + new sources in order of use.\n\t * Iterate backwards until we find the head node while dropping old dependencies.\n\t */\n\twhile (node !== undefined) {\n\t\tconst prev = node._prevSource;\n\n\t\t/**\n\t\t * The node was not re-used, unsubscribe from its change notifications and remove itself\n\t\t * from the doubly-linked list. e.g:\n\t\t *\n\t\t * { A <-> B <-> C }\n\t\t *         \n\t\t *    { A <-> C }\n\t\t */\n\t\tif (node._version === -1) {\n\t\t\tnode._source._unsubscribe(node);\n\n\t\t\tif (prev !== undefined) {\n\t\t\t\tprev._nextSource = node._nextSource;\n\t\t\t}\n\t\t\tif (node._nextSource !== undefined) {\n\t\t\t\tnode._nextSource._prevSource = prev;\n\t\t\t}\n\t\t} else {\n\t\t\t/**\n\t\t\t * The new head is the last node seen which wasn't removed/unsubscribed\n\t\t\t * from the doubly-linked list. e.g:\n\t\t\t *\n\t\t\t * { A <-> B <-> C }\n\t\t\t *             \n\t\t\t *              head = node\n\t\t\t *         head = node\n\t\t\t *    head = node\n\t\t\t */\n\t\t\thead = node;\n\t\t}\n\n\t\tnode._source._node = node._rollbackNode;\n\t\tif (node._rollbackNode !== undefined) {\n\t\t\tnode._rollbackNode = undefined;\n\t\t}\n\n\t\tnode = prev;\n\t}\n\n\ttarget._sources = head;\n}\n\n/**\n * The base class for computed signals.\n */\ndeclare class Computed<T = any> extends Signal<T> {\n\t_fn: () => T;\n\t_sources?: Node;\n\t_globalVersion: number;\n\t_flags: number;\n\n\tconstructor(fn: () => T, options?: SignalOptions<T>);\n\n\t_notify(): void;\n\tget value(): T;\n}\n\n/** @internal */\nfunction Computed(this: Computed, fn: () => unknown, options?: SignalOptions) {\n\tSignal.call(this, undefined);\n\n\tthis._fn = fn;\n\tthis._sources = undefined;\n\tthis._globalVersion = globalVersion - 1;\n\tthis._flags = OUTDATED;\n\tthis._watched = options?.watched;\n\tthis._unwatched = options?.unwatched;\n\tthis.name = options?.name;\n}\n\nComputed.prototype = new Signal() as Computed;\n\nComputed.prototype._refresh = function () {\n\tthis._flags &= ~NOTIFIED;\n\n\tif (this._flags & RUNNING) {\n\t\treturn false;\n\t}\n\n\t// If this computed signal has subscribed to updates from its dependencies\n\t// (TRACKING flag set) and none of them have notified about changes (OUTDATED\n\t// flag not set), then the computed value can't have changed.\n\tif ((this._flags & (OUTDATED | TRACKING)) === TRACKING) {\n\t\treturn true;\n\t}\n\tthis._flags &= ~OUTDATED;\n\n\tif (this._globalVersion === globalVersion) {\n\t\treturn true;\n\t}\n\tthis._globalVersion = globalVersion;\n\n\t// Mark this computed signal running before checking the dependencies for value\n\t// changes, so that the RUNNING flag can be used to notice cyclical dependencies.\n\tthis._flags |= RUNNING;\n\tif (this._version > 0 && !needsToRecompute(this)) {\n\t\tthis._flags &= ~RUNNING;\n\t\treturn true;\n\t}\n\n\tconst prevContext = evalContext;\n\ttry {\n\t\tprepareSources(this);\n\t\tevalContext = this;\n\t\tconst value = this._fn();\n\t\tif (\n\t\t\tthis._flags & HAS_ERROR ||\n\t\t\tthis._value !== value ||\n\t\t\tthis._version === 0\n\t\t) {\n\t\t\tthis._value = value;\n\t\t\tthis._flags &= ~HAS_ERROR;\n\t\t\tthis._version++;\n\t\t}\n\t} catch (err) {\n\t\tthis._value = err;\n\t\tthis._flags |= HAS_ERROR;\n\t\tthis._version++;\n\t}\n\tevalContext = prevContext;\n\tcleanupSources(this);\n\tthis._flags &= ~RUNNING;\n\treturn true;\n};\n\nComputed.prototype._subscribe = function (node) {\n\tif (this._targets === undefined) {\n\t\tthis._flags |= OUTDATED | TRACKING;\n\n\t\t// A computed signal subscribes lazily to its dependencies when it\n\t\t// gets its first subscriber.\n\t\tfor (\n\t\t\tlet node = this._sources;\n\t\t\tnode !== undefined;\n\t\t\tnode = node._nextSource\n\t\t) {\n\t\t\tnode._source._subscribe(node);\n\t\t}\n\t}\n\tSignal.prototype._subscribe.call(this, node);\n};\n\nComputed.prototype._unsubscribe = function (node) {\n\t// Only run the unsubscribe step if the computed signal has any subscribers.\n\tif (this._targets !== undefined) {\n\t\tSignal.prototype._unsubscribe.call(this, node);\n\n\t\t// Computed signal unsubscribes from its dependencies when it loses its last subscriber.\n\t\t// This makes it possible for unreferences subgraphs of computed signals to get garbage collected.\n\t\tif (this._targets === undefined) {\n\t\t\tthis._flags &= ~TRACKING;\n\n\t\t\tfor (\n\t\t\t\tlet node = this._sources;\n\t\t\t\tnode !== undefined;\n\t\t\t\tnode = node._nextSource\n\t\t\t) {\n\t\t\t\tnode._source._unsubscribe(node);\n\t\t\t}\n\t\t}\n\t}\n};\n\nComputed.prototype._notify = function () {\n\tif (!(this._flags & NOTIFIED)) {\n\t\tthis._flags |= OUTDATED | NOTIFIED;\n\n\t\tfor (\n\t\t\tlet node = this._targets;\n\t\t\tnode !== undefined;\n\t\t\tnode = node._nextTarget\n\t\t) {\n\t\t\tnode._target._notify();\n\t\t}\n\t}\n};\n\nObject.defineProperty(Computed.prototype, \"value\", {\n\tget(this: Computed) {\n\t\tif (this._flags & RUNNING) {\n\t\t\tthrow new Error(\"Cycle detected\");\n\t\t}\n\t\tconst node = addDependency(this);\n\t\tthis._refresh();\n\t\tif (node !== undefined) {\n\t\t\tnode._version = this._version;\n\t\t}\n\t\tif (this._flags & HAS_ERROR) {\n\t\t\tthrow this._value;\n\t\t}\n\t\treturn this._value;\n\t},\n});\n\n/**\n * An interface for read-only signals.\n */\ninterface ReadonlySignal<T = any> {\n\treadonly value: T;\n\tpeek(): T;\n\n\tsubscribe(fn: (value: T) => void): () => void;\n\tvalueOf(): T;\n\ttoString(): string;\n\ttoJSON(): T;\n\tbrand: typeof BRAND_SYMBOL;\n}\n\n/**\n * Create a new signal that is computed based on the values of other signals.\n *\n * The returned computed signal is read-only, and its value is automatically\n * updated when any signals accessed from within the callback function change.\n *\n * @param fn The effect callback.\n * @returns A new read-only signal.\n */\nfunction computed<T>(\n\tfn: () => T,\n\toptions?: SignalOptions<T>\n): ReadonlySignal<T> {\n\treturn new Computed(fn, options);\n}\n\n//#endregion Computed\n\n//#region Effect\n\nfunction cleanupEffect(effect: Effect) {\n\tconst cleanup = effect._cleanup;\n\teffect._cleanup = undefined;\n\n\tif (typeof cleanup === \"function\") {\n\t\t/*@__INLINE__**/ startBatch();\n\n\t\t// Run cleanup functions always outside of any context.\n\t\tconst prevContext = evalContext;\n\t\tevalContext = undefined;\n\t\ttry {\n\t\t\tcleanup();\n\t\t} catch (err) {\n\t\t\teffect._flags &= ~RUNNING;\n\t\t\teffect._flags |= DISPOSED;\n\t\t\tdisposeEffect(effect);\n\t\t\tthrow err;\n\t\t} finally {\n\t\t\tevalContext = prevContext;\n\t\t\tendBatch();\n\t\t}\n\t}\n}\n\nfunction disposeEffect(effect: Effect) {\n\tfor (\n\t\tlet node = effect._sources;\n\t\tnode !== undefined;\n\t\tnode = node._nextSource\n\t) {\n\t\tnode._source._unsubscribe(node);\n\t}\n\teffect._fn = undefined;\n\teffect._sources = undefined;\n\n\tcleanupEffect(effect);\n}\n\nfunction endEffect(this: Effect, prevContext?: Computed | Effect) {\n\tif (evalContext !== this) {\n\t\tthrow new Error(\"Out-of-order effect\");\n\t}\n\tcleanupSources(this);\n\tevalContext = prevContext;\n\n\tthis._flags &= ~RUNNING;\n\tif (this._flags & DISPOSED) {\n\t\tdisposeEffect(this);\n\t}\n\tendBatch();\n}\n\ntype EffectFn =\n\t| ((this: { dispose: () => void }) => void | (() => void))\n\t| (() => void | (() => void));\n\n/**\n * The base class for reactive effects.\n */\ndeclare class Effect {\n\t_fn?: EffectFn;\n\t_cleanup?: () => void;\n\t_sources?: Node;\n\t_nextBatchedEffect?: Effect;\n\t_flags: number;\n\t_debugCallback?: () => void;\n\tname?: string;\n\n\tconstructor(fn: EffectFn, options?: EffectOptions);\n\n\t_callback(): void;\n\t_start(): () => void;\n\t_notify(): void;\n\t_dispose(): void;\n\tdispose(): void;\n}\n\nexport interface EffectOptions {\n\tname?: string;\n}\n\nlet capturedEffects: Effect[] | undefined;\n\n/** @internal */\nfunction Effect(this: Effect, fn: EffectFn, options?: EffectOptions) {\n\tthis._fn = fn;\n\tthis._cleanup = undefined;\n\tthis._sources = undefined;\n\tthis._nextBatchedEffect = undefined;\n\tthis._flags = TRACKING;\n\tthis.name = options?.name;\n\n\tif (capturedEffects) {\n\t\tcapturedEffects.push(this);\n\t}\n}\n\nEffect.prototype._callback = function () {\n\tconst finish = this._start();\n\ttry {\n\t\tif (this._flags & DISPOSED) return;\n\t\tif (this._fn === undefined) return;\n\n\t\tconst cleanup = this._fn();\n\t\tif (typeof cleanup === \"function\") {\n\t\t\tthis._cleanup = cleanup;\n\t\t}\n\t} finally {\n\t\tfinish();\n\t}\n};\n\nEffect.prototype._start = function () {\n\tif (this._flags & RUNNING) {\n\t\tthrow new Error(\"Cycle detected\");\n\t}\n\tthis._flags |= RUNNING;\n\tthis._flags &= ~DISPOSED;\n\tcleanupEffect(this);\n\tprepareSources(this);\n\n\t/*@__INLINE__**/ startBatch();\n\tconst prevContext = evalContext;\n\tevalContext = this;\n\treturn endEffect.bind(this, prevContext);\n};\n\nEffect.prototype._notify = function () {\n\tif (!(this._flags & NOTIFIED)) {\n\t\tthis._flags |= NOTIFIED;\n\t\tthis._nextBatchedEffect = batchedEffect;\n\t\tbatchedEffect = this;\n\t}\n};\n\nEffect.prototype._dispose = function () {\n\tthis._flags |= DISPOSED;\n\n\tif (!(this._flags & RUNNING)) {\n\t\tdisposeEffect(this);\n\t}\n};\n\nEffect.prototype.dispose = function () {\n\tthis._dispose();\n};\n/**\n * Create an effect to run arbitrary code in response to signal changes.\n *\n * An effect tracks which signals are accessed within the given callback\n * function `fn`, and re-runs the callback when those signals change.\n *\n * The callback may return a cleanup function. The cleanup function gets\n * run once, either when the callback is next called or when the effect\n * gets disposed, whichever happens first.\n *\n * @param fn The effect callback.\n * @returns A function for disposing the effect.\n */\nfunction effect(fn: EffectFn, options?: EffectOptions): () => void {\n\tconst effect = new Effect(fn, options);\n\ttry {\n\t\teffect._callback();\n\t} catch (err) {\n\t\teffect._dispose();\n\t\tthrow err;\n\t}\n\t// Return a bound function instead of a wrapper like `() => effect._dispose()`,\n\t// because bound functions seem to be just as fast and take up a lot less memory.\n\tconst dispose = effect._dispose.bind(effect);\n\t(dispose as any)[Symbol.dispose] = dispose;\n\treturn dispose as any;\n}\n\n//#endregion Effect\n\n//#region Action\n\nfunction action<TArgs extends unknown[], TReturn>(\n\tfn: (...args: TArgs) => TReturn\n): (...args: TArgs) => TReturn {\n\treturn function actionWrapper(this: unknown, ...args: TArgs) {\n\t\treturn batch(() => untracked(() => fn.apply(this, args)));\n\t};\n}\n\n//#endregion Action\n\n//#region createModel\n\n/** Models should only contain signals, actions, and nested objects containing only signals and actions. */\ntype ValidateModel<TModel> = {\n\t[Key in keyof TModel]: TModel[Key] extends ReadonlySignal<unknown>\n\t\t? TModel[Key]\n\t\t: TModel[Key] extends (...args: any[]) => any\n\t\t\t? TModel[Key]\n\t\t\t: TModel[Key] extends object\n\t\t\t\t? ValidateModel<TModel[Key]>\n\t\t\t\t: `Property ${Key extends string ? `'${Key}' ` : \"\"}is not a Signal, Action, or an object that contains only Signals and Actions.`;\n};\n\nexport type Model<TModel> = ValidateModel<TModel> & Disposable;\n\nexport type ModelFactory<TModel, TFactoryArgs extends any[] = []> = (\n\t...args: TFactoryArgs\n) => ValidateModel<TModel>;\nexport type ModelConstructor<TModel, TFactoryArgs extends any[] = []> = new (\n\t...args: TFactoryArgs\n) => Model<TModel>;\n\n/**\n * The public types for ModelConstructor require using `new` to help\n * disambiguate the function passed into `createModel` and the returned\n * constructor function. It is easier to say that `createModel` accepts\n * a factory and returns a class, then to say it accepts a factory and\n * returns a factory. In other words, this example:\n *\n * ```ts\n * const PersonModel = createModel((name: string) => ({ ... }));\n * const person = new PersonModel(\"John\");\n * ```\n *\n * is easier to understand than this example:\n *\n * ```ts\n * const createPerson = createModel((name: string) => ({ ... }));\n * const person = createPerson(\"John\");\n * ```\n *\n * However, internally we implement `createModel` to return a function\n * that can be called without `new` for simplicity. To bridge the gap\n * between the public types and the internal implementation, we define\n * this internal interface that extends the public interface but also\n * allows calling without `new`.\n *\n * This pattern is used by the Preact & React adapters to make instantiating\n * a model or a function that returns a model easier.\n *\n * @internal\n */\ninterface InternalModelConstructor<TModel, TFactoryArgs extends any[]>\n\textends ModelConstructor<TModel, TFactoryArgs> {\n\t(...args: TFactoryArgs): Model<TModel>;\n}\n\nfunction startCapturingEffects(): () => Effect[] | undefined {\n\tlet prevCapturedEffects = capturedEffects;\n\tcapturedEffects = [];\n\n\treturn function stopCapturingEffects() {\n\t\tlet modelEffects = capturedEffects;\n\t\tif (capturedEffects && prevCapturedEffects) {\n\t\t\tprevCapturedEffects = prevCapturedEffects.concat(capturedEffects);\n\t\t}\n\n\t\tcapturedEffects = prevCapturedEffects;\n\n\t\treturn modelEffects;\n\t};\n}\n\nfunction createModel<TModel, TFactoryArgs extends any[] = []>(\n\tmodelFactory: ModelFactory<TModel, TFactoryArgs>\n): ModelConstructor<TModel, TFactoryArgs> {\n\treturn function SignalModel(...args: TFactoryArgs): Model<TModel> {\n\t\tlet modelEffects: Effect[] | undefined;\n\t\tlet model: Model<TModel>;\n\n\t\tconst stopCapturingEffects = startCapturingEffects();\n\t\ttry {\n\t\t\tmodel = modelFactory(...args) as Model<TModel>;\n\t\t} catch (err) {\n\t\t\t// Drop any captured effects on error. Errors from nested models will bubble\n\t\t\t// up here and recursively reset `capturedEffects` to `undefined` preventing\n\t\t\t// any captured effects from leaking\n\t\t\tcapturedEffects = undefined;\n\t\t\tthrow err;\n\t\t} finally {\n\t\t\tmodelEffects = stopCapturingEffects();\n\t\t}\n\n\t\tfor (const key in model) {\n\t\t\t// @ts-expect-error TypeScript can't infer that model[key] is a valid here\n\t\t\tif (typeof model[key] === \"function\") {\n\t\t\t\t// @ts-expect-error TypeScript can't infer that model[key] is a valid function\n\t\t\t\t// to pass to action here\n\t\t\t\tmodel[key] = action(model[key]);\n\t\t\t}\n\t\t}\n\n\t\tmodel[Symbol.dispose] = action(function disposeModel() {\n\t\t\tif (modelEffects) {\n\t\t\t\tfor (let i = 0; i < modelEffects.length; i++) {\n\t\t\t\t\tmodelEffects[i].dispose();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmodelEffects = undefined;\n\t\t});\n\n\t\treturn model;\n\t} as InternalModelConstructor<TModel, TFactoryArgs>;\n}\n\n//#endregion createModel\n\nexport {\n\tcomputed,\n\teffect,\n\tbatch,\n\tuntracked,\n\taction,\n\tcreateModel,\n\tSignal,\n\tReadonlySignal,\n\tEffect,\n\tComputed,\n};\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __knownSymbol = (name, symbol) => (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __decoratorStart = (base) => {\n  var _a2;\n  return [, , , __create((_a2 = base == null ? void 0 : base[__knownSymbol(\"metadata\")]) != null ? _a2 : null)];\n};\nvar __decoratorStrings = [\"class\", \"method\", \"getter\", \"setter\", \"accessor\", \"field\", \"value\", \"get\", \"set\"];\nvar __expectFn = (fn) => fn !== void 0 && typeof fn !== \"function\" ? __typeError(\"Function expected\") : fn;\nvar __decoratorContext = (kind, name, done, metadata, fns) => ({ kind: __decoratorStrings[kind], name, metadata, addInitializer: (fn) => done._ ? __typeError(\"Already initialized\") : fns.push(__expectFn(fn || null)) });\nvar __decoratorMetadata = (array, target) => __defNormalProp(target, __knownSymbol(\"metadata\"), array[3]);\nvar __runInitializers = (array, flags, self, value) => {\n  for (var i = 0, fns = array[flags >> 1], n = fns && fns.length; i < n; i++) flags & 1 ? fns[i].call(self) : value = fns[i].call(self, value);\n  return value;\n};\nvar __decorateElement = (array, flags, name, decorators, target, extra) => {\n  var fn, it, done, ctx, access, k = flags & 7, s = !!(flags & 8), p = !!(flags & 16);\n  var j = k > 3 ? array.length + 1 : k ? s ? 1 : 2 : 0, key = __decoratorStrings[k + 5];\n  var initializers = k > 3 && (array[j - 1] = []), extraInitializers = array[j] || (array[j] = []);\n  var desc = k && (!p && !s && (target = target.prototype), k < 5 && (k > 3 || !p) && __getOwnPropDesc(k < 4 ? target : { get [name]() {\n    return __privateGet(this, extra);\n  }, set [name](x) {\n    return __privateSet(this, extra, x);\n  } }, name));\n  k ? p && k < 4 && __name(extra, (k > 2 ? \"set \" : k > 1 ? \"get \" : \"\") + name) : __name(target, name);\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    ctx = __decoratorContext(k, name, done = {}, array[3], extraInitializers);\n    if (k) {\n      ctx.static = s, ctx.private = p, access = ctx.access = { has: p ? (x) => __privateIn(target, x) : (x) => name in x };\n      if (k ^ 3) access.get = p ? (x) => (k ^ 1 ? __privateGet : __privateMethod)(x, target, k ^ 4 ? extra : desc.get) : (x) => x[name];\n      if (k > 2) access.set = p ? (x, y) => __privateSet(x, target, y, k ^ 4 ? extra : desc.set) : (x, y) => x[name] = y;\n    }\n    it = (0, decorators[i])(k ? k < 4 ? p ? extra : desc[key] : k > 4 ? void 0 : { get: desc.get, set: desc.set } : target, ctx), done._ = 1;\n    if (k ^ 4 || it === void 0) __expectFn(it) && (k > 4 ? initializers.unshift(it) : k ? p ? extra = it : desc[key] = it : target = it);\n    else if (typeof it !== \"object\" || it === null) __typeError(\"Object expected\");\n    else __expectFn(fn = it.get) && (desc.get = fn), __expectFn(fn = it.set) && (desc.set = fn), __expectFn(fn = it.init) && initializers.unshift(fn);\n  }\n  return k || __decoratorMetadata(array, target), desc && __defProp(target, name, desc), p ? k ^ 4 ? extra : desc : target;\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateIn = (member, obj) => Object(obj) !== obj ? __typeError('Cannot use the \"in\" operator on this value') : member.has(obj);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\n\n// src/index.ts\nimport {\n  batch as batch2,\n  effect as effect2,\n  untracked as untracked3,\n  signal as signal2,\n  Signal\n} from \"@preact/signals-core\";\n\n// src/computed.ts\nimport {\n  computed as computedSignal\n} from \"@preact/signals-core\";\nfunction computed(compute, comparator) {\n  if (comparator) {\n    let previousValue;\n    return computedSignal(() => {\n      const value = compute();\n      if (value && previousValue && comparator(previousValue, value)) {\n        return previousValue;\n      }\n      previousValue = value;\n      return value;\n    });\n  }\n  return computedSignal(compute);\n}\n\n// src/comparators.ts\nfunction deepEqual(a, b) {\n  if (Object.is(a, b)) {\n    return true;\n  }\n  if (a === null || b === null) return false;\n  if (typeof a === \"function\" && typeof b === \"function\") {\n    return a === b;\n  }\n  if (a instanceof Set && b instanceof Set) {\n    if (a.size !== b.size) {\n      return false;\n    }\n    for (const value of a) {\n      if (!b.has(value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n    const hasDifferentValues = a.some(\n      (value, index) => !deepEqual(value, b[index])\n    );\n    return !hasDifferentValues;\n  }\n  if (typeof a === \"object\" && typeof b === \"object\") {\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) return false;\n    const hasDifferentValues = aKeys.some(\n      (key) => !deepEqual(a[key], b[key])\n    );\n    return !hasDifferentValues;\n  }\n  return false;\n}\n\n// src/decorators.ts\nimport { signal } from \"@preact/signals-core\";\nfunction reactive({ get }, _) {\n  return {\n    init(value) {\n      return signal(value);\n    },\n    get() {\n      const current = get.call(this);\n      return current.value;\n    },\n    set(newValue) {\n      const current = get.call(this);\n      if (current.peek() === newValue) {\n        return;\n      }\n      current.value = newValue;\n    }\n  };\n}\nfunction derived(target, _) {\n  const map = /* @__PURE__ */ new WeakMap();\n  return function() {\n    let result = map.get(this);\n    if (!result) {\n      result = computed(target.bind(this));\n      map.set(this, result);\n    }\n    return result.value;\n  };\n}\nfunction enumerable(enumerable2 = true) {\n  return function(_value, context) {\n    context.addInitializer(function() {\n      const host = context.kind === \"field\" ? this : context.static ? this : Object.getPrototypeOf(this);\n      const descriptor = Object.getOwnPropertyDescriptor(host, context.name);\n      if (descriptor) {\n        Object.defineProperty(host, context.name, __spreadProps(__spreadValues({}, descriptor), { enumerable: enumerable2 }));\n      }\n    });\n  };\n}\n\n// src/effects.ts\nimport { effect } from \"@preact/signals-core\";\nfunction effects(...entries) {\n  const effects2 = entries.map(effect);\n  return () => effects2.forEach((cleanup) => cleanup());\n}\n\n// src/history.ts\nimport { batch, untracked } from \"@preact/signals-core\";\nvar _previous_dec, _initial_dec, _current_dec, _current_dec2, _previous_dec2, _initial_dec2, _init, _initial, _a, initial_get, initial_set, _ValueHistory_instances, _previous, _b, previous_get, previous_set, _current, _c, current_get, current_set;\n_initial_dec2 = [reactive], _previous_dec2 = [reactive], _current_dec2 = [reactive], _current_dec = [enumerable()], _initial_dec = [enumerable()], _previous_dec = [enumerable()];\nvar ValueHistory = class {\n  constructor(defaultValue, equals = Object.is) {\n    this.defaultValue = defaultValue;\n    this.equals = equals;\n    __runInitializers(_init, 5, this);\n    __privateAdd(this, _ValueHistory_instances);\n    // @ts-ignore\n    __privateAdd(this, _initial, __runInitializers(_init, 8, this)), __runInitializers(_init, 11, this);\n    // @ts-ignore\n    __privateAdd(this, _previous, __runInitializers(_init, 12, this)), __runInitializers(_init, 15, this);\n    // @ts-ignore\n    __privateAdd(this, _current, __runInitializers(_init, 16, this)), __runInitializers(_init, 19, this);\n    this.reset = this.reset.bind(this);\n    this.reset();\n  }\n  get current() {\n    return __privateGet(this, _ValueHistory_instances, current_get);\n  }\n  get initial() {\n    return __privateGet(this, _ValueHistory_instances, initial_get);\n  }\n  get previous() {\n    return __privateGet(this, _ValueHistory_instances, previous_get);\n  }\n  /** Set the current value */\n  set current(value) {\n    const current = untracked(() => __privateGet(this, _ValueHistory_instances, current_get));\n    if (value && current && this.equals(current, value)) {\n      return;\n    }\n    batch(() => {\n      if (!__privateGet(this, _ValueHistory_instances, initial_get)) {\n        __privateSet(this, _ValueHistory_instances, value, initial_set);\n      }\n      __privateSet(this, _ValueHistory_instances, current, previous_set);\n      __privateSet(this, _ValueHistory_instances, value, current_set);\n    });\n  }\n  /** Reset the state to the initial value */\n  reset(value = this.defaultValue) {\n    batch(() => {\n      __privateSet(this, _ValueHistory_instances, void 0, previous_set);\n      __privateSet(this, _ValueHistory_instances, value, initial_set);\n      __privateSet(this, _ValueHistory_instances, value, current_set);\n    });\n  }\n};\n_init = __decoratorStart(null);\n_initial = new WeakMap();\n_ValueHistory_instances = new WeakSet();\n_previous = new WeakMap();\n_current = new WeakMap();\n_a = __decorateElement(_init, 20, \"#initial\", _initial_dec2, _ValueHistory_instances, _initial), initial_get = _a.get, initial_set = _a.set;\n_b = __decorateElement(_init, 20, \"#previous\", _previous_dec2, _ValueHistory_instances, _previous), previous_get = _b.get, previous_set = _b.set;\n_c = __decorateElement(_init, 20, \"#current\", _current_dec2, _ValueHistory_instances, _current), current_get = _c.get, current_set = _c.set;\n__decorateElement(_init, 2, \"current\", _current_dec, ValueHistory);\n__decorateElement(_init, 2, \"initial\", _initial_dec, ValueHistory);\n__decorateElement(_init, 2, \"previous\", _previous_dec, ValueHistory);\n__decoratorMetadata(_init, ValueHistory);\n\n// src/snapshot.ts\nimport { untracked as untracked2 } from \"@preact/signals-core\";\nfunction snapshot(value) {\n  return untracked2(() => {\n    const output = {};\n    for (const key in value) {\n      output[key] = value[key];\n    }\n    return output;\n  });\n}\n\n// src/store.ts\nvar _store;\nvar WeakStore = class {\n  constructor() {\n    __privateAdd(this, _store, /* @__PURE__ */ new WeakMap());\n  }\n  get(key, id) {\n    var _a2;\n    return key ? (_a2 = __privateGet(this, _store).get(key)) == null ? void 0 : _a2.get(id) : void 0;\n  }\n  set(key, id, value) {\n    var _a2;\n    if (!key) return;\n    if (!__privateGet(this, _store).has(key)) __privateGet(this, _store).set(key, /* @__PURE__ */ new Map());\n    return (_a2 = __privateGet(this, _store).get(key)) == null ? void 0 : _a2.set(id, value);\n  }\n  clear(key) {\n    var _a2;\n    return key ? (_a2 = __privateGet(this, _store).get(key)) == null ? void 0 : _a2.clear() : void 0;\n  }\n};\n_store = new WeakMap();\nexport {\n  Signal,\n  ValueHistory,\n  WeakStore,\n  batch2 as batch,\n  computed,\n  deepEqual,\n  derived,\n  effect2 as effect,\n  effects,\n  enumerable,\n  reactive,\n  signal2 as signal,\n  snapshot,\n  untracked3 as untracked\n};\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __knownSymbol = (name, symbol) => (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __pow = Math.pow;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __decoratorStart = (base) => {\n  var _a2;\n  return [, , , __create((_a2 = base == null ? void 0 : base[__knownSymbol(\"metadata\")]) != null ? _a2 : null)];\n};\nvar __decoratorStrings = [\"class\", \"method\", \"getter\", \"setter\", \"accessor\", \"field\", \"value\", \"get\", \"set\"];\nvar __expectFn = (fn) => fn !== void 0 && typeof fn !== \"function\" ? __typeError(\"Function expected\") : fn;\nvar __decoratorContext = (kind, name, done, metadata, fns) => ({ kind: __decoratorStrings[kind], name, metadata, addInitializer: (fn) => done._ ? __typeError(\"Already initialized\") : fns.push(__expectFn(fn || null)) });\nvar __decoratorMetadata = (array, target) => __defNormalProp(target, __knownSymbol(\"metadata\"), array[3]);\nvar __runInitializers = (array, flags, self, value) => {\n  for (var i = 0, fns = array[flags >> 1], n = fns && fns.length; i < n; i++) flags & 1 ? fns[i].call(self) : value = fns[i].call(self, value);\n  return value;\n};\nvar __decorateElement = (array, flags, name, decorators, target, extra) => {\n  var fn, it, done, ctx, access, k = flags & 7, s = !!(flags & 8), p = !!(flags & 16);\n  var j = k > 3 ? array.length + 1 : k ? s ? 1 : 2 : 0, key = __decoratorStrings[k + 5];\n  var initializers = k > 3 && (array[j - 1] = []), extraInitializers = array[j] || (array[j] = []);\n  var desc = k && (!p && !s && (target = target.prototype), k < 5 && (k > 3 || !p) && __getOwnPropDesc(k < 4 ? target : { get [name]() {\n    return __privateGet(this, extra);\n  }, set [name](x) {\n    return __privateSet(this, extra, x);\n  } }, name));\n  k ? p && k < 4 && __name(extra, (k > 2 ? \"set \" : k > 1 ? \"get \" : \"\") + name) : __name(target, name);\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    ctx = __decoratorContext(k, name, done = {}, array[3], extraInitializers);\n    if (k) {\n      ctx.static = s, ctx.private = p, access = ctx.access = { has: p ? (x) => __privateIn(target, x) : (x) => name in x };\n      if (k ^ 3) access.get = p ? (x) => (k ^ 1 ? __privateGet : __privateMethod)(x, target, k ^ 4 ? extra : desc.get) : (x) => x[name];\n      if (k > 2) access.set = p ? (x, y) => __privateSet(x, target, y, k ^ 4 ? extra : desc.set) : (x, y) => x[name] = y;\n    }\n    it = (0, decorators[i])(k ? k < 4 ? p ? extra : desc[key] : k > 4 ? void 0 : { get: desc.get, set: desc.set } : target, ctx), done._ = 1;\n    if (k ^ 4 || it === void 0) __expectFn(it) && (k > 4 ? initializers.unshift(it) : k ? p ? extra = it : desc[key] = it : target = it);\n    else if (typeof it !== \"object\" || it === null) __typeError(\"Object expected\");\n    else __expectFn(fn = it.get) && (desc.get = fn), __expectFn(fn = it.set) && (desc.set = fn), __expectFn(fn = it.init) && initializers.unshift(fn);\n  }\n  return k || __decoratorMetadata(array, target), desc && __defProp(target, name, desc), p ? k ^ 4 ? extra : desc : target;\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateIn = (member, obj) => Object(obj) !== obj ? __typeError('Cannot use the \"in\" operator on this value') : member.has(obj);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\n\n// src/point/Point.ts\nvar Point = class _Point {\n  /**\n   * @param {number} Coordinate of the point on the horizontal axis\n   * @param {number} Coordinate of the point on the vertical axis\n   */\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  /**\n   * Returns the delta between this point and another point.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static delta(a, b) {\n    return new _Point(a.x - b.x, a.y - b.y);\n  }\n  /**\n   * Returns the distance (hypotenuse) between this point and another point.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static distance(a, b) {\n    return Math.hypot(a.x - b.x, a.y - b.y);\n  }\n  /**\n   * Returns true if both points are equal.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static equals(a, b) {\n    return a.x === b.x && a.y === b.y;\n  }\n  static from({ x, y }) {\n    return new _Point(x, y);\n  }\n};\n\n// src/shapes/Rectangle.ts\nvar Rectangle = class _Rectangle {\n  constructor(left, top, width, height) {\n    this.left = left;\n    this.top = top;\n    this.width = width;\n    this.height = height;\n    this.scale = {\n      x: 1,\n      y: 1\n    };\n  }\n  get inverseScale() {\n    return {\n      x: 1 / this.scale.x,\n      y: 1 / this.scale.y\n    };\n  }\n  translate(x, y) {\n    const { top, left, width, height, scale } = this;\n    const newShape = new _Rectangle(left + x, top + y, width, height);\n    newShape.scale = __spreadValues({}, scale);\n    return newShape;\n  }\n  get boundingRectangle() {\n    const { width, height, left, top, right, bottom } = this;\n    return { width, height, left, top, right, bottom };\n  }\n  get center() {\n    const { left, top, right, bottom } = this;\n    return new Point((left + right) / 2, (top + bottom) / 2);\n  }\n  get area() {\n    const { width, height } = this;\n    return width * height;\n  }\n  equals(shape) {\n    if (!(shape instanceof _Rectangle)) {\n      return false;\n    }\n    const { left, top, width, height } = this;\n    return left === shape.left && top === shape.top && width === shape.width && height === shape.height;\n  }\n  containsPoint(point) {\n    const { top, left, bottom, right } = this;\n    return top <= point.y && point.y <= bottom && left <= point.x && point.x <= right;\n  }\n  intersectionArea(shape) {\n    if (shape instanceof _Rectangle) {\n      return rectangleRectangleIntersection(this, shape);\n    }\n    return 0;\n  }\n  intersectionRatio(shape) {\n    const { area } = this;\n    const intersectionArea = this.intersectionArea(shape);\n    const intersectionRatio = intersectionArea / (shape.area + area - intersectionArea);\n    return intersectionRatio;\n  }\n  get bottom() {\n    const { top, height } = this;\n    return top + height;\n  }\n  get right() {\n    const { left, width } = this;\n    return left + width;\n  }\n  get aspectRatio() {\n    const { width, height } = this;\n    return width / height;\n  }\n  get corners() {\n    return [\n      { x: this.left, y: this.top },\n      { x: this.right, y: this.top },\n      { x: this.left, y: this.bottom },\n      { x: this.right, y: this.bottom }\n    ];\n  }\n  static from({ top, left, width, height }) {\n    return new _Rectangle(left, top, width, height);\n  }\n  static delta(a, b, alignment = { x: \"center\", y: \"center\" }) {\n    const getCoordinate = (rect, axis) => {\n      const align = alignment[axis];\n      const start = axis === \"x\" ? rect.left : rect.top;\n      const size = axis === \"x\" ? rect.width : rect.height;\n      if (align == \"start\") return start;\n      if (align == \"end\") return start + size;\n      return start + size / 2;\n    };\n    return Point.delta(\n      { x: getCoordinate(a, \"x\"), y: getCoordinate(a, \"y\") },\n      { x: getCoordinate(b, \"x\"), y: getCoordinate(b, \"y\") }\n    );\n  }\n  static intersectionRatio(a, b) {\n    return _Rectangle.from(a).intersectionRatio(_Rectangle.from(b));\n  }\n};\nfunction rectangleRectangleIntersection(a, b) {\n  const top = Math.max(b.top, a.top);\n  const left = Math.max(b.left, a.left);\n  const right = Math.min(b.left + b.width, a.left + a.width);\n  const bottom = Math.min(b.top + b.height, a.top + a.height);\n  const width = right - left;\n  const height = bottom - top;\n  if (left < right && top < bottom) {\n    const intersectionArea = width * height;\n    return intersectionArea;\n  }\n  return 0;\n}\n\n// src/position/position.ts\nimport { batch, derived, ValueHistory } from \"@dnd-kit/state\";\nvar _direction_dec, _delta_dec, _a, _timestamp, _init;\nvar Position = class extends (_a = ValueHistory, _delta_dec = [derived], _direction_dec = [derived], _a) {\n  constructor(initialValue) {\n    const point = Point.from(initialValue);\n    super(point, (a, b) => Point.equals(a, b));\n    __runInitializers(_init, 5, this);\n    __privateAdd(this, _timestamp, 0);\n    this.velocity = { x: 0, y: 0 };\n  }\n  get delta() {\n    return Point.delta(this.current, this.initial);\n  }\n  get direction() {\n    const { current, previous } = this;\n    if (!previous) return null;\n    const delta = {\n      x: current.x - previous.x,\n      y: current.y - previous.y\n    };\n    if (!delta.x && !delta.y) {\n      return null;\n    }\n    if (Math.abs(delta.x) > Math.abs(delta.y)) {\n      return delta.x > 0 ? \"right\" : \"left\";\n    }\n    return delta.y > 0 ? \"down\" : \"up\";\n  }\n  get current() {\n    return super.current;\n  }\n  set current(coordinates) {\n    const { current } = this;\n    const point = Point.from(coordinates);\n    const delta = {\n      x: point.x - current.x,\n      y: point.y - current.y\n    };\n    const timestamp = Date.now();\n    const timeDelta = timestamp - __privateGet(this, _timestamp);\n    const velocity = (delta2) => Math.round(delta2 / timeDelta * 100);\n    batch(() => {\n      __privateSet(this, _timestamp, timestamp);\n      this.velocity = {\n        x: velocity(delta.x),\n        y: velocity(delta.y)\n      };\n      super.current = point;\n    });\n  }\n  reset(coordinates = this.defaultValue) {\n    super.reset(Point.from(coordinates));\n    this.velocity = { x: 0, y: 0 };\n  }\n};\n_init = __decoratorStart(_a);\n_timestamp = new WeakMap();\n__decorateElement(_init, 2, \"delta\", _delta_dec, Position);\n__decorateElement(_init, 2, \"direction\", _direction_dec, Position);\n__decoratorMetadata(_init, Position);\n\n// src/distance/distance.ts\nfunction exceedsDistance({ x, y }, distance) {\n  const dx = Math.abs(x);\n  const dy = Math.abs(y);\n  if (typeof distance === \"number\") {\n    return Math.sqrt(__pow(dx, 2) + __pow(dy, 2)) > distance;\n  }\n  if (\"x\" in distance && \"y\" in distance) {\n    return dx > distance.x && dy > distance.y;\n  }\n  if (\"x\" in distance) {\n    return dx > distance.x;\n  }\n  if (\"y\" in distance) {\n    return dy > distance.y;\n  }\n  return false;\n}\n\n// src/types/axis.ts\nvar Axis = /* @__PURE__ */ ((Axis2) => {\n  Axis2[\"Horizontal\"] = \"x\";\n  Axis2[\"Vertical\"] = \"y\";\n  return Axis2;\n})(Axis || {});\nvar Axes = Object.values(Axis);\nexport {\n  Axes,\n  Axis,\n  Point,\n  Position,\n  Rectangle,\n  exceedsDistance\n};\n", "import type {\n  PluginConstructor,\n  PluginOptions,\n  PluginDescriptor,\n  InferPluginOptions,\n} from './types.ts';\n\n/**\n * Creates a plugin descriptor with the given plugin constructor and options.\n *\n * @template T - The plugin constructor type\n * @template V - The plugin options type\n * @param plugin - The plugin constructor\n * @param options - The plugin configuration options\n * @returns A plugin descriptor containing the constructor and options\n */\nexport function configure<\n  T extends PluginConstructor<any, any, any>,\n  V extends PluginOptions = InferPluginOptions<T>,\n>(plugin: T, options: V): PluginDescriptor<any, any, T> {\n  return {\n    plugin,\n    options,\n  };\n}\n\n/**\n * Creates a configurator function for a specific plugin constructor.\n *\n * @template T - The plugin constructor type\n * @param plugin - The plugin constructor to configure\n * @returns A function that takes options and returns a plugin descriptor\n */\nexport function configurator<T extends PluginConstructor<any, any, any>>(\n  plugin: T\n) {\n  return (options: InferPluginOptions<T>): PluginDescriptor<any, any, T> => {\n    return configure(plugin, options);\n  };\n}\n\n/**\n * Normalizes a plugin constructor or descriptor into a descriptor.\n *\n * @template T - The plugin constructor type\n * @param plugin - Either a plugin constructor or a plugin descriptor\n * @returns A plugin descriptor\n */\nexport function descriptor<T extends PluginConstructor<any, any, any>>(\n  plugin: T | PluginDescriptor<any, any, T>\n): PluginDescriptor<any, any, T> {\n  if (typeof plugin === 'function') {\n    return {\n      plugin,\n      options: undefined,\n    };\n  }\n\n  return plugin;\n}\n", "import {\n  type CleanupFunction,\n  effect,\n  reactive,\n  untracked,\n} from '@dnd-kit/state';\n\nimport type {DragDropManager} from '../manager/index.ts';\nimport type {PluginOptions} from './types.ts';\nimport {configure} from './utilities.ts';\n\n/**\n * Base class for plugins that extend drag and drop functionality.\n *\n * @template T - The type of drag and drop manager\n * @template U - The type of plugin options\n *\n * @remarks\n * Plugins can add new features and behaviors to the drag and drop system\n * by extending this class and implementing custom functionality.\n */\nexport abstract class Plugin<\n  T extends DragDropManager<any, any> = DragDropManager<any, any>,\n  U extends PluginOptions = PluginOptions,\n> {\n  /**\n   * Creates a new plugin instance.\n   *\n   * @param manager - The drag and drop manager that owns this plugin\n   * @param options - Optional configuration for the plugin\n   */\n  constructor(\n    public manager: T,\n    public options?: U\n  ) {}\n\n  /**\n   * Whether the plugin instance is disabled.\n   *\n   * @remarks\n   * This property is reactive and triggers effects when accessed.\n   */\n  @reactive\n  public accessor disabled: boolean = false;\n\n  /**\n   * Enables a disabled plugin instance.\n   *\n   * @remarks\n   * This method triggers effects when called.\n   */\n  public enable() {\n    this.disabled = false;\n  }\n\n  /**\n   * Disables an enabled plugin instance.\n   *\n   * @remarks\n   * This method triggers effects when called.\n   */\n  public disable() {\n    this.disabled = true;\n  }\n\n  /**\n   * Checks if the plugin instance is disabled.\n   *\n   * @returns true if the plugin is disabled\n   * @remarks\n   * This method does not trigger effects when accessed.\n   */\n  public isDisabled() {\n    return untracked(() => {\n      return this.disabled;\n    });\n  }\n\n  /**\n   * Configures a plugin instance with new options.\n   *\n   * @param options - The new options to apply\n   */\n  public configure(options?: U) {\n    this.options = options;\n  }\n\n  #cleanupFunctions = new Set<CleanupFunction>();\n\n  /**\n   * Registers an effect that will be cleaned up when the plugin is destroyed.\n   *\n   * @param callback - The effect callback to register\n   * @returns A function to dispose of the effect\n   */\n  protected registerEffect(callback: () => void) {\n    const dispose = effect(callback.bind(this));\n\n    this.#cleanupFunctions.add(dispose);\n\n    return dispose;\n  }\n\n  /**\n   * Destroys a plugin instance and cleans up its resources.\n   *\n   * @remarks\n   * This method:\n   * - Calls all registered cleanup functions\n   * - Should be overridden by subclasses to clean up additional resources\n   */\n  public destroy() {\n    this.#cleanupFunctions.forEach((cleanup) => cleanup());\n  }\n\n  /**\n   * Configures a plugin constructor with options.\n   *\n   * @param options - The options to configure the constructor with\n   * @returns The configured plugin constructor\n   *\n   * @remarks\n   * This method is used to configure the options that the\n   * plugin constructor will use to create plugin instances.\n   */\n  static configure(options: PluginOptions) {\n    return configure(this as any, options);\n  }\n}\n\n/**\n * Base class for core plugins that ship with the library.\n *\n * @template T - The type of drag and drop manager\n * @template U - The type of plugin options\n */\nexport class CorePlugin<\n  T extends DragDropManager<any, any> = DragDropManager<any, any>,\n  U extends PluginOptions = PluginOptions,\n> extends Plugin<T, U> {}\n", "import {DragDropManager} from '../manager/index.ts';\nimport {CorePlugin, type Plugin} from './plugin.ts';\nimport type {\n  InferPluginOptions,\n  PluginDescriptor,\n  PluginConstructor,\n  Plugins,\n} from './types.ts';\nimport {descriptor} from './utilities.ts';\n\n/**\n * Manages the registration and lifecycle of plugin instances.\n *\n * @template T - The type of drag and drop manager\n * @template W - The type of plugin constructor\n * @template U - The type of plugin instance\n */\nexport class PluginRegistry<\n  T extends DragDropManager<any, any>,\n  W extends PluginConstructor<T> = PluginConstructor<T>,\n  U extends Plugin<T> = InstanceType<W>,\n> {\n  private instances: Map<W, U> = new Map();\n\n  /**\n   * Creates a new plugin registry.\n   *\n   * @param manager - The drag and drop manager that owns this registry\n   */\n  constructor(private manager: T) {}\n\n  /**\n   * Gets all registered plugin instances.\n   *\n   * @returns An array of all active plugin instances\n   */\n  public get values(): U[] {\n    return Array.from(this.instances.values());\n  }\n\n  #previousValues: PluginConstructor<T>[] = [];\n\n  /**\n   * Sets the list of plugins to be used by the registry.\n   *\n   * @param entries - Array of plugin constructors or descriptors\n   * @remarks\n   * This method:\n   * - Filters out duplicate plugins\n   * - Unregisters plugins that are no longer in use\n   * - Registers new plugins with their options\n   */\n  public set values(entries: Plugins<T>) {\n    const descriptors = entries\n      .map(descriptor)\n      .reduceRight<PluginDescriptor<T>[]>((acc, descriptor) => {\n        if (acc.some(({plugin}) => plugin === descriptor.plugin)) {\n          // Filter out duplicate plugins\n          return acc;\n        }\n\n        return [descriptor, ...acc];\n      }, []);\n    const constructors = descriptors.map(({plugin}) => plugin);\n\n    for (const plugin of this.#previousValues) {\n      if (!constructors.includes(plugin)) {\n        if (plugin.prototype instanceof CorePlugin) {\n          continue;\n        }\n\n        this.unregister(plugin as W);\n      }\n    }\n\n    for (const {plugin, options} of descriptors) {\n      this.register(plugin as W, options as InferPluginOptions<W>);\n    }\n\n    this.#previousValues = constructors;\n  }\n\n  /**\n   * Gets a plugin instance by its constructor.\n   *\n   * @param plugin - The plugin constructor to look up\n   * @returns The plugin instance or undefined if not found\n   */\n  public get<X extends W>(plugin: X): InstanceType<X> | undefined {\n    const instance = this.instances.get(plugin);\n\n    return instance as any;\n  }\n\n  /**\n   * Registers a new plugin instance.\n   *\n   * @param plugin - The plugin constructor to register\n   * @param options - Optional configuration for the plugin\n   * @returns The registered plugin instance\n   * @remarks\n   * If the plugin is already registered, its options will be updated\n   * and the existing instance will be returned.\n   */\n  public register<X extends W>(\n    plugin: X,\n    options?: InferPluginOptions<X>\n  ): InstanceType<X> {\n    const existingInstance = this.instances.get(plugin);\n\n    if (existingInstance) {\n      if (existingInstance.options !== options) {\n        existingInstance.options = options;\n      }\n\n      return existingInstance as InstanceType<X>;\n    }\n\n    const instance = new plugin(this.manager, options) as U;\n\n    this.instances.set(plugin, instance);\n\n    return instance as InstanceType<X>;\n  }\n\n  /**\n   * Unregisters a plugin instance.\n   *\n   * @param plugin - The plugin constructor to unregister\n   * @remarks\n   * This method:\n   * - Destroys the plugin instance\n   * - Removes it from the registry\n   */\n  public unregister<X extends W>(plugin: X) {\n    const instance = this.instances.get(plugin);\n\n    if (instance) {\n      instance.destroy();\n      this.instances.delete(plugin);\n    }\n  }\n\n  /**\n   * Destroys all registered plugin instances.\n   *\n   * @remarks\n   * This method:\n   * - Calls destroy() on all plugin instances\n   * - Clears the registry\n   */\n  public destroy() {\n    for (const plugin of this.instances.values()) {\n      plugin.destroy();\n    }\n\n    this.instances.clear();\n  }\n}\n", "import {Collision} from './types.ts';\n\n/**\n * Sort collisions from greatest to smallest priority\n * Collisions of equal priority are sorted from greatest to smallest value\n */\nexport function sortCollisions(a: Collision, b: Collision) {\n  if (a.priority === b.priority) {\n    if (a.type === b.type) {\n      return b.value - a.value;\n    }\n\n    return b.type - a.type;\n  }\n\n  return b.priority - a.priority;\n}\n", "import {signal, untracked, type Signal, effects} from '@dnd-kit/state';\nimport type {Coordinates} from '@dnd-kit/geometry';\n\nimport type {DragDropManager} from '../manager/index.ts';\nimport type {Draggable, Droppable} from '../entities/index.ts';\nimport {Plugin} from '../plugins/index.ts';\nimport type {Collision, CollisionDetector, Collisions} from './types.ts';\nimport {sortCollisions} from './utilities.ts';\n\nconst DEFAULT_VALUE: Collisions = [];\n\n/**\n * Observes and manages collision detection between draggable and droppable elements.\n *\n * @template T - The type of draggable entities\n * @template U - The type of droppable entities\n * @template V - The type of drag drop manager\n *\n * @remarks\n * The CollisionObserver is responsible for:\n * - Computing collisions between draggable and droppable elements\n * - Maintaining a signal of current collisions\n * - Updating collision state based on drag operation changes\n */\nexport class CollisionObserver<\n  T extends Draggable = Draggable,\n  U extends Droppable = Droppable,\n  V extends DragDropManager<T, U> = DragDropManager<T, U>,\n> extends Plugin<V> {\n  /**\n   * Creates a new CollisionObserver instance.\n   *\n   * @param manager - The drag drop manager instance\n   */\n  constructor(manager: V) {\n    super(manager);\n\n    this.computeCollisions = this.computeCollisions.bind(this);\n    this.#collisions = signal(DEFAULT_VALUE);\n\n    this.destroy = effects(\n      () => {\n        const collisions = this.computeCollisions();\n        const coordinates = untracked(\n          () => this.manager.dragOperation.position.current\n        );\n\n        if (collisions !== DEFAULT_VALUE) {\n          const previousCoordinates = this.#previousCoordinates;\n          this.#previousCoordinates = coordinates;\n\n          if (\n            previousCoordinates &&\n            coordinates.x == previousCoordinates.x &&\n            coordinates.y == previousCoordinates.y\n          ) {\n            return;\n          }\n        } else {\n          this.#previousCoordinates = undefined;\n        }\n\n        this.#collisions.value = collisions;\n      },\n      () => {\n        const {dragOperation} = this.manager;\n\n        if (dragOperation.status.initialized) {\n          this.forceUpdate();\n        }\n      }\n    );\n  }\n\n  #previousCoordinates: Coordinates | undefined;\n\n  /**\n   * Forces an immediate update of collision detection.\n   *\n   * @param immediate - If true, updates collisions immediately. If false, resets previous coordinates.\n   */\n  public forceUpdate(immediate = true) {\n    untracked(() => {\n      if (immediate) {\n        this.#collisions.value = this.computeCollisions();\n      } else {\n        this.#previousCoordinates = undefined;\n      }\n    });\n  }\n\n  /**\n   * Computes collisions between draggable and droppable elements.\n   *\n   * @param entries - Optional array of droppable elements to check. If not provided, uses all registered droppables.\n   * @param collisionDetector - Optional custom collision detector function\n   * @returns Array of detected collisions, sorted by priority\n   */\n  public computeCollisions(\n    entries?: Droppable[],\n    collisionDetector?: CollisionDetector\n  ) {\n    const {registry, dragOperation} = this.manager;\n    const {source, shape, status} = dragOperation;\n\n    if (!status.initialized || !shape) {\n      return DEFAULT_VALUE;\n    }\n\n    const collisions: Collision[] = [];\n    const potentialTargets = [];\n\n    for (const entry of entries ?? registry.droppables) {\n      if (entry.disabled) {\n        continue;\n      }\n\n      if (source && !entry.accepts(source)) {\n        continue;\n      }\n\n      const detectCollision = collisionDetector ?? entry.collisionDetector;\n\n      if (!detectCollision) {\n        continue;\n      }\n\n      potentialTargets.push(entry);\n\n      // Force collisions to be recomputed when the shape changes\n      void entry.shape;\n\n      const collision = untracked(() =>\n        detectCollision({\n          droppable: entry,\n          dragOperation,\n        })\n      );\n\n      if (collision) {\n        if (entry.collisionPriority != null) {\n          collision.priority = entry.collisionPriority;\n        }\n\n        collisions.push(collision);\n      }\n    }\n\n    if (potentialTargets.length === 0) {\n      return DEFAULT_VALUE;\n    }\n\n    collisions.sort(sortCollisions);\n\n    return collisions;\n  }\n\n  /**\n   * Gets the current collisions signal value.\n   */\n  public get collisions() {\n    return this.#collisions.value;\n  }\n\n  #collisions: Signal<Collisions>;\n}\n", "import type {Coordinates} from '@dnd-kit/geometry';\n\nimport type {Draggable, Droppable} from '../entities/index.ts';\nimport type {Collisions} from '../collision/index.ts';\nimport type {DragDropManager} from './manager.ts';\nimport type {DragOperationSnapshot} from './operation.ts';\n\n/** Base type for event handler functions */\nexport type Events = Record<string, (...args: any[]) => void>;\n\n/**\n * Extends an event type with preventable functionality.\n *\n * @template T - The base event type\n */\nexport type Preventable<T> = T & {\n  /** Whether the event can be canceled */\n  cancelable: boolean;\n  /** Whether the default action was prevented */\n  defaultPrevented: boolean;\n  /** Prevents the default action of the event */\n  preventDefault(): void;\n};\n\n/**\n * Base class for event monitoring and dispatching.\n *\n * @template T - The type of events to monitor\n */\nclass Monitor<T extends Events> {\n  private registry = new Map<keyof T, Set<T[keyof T]>>();\n\n  /**\n   * Adds an event listener for the specified event type.\n   *\n   * @param name - The name of the event to listen for\n   * @param handler - The function to call when the event occurs\n   * @returns A function to remove the event listener\n   */\n  public addEventListener<U extends keyof T>(name: U, handler: T[U]) {\n    const {registry} = this;\n    const listeners = new Set(registry.get(name));\n\n    listeners.add(handler);\n    registry.set(name, listeners);\n\n    return () => this.removeEventListener(name, handler);\n  }\n\n  /**\n   * Removes an event listener for the specified event type.\n   *\n   * @param name - The name of the event\n   * @param handler - The function to remove\n   */\n  public removeEventListener(name: keyof T, handler: T[keyof T]) {\n    const {registry} = this;\n    const listeners = new Set(registry.get(name));\n\n    listeners.delete(handler);\n    registry.set(name, listeners);\n  }\n\n  /**\n   * Dispatches an event to all registered listeners.\n   *\n   * @param name - The name of the event to dispatch\n   * @param args - Arguments to pass to the event handlers\n   */\n  protected dispatch<U extends keyof T>(name: U, ...args: any[]) {\n    const {registry} = this;\n    const listeners = registry.get(name);\n\n    if (!listeners) {\n      return;\n    }\n\n    for (const listener of listeners) {\n      listener(...args);\n    }\n  }\n}\n\n/**\n * Type definition for drag and drop events.\n *\n * @template T - The type of draggable entities\n * @template U - The type of droppable entities\n * @template V - The type of drag and drop manager\n */\nexport type DragDropEvents<\n  T extends Draggable,\n  U extends Droppable,\n  V extends DragDropManager<T, U>,\n> = {\n  /** Event fired when collisions are detected */\n  collision(\n    event: Preventable<{\n      collisions: Collisions;\n    }>,\n    manager: V\n  ): void;\n  /** Event fired before a drag operation starts */\n  beforedragstart(\n    event: Preventable<{\n      operation: DragOperationSnapshot<T, U>;\n      nativeEvent?: Event;\n    }>,\n    manager: V\n  ): void;\n  /** Event fired when a drag operation starts */\n  dragstart(\n    event: {\n      cancelable: false;\n      operation: DragOperationSnapshot<T, U>;\n      nativeEvent?: Event;\n    },\n    manager: V\n  ): void;\n  /** Event fired when a drag operation moves */\n  dragmove(\n    event: Preventable<{\n      operation: DragOperationSnapshot<T, U>;\n      to?: Coordinates;\n      by?: Coordinates;\n      nativeEvent?: Event;\n    }>,\n    manager: V\n  ): void;\n  /** Event fired when a drag operation hovers over a droppable */\n  dragover(\n    event: Preventable<{\n      operation: DragOperationSnapshot<T, U>;\n    }>,\n    manager: V\n  ): void;\n  /** Event fired when a drag operation ends */\n  dragend(\n    event: {\n      operation: DragOperationSnapshot<T, U>;\n      nativeEvent?: Event;\n      canceled: boolean;\n      suspend(): {resume(): void; abort(): void};\n    },\n    manager: V\n  ): void;\n};\n\n/**\n * Monitors and dispatches drag and drop events.\n *\n * @template T - The type of draggable entities\n * @template U - The type of droppable entities\n * @template V - The type of drag and drop manager\n */\nexport class DragDropMonitor<\n  T extends Draggable,\n  U extends Droppable,\n  V extends DragDropManager<T, U>,\n> extends Monitor<DragDropEvents<T, U, V>> {\n  /**\n   * Creates a new drag and drop monitor.\n   *\n   * @param manager - The drag and drop manager to monitor\n   */\n  constructor(private manager: V) {\n    super();\n  }\n\n  /**\n   * Dispatches a drag and drop event.\n   *\n   * @param type - The type of event to dispatch\n   * @param event - The event data to dispatch\n   */\n  public dispatch<Key extends keyof DragDropEvents<T, U, V>>(\n    type: Key,\n    event: Parameters<DragDropEvents<T, U, V>[Key]>[0]\n  ) {\n    const args = [event, this.manager] as any;\n\n    super.dispatch(type, ...args);\n  }\n}\n\n/**\n * Creates a preventable event object.\n *\n * @param event - The base event object\n * @param cancelable - Whether the event can be canceled\n * @returns A preventable event object\n */\nexport function defaultPreventable<T>(\n  event: T,\n  cancelable = true\n): Preventable<T> {\n  let defaultPrevented = false;\n\n  return {\n    ...event,\n    cancelable,\n    get defaultPrevented() {\n      return defaultPrevented;\n    },\n    preventDefault() {\n      if (!cancelable) {\n        return;\n      }\n\n      defaultPrevented = true;\n    },\n  };\n}\n", "import {effect, effects, untracked} from '@dnd-kit/state';\n\nimport {DragDropManager} from '../manager/index.ts';\nimport {CorePlugin} from '../plugins/index.ts';\nimport {defaultPreventable} from '../manager/events.ts';\n\nimport type {Collision} from './types.ts';\n\nexport class CollisionNotifier extends CorePlugin {\n  constructor(manager: DragDropManager<any, any>) {\n    super(manager);\n\n    const isEqual = (a: Collision[], b: Collision[]) =>\n      a.map(({id}) => id).join('') === b.map(({id}) => id).join('');\n\n    let previousCollisions: Collision[] = [];\n\n    this.destroy = effects(\n      () => {\n        const {dragOperation, collisionObserver} = manager;\n\n        if (dragOperation.status.initializing) {\n          previousCollisions = [];\n          collisionObserver.enable();\n        }\n      },\n      () => {\n        const {collisionObserver, monitor} = manager;\n        const {collisions} = collisionObserver;\n\n        if (collisionObserver.isDisabled()) {\n          return;\n        }\n\n        const event = defaultPreventable({\n          collisions,\n        });\n\n        monitor.dispatch('collision', event);\n\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (isEqual(collisions, previousCollisions)) {\n          return;\n        } else {\n          previousCollisions = collisions;\n        }\n\n        const [firstCollision] = collisions;\n\n        untracked(() => {\n          if (firstCollision?.id !== manager.dragOperation.target?.id) {\n            collisionObserver.disable();\n\n            manager.actions.setDropTarget(firstCollision?.id).then(() => {\n              collisionObserver.enable();\n            });\n          }\n        });\n      }\n    );\n  }\n}\n", "import type {DragOperation} from '../manager/index.ts';\nimport type {\n  Draggable,\n  Droppable,\n  UniqueIdentifier,\n} from '../entities/index.ts';\n\n/**\n * Priority levels for collision detection.\n *\n * @remarks\n * Higher priority collisions take precedence over lower priority ones.\n * Custom numeric priorities can also be used for fine-grained control.\n */\nexport enum CollisionPriority {\n  /** Lowest priority level */\n  Lowest,\n  /** Low priority level */\n  Low,\n  /** Normal priority level */\n  Normal,\n  /** High priority level */\n  High,\n  /** Highest priority level */\n  Highest,\n}\n\n/**\n * Types of collision detection.\n *\n * @remarks\n * Different collision types can be used to implement various\n * drag and drop behaviors and visual feedback.\n */\nexport enum CollisionType {\n  /** Basic collision detection */\n  Collision,\n  /** Shape-based intersection detection */\n  ShapeIntersection,\n  /** Pointer-based intersection detection */\n  PointerIntersection,\n}\n\n/**\n * Represents a detected collision between a draggable and droppable.\n *\n * @remarks\n * Contains information about the collision type, priority, and\n * additional data that can be used for custom behaviors.\n */\nexport interface Collision {\n  /** Unique identifier of the droppable involved in the collision */\n  id: UniqueIdentifier;\n  /** Priority of the collision */\n  priority: CollisionPriority | number;\n  /** Type of collision detected */\n  type: CollisionType;\n  /** Numeric value representing the collision strength or overlap */\n  value: number;\n  /** Additional data associated with the collision */\n  data?: Record<string, any>;\n}\n\n/** Array of detected collisions */\nexport type Collisions = Collision[];\n\n/**\n * Input for collision detection functions.\n *\n * @template T - The type of draggable entities\n * @template U - The type of droppable entities\n */\nexport interface CollisionDetectorInput<\n  T extends Draggable = Draggable,\n  U extends Droppable = Droppable,\n> {\n  /** The droppable to check for collisions */\n  droppable: U;\n  /** The current drag operation state */\n  dragOperation: DragOperation<T, U>;\n}\n\n/**\n * Function type for detecting collisions between draggables and droppables.\n *\n * @template T - The type of draggable entities\n * @template U - The type of droppable entities\n * @param input - The collision detection input\n * @returns A collision object if detected, null otherwise\n */\nexport type CollisionDetector = <\n  T extends Draggable = Draggable,\n  U extends Droppable = Droppable,\n>(\n  input: CollisionDetectorInput<T, U>\n) => Collision | null;\n", "import {derived, reactive} from '@dnd-kit/state';\n\n/**\n * Enum representing the possible states of a drag operation.\n */\nexport enum StatusValue {\n  /** No drag operation is in progress */\n  Idle = 'idle',\n  /** A drag operation is about to start */\n  InitializationPending = 'initialization-pending',\n  /** A drag operation is being initialized */\n  Initializing = 'initializing',\n  /** A drag operation is in progress */\n  Dragging = 'dragging',\n  /** A drag operation has completed */\n  Dropped = 'dropped',\n}\n\n/**\n * Manages the status of a drag operation.\n *\n * @remarks\n * This class provides reactive accessors for checking the current state\n * of a drag operation and methods for updating it.\n */\nexport class Status {\n  /** The current status value */\n  @reactive\n  private accessor value: StatusValue = StatusValue.Idle;\n\n  /**\n   * Gets the current status value.\n   *\n   * @returns The current status value\n   */\n  @derived\n  public get current(): StatusValue {\n    return this.value;\n  }\n\n  /**\n   * Checks if the status is idle.\n   *\n   * @returns true if no drag operation is in progress\n   */\n  @derived\n  public get idle(): boolean {\n    return this.value === StatusValue.Idle;\n  }\n\n  /**\n   * Checks if the status is initializing.\n   *\n   * @returns true if a drag operation is being initialized\n   */\n  @derived\n  public get initializing(): boolean {\n    return this.value === StatusValue.Initializing;\n  }\n\n  /**\n   * Checks if the status is initialized.\n   *\n   * @returns true if a drag operation has started initialization\n   */\n  @derived\n  public get initialized(): boolean {\n    const {value} = this;\n\n    return (\n      value !== StatusValue.Idle && value !== StatusValue.InitializationPending\n    );\n  }\n\n  /**\n   * Checks if the status is dragging.\n   *\n   * @returns true if a drag operation is in progress\n   */\n  @derived\n  public get dragging(): boolean {\n    return this.value === StatusValue.Dragging;\n  }\n\n  /**\n   * Checks if the status is dropped.\n   *\n   * @returns true if a drag operation has completed\n   */\n  @derived\n  public get dropped(): boolean {\n    return this.value === StatusValue.Dropped;\n  }\n\n  /**\n   * Sets the current status value.\n   *\n   * @param value - The new status value\n   */\n  public set(value: StatusValue) {\n    this.value = value;\n  }\n}\n", "import type {Coordinates} from '@dnd-kit/geometry';\nimport {batch, effect, untracked} from '@dnd-kit/state';\n\nimport type {\n  Draggable,\n  Droppable,\n  UniqueIdentifier,\n} from '../entities/index.ts';\n\nimport type {DragDropManager} from './manager.ts';\nimport {defaultPreventable} from './events.ts';\nimport {StatusValue} from './status.ts';\n\n/**\n * Provides actions for controlling drag and drop operations.\n *\n * @template T - The type of draggable entities\n * @template U - The type of droppable entities\n * @template V - The type of drag and drop manager\n */\nexport class DragActions<\n  T extends Draggable,\n  U extends Droppable,\n  V extends DragDropManager<T, U>,\n> {\n  /**\n   * Creates a new instance of drag actions.\n   *\n   * @param manager - The drag and drop manager instance\n   */\n  constructor(private readonly manager: V) {}\n\n  /**\n   * Sets the source of the drag operation.\n   *\n   * @param source - The draggable entity or its unique identifier\n   */\n  setDragSource(source: T | UniqueIdentifier) {\n    const {dragOperation} = this.manager;\n    dragOperation.sourceIdentifier =\n      typeof source === 'string' || typeof source === 'number'\n        ? source\n        : source.id;\n  }\n\n  /**\n   * Sets the target of the drop operation.\n   *\n   * @param identifier - The unique identifier of the droppable entity or null/undefined\n   * @returns A promise that resolves to true if the drop was prevented\n   */\n  setDropTarget(\n    identifier: UniqueIdentifier | null | undefined\n  ): Promise<boolean> {\n    return untracked(() => {\n      const {dragOperation} = this.manager;\n      const id = identifier ?? null;\n\n      if (dragOperation.targetIdentifier === id) {\n        return Promise.resolve(false);\n      }\n\n      dragOperation.targetIdentifier = id;\n\n      const event = defaultPreventable({\n        operation: dragOperation.snapshot(),\n      });\n\n      if (dragOperation.status.dragging) {\n        this.manager.monitor.dispatch('dragover', event);\n      }\n\n      return this.manager.renderer.rendering.then(() => event.defaultPrevented);\n    });\n  }\n\n  /**\n   * Starts a new drag operation.\n   *\n   * @param args - Configuration for the drag operation\n   * @param args.event - The event that initiated the drag\n   * @param args.source - The source draggable entity or its identifier\n   * @param args.coordinates - The initial coordinates of the drag\n   * @returns true if the drag operation started successfully\n   * @throws {Error} If there is no drag source or another operation is active\n   */\n  start(args: {\n    /** The event that initiated the drag. */\n    event?: Event;\n    /** The source draggable entity or its identifier. */\n    source?: T | UniqueIdentifier;\n    /** The initial coordinates of the drag. */\n    coordinates: Coordinates;\n  }): AbortController {\n    return untracked(() => {\n      const {dragOperation} = this.manager;\n\n      if (args.source != null) {\n        this.setDragSource(args.source);\n      }\n\n      const sourceInstance = dragOperation.source;\n\n      if (!sourceInstance) {\n        throw new Error('Cannot start a drag operation without a drag source');\n      }\n\n      if (!dragOperation.status.idle) {\n        throw new Error(\n          'Cannot start a drag operation while another is active'\n        );\n      }\n\n      const controller = new AbortController();\n\n      const {event: nativeEvent, coordinates} = args;\n\n      batch(() => {\n        dragOperation.status.set(StatusValue.InitializationPending);\n        dragOperation.shape = null;\n        dragOperation.canceled = false;\n        dragOperation.activatorEvent = nativeEvent ?? null;\n        dragOperation.position.reset(coordinates);\n      });\n\n      const beforeStartEvent = defaultPreventable({\n        operation: dragOperation.snapshot(),\n      });\n\n      this.manager.monitor.dispatch('beforedragstart', beforeStartEvent);\n\n      if (beforeStartEvent.defaultPrevented) {\n        dragOperation.reset();\n        controller.abort();\n        return controller;\n      }\n\n      dragOperation.status.set(StatusValue.Initializing);\n      dragOperation.controller = controller;\n\n      this.manager.renderer.rendering.then(() => {\n        if (controller.signal.aborted) return;\n\n        const {status} = dragOperation;\n        if (status.current !== StatusValue.Initializing) return;\n\n        dragOperation.status.set(StatusValue.Dragging);\n\n        this.manager.monitor.dispatch('dragstart', {\n          nativeEvent,\n          operation: dragOperation.snapshot(),\n          cancelable: false,\n        });\n      });\n\n      return controller;\n    });\n  }\n\n  /**\n   * Moves the dragged entity to a new position.\n   *\n   * @param args - Configuration for the move operation\n   * @param args.by - Relative coordinates to move by\n   * @param args.to - Absolute coordinates to move to\n   * @param args.event - The event that triggered the move\n   * @param args.cancelable - Whether the move can be canceled\n   * @param args.propagate - Whether to dispatch dragmove events\n   */\n  move(args: {\n    /** The relative coordinates to move by. */\n    by?: Coordinates;\n    /** The absolute coordinates to move to. */\n    to?: Coordinates;\n    /** The event that triggered the move. */\n    event?: Event;\n    /** Whether the move can be canceled. */\n    cancelable?: boolean;\n    /** Whether to propagate the dragmove event to the manager. */\n    propagate?: boolean;\n  }): void {\n    return untracked(() => {\n      const {dragOperation} = this.manager;\n      const {status, controller} = dragOperation;\n\n      if (!status.dragging || !controller || controller.signal.aborted) {\n        return;\n      }\n\n      const event = defaultPreventable(\n        {\n          nativeEvent: args.event,\n          operation: dragOperation.snapshot(),\n          by: args.by,\n          to: args.to,\n        },\n        args.cancelable ?? true\n      );\n\n      if (args.propagate ?? true) {\n        this.manager.monitor.dispatch('dragmove', event);\n      }\n\n      queueMicrotask(() => {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        const coordinates = args.to ?? {\n          x: dragOperation.position.current.x + (args.by?.x ?? 0),\n          y: dragOperation.position.current.y + (args.by?.y ?? 0),\n        };\n\n        dragOperation.position.current = coordinates;\n      });\n    });\n  }\n\n  /**\n   * Stops the current drag operation.\n   *\n   * @param args - Configuration for stopping the operation\n   * @param args.event - The event that triggered the stop\n   * @param args.canceled - Whether the operation was canceled\n   * @remarks\n   * This method:\n   * - Dispatches a dragend event\n   * - Allows suspension of the operation\n   * - Handles cleanup of the operation state\n   */\n  stop(\n    args: {\n      /**\n       * The event that triggered the stop.\n       */\n      event?: Event;\n      /**\n       * Whether the operation was canceled.\n       *\n       * @default false\n       */\n      canceled?: boolean;\n    } = {}\n  ): void {\n    return untracked(() => {\n      const {dragOperation} = this.manager;\n      const {controller} = dragOperation;\n\n      if (!controller || controller.signal.aborted) return;\n\n      let promise: Promise<void> | undefined;\n      const suspend = () => {\n        const output = {\n          resume: () => {},\n          abort: () => {},\n        };\n\n        promise = new Promise<void>((resolve, reject) => {\n          output.resume = resolve;\n          output.abort = reject;\n        });\n\n        return output;\n      };\n\n      controller.abort();\n\n      const end = () => {\n        this.manager.renderer.rendering.then(() => {\n          dragOperation.status.set(StatusValue.Dropped);\n\n          const dropping = untracked(\n            () => dragOperation.source?.status === 'dropping'\n          );\n\n          const cleanup = () => {\n            if (dragOperation.controller === controller) {\n              dragOperation.controller = undefined;\n            }\n            dragOperation.reset();\n          };\n\n          if (dropping) {\n            const {source} = dragOperation;\n\n            // Wait until the source has finished dropping before resetting the operation\n            const dispose = effect(() => {\n              if (source?.status === 'idle') {\n                dispose();\n                cleanup();\n              }\n            });\n          } else {\n            this.manager.renderer.rendering.then(cleanup);\n          }\n        });\n      };\n\n      dragOperation.canceled = args.canceled ?? false;\n\n      this.manager.monitor.dispatch('dragend', {\n        nativeEvent: args.event,\n        operation: dragOperation.snapshot(),\n        canceled: args.canceled ?? false,\n        suspend,\n      });\n\n      if (promise) {\n        promise.then(end).catch(() => dragOperation.reset());\n      } else {\n        end();\n      }\n    });\n  }\n}\n", "import {CleanupFunction, reactive, type Effect} from '@dnd-kit/state';\n\nimport {DragDropManager} from '../../manager/index.ts';\nimport type {Data, UniqueIdentifier} from './types.ts';\n\nexport interface Input<T extends Data = Data> {\n  /**\n   * The unique identifier of the entity.\n   */\n  id: UniqueIdentifier;\n  /**\n   * Optional data associated with the entity.\n   */\n  data?: T;\n  /**\n   * Whether the entity should initially be disabled.\n   * @default false\n   */\n  disabled?: boolean;\n  /**\n   * Whether the entity should be automatically registered with the manager when it is created.\n   * @default true\n   */\n  register?: boolean;\n  /**\n   * An array of effects that are set up when the entity is registered and cleaned up when it is unregistered.\n   */\n  effects?(): Effect[];\n}\n\n/**\n * The `Entity` class is an abstract representation of a distinct unit in the drag and drop system.\n * It is a base class that other concrete classes like `Draggable` and `Droppable` can extend.\n *\n * @template T - The type of data associated with the entity.\n */\nexport class Entity<\n  T extends Data = Data,\n  U extends DragDropManager<any, any> = DragDropManager<any, any>,\n> {\n  /**\n   * Creates a new instance of the `Entity` class.\n   *\n   * @param input - An object containing the initial properties of the entity.\n   * @param manager - The manager that controls the drag and drop operations.\n   */\n  constructor(input: Input<T>, manager: U | undefined) {\n    const {effects, id, data = {}, disabled = false, register = true} = input;\n\n    let previousId = id;\n\n    this.manager = manager;\n    this.id = id;\n    this.data = data;\n    this.disabled = disabled;\n    this.effects = () => [\n      () => {\n        // Re-run this effect whenever the `id` changes\n        const {id, manager} = this;\n\n        if (id === previousId) {\n          return;\n        }\n\n        manager?.registry.register(this);\n\n        return () => manager?.registry.unregister(this);\n      },\n      ...(effects?.() ?? []),\n    ];\n\n    this.register = this.register.bind(this);\n    this.unregister = this.unregister.bind(this);\n    this.destroy = this.destroy.bind(this);\n\n    if (manager && register) {\n      queueMicrotask(this.register);\n    }\n  }\n\n  /**\n   * The manager that controls the drag and drop operations.\n   */\n  @reactive\n  public accessor manager: U | undefined;\n\n  /**\n   * The unique identifier of the entity.\n   */\n  @reactive\n  public accessor id: UniqueIdentifier;\n\n  /**\n   * The data associated with the entity.\n   */\n  @reactive\n  public accessor data: Data;\n\n  /**\n   * A boolean indicating whether the entity is disabled.\n   */\n  @reactive\n  public accessor disabled: boolean;\n\n  /**\n   * An array of effects that are applied to the entity.\n   */\n  public effects: () => Effect[];\n\n  /**\n   * A method that registers the entity with the manager.\n   * @returns CleanupFunction | void\n   */\n  public register(): CleanupFunction | void {\n    return this.manager?.registry.register(this);\n  }\n\n  /**\n   * A method that unregisters the entity from the manager.\n   * @returns void\n   */\n  public unregister(): void {\n    this.manager?.registry.unregister(this);\n  }\n\n  /**\n   * A method that cleans up the entity when it is no longer needed.\n   * @returns void\n   */\n  public destroy(): void {\n    this.manager?.registry.unregister(this);\n  }\n}\n", "import {effects, signal} from '@dnd-kit/state';\n\nimport type {Entity} from './entity.ts';\nimport type {UniqueIdentifier} from './types.ts';\n\n/**\n * Reactive class representing a registry for entities.\n * @template T - The type of entries that the registry manages,\n * for example, `Draggable` or `Droppable` entities.\n */\nexport class EntityRegistry<T extends Entity> {\n  private map = signal<Map<UniqueIdentifier, T>>(new Map());\n  private cleanupFunctions = new WeakMap<T, () => void>();\n\n  /**\n   * Iterator for the EntityRegistry class.\n   * @returns An iterator for the values in the map.\n   */\n  public [Symbol.iterator]() {\n    return this.map.peek().values();\n  }\n\n  public get value() {\n    return this.map.value.values();\n  }\n\n  /**\n   * Checks if a entity with the given identifier exists in the registry.\n   * @param identifier - The unique identifier of the entity.\n   * @returns True if the entity exists, false otherwise.\n   */\n  public has(identifier: UniqueIdentifier): boolean {\n    return this.map.value.has(identifier);\n  }\n\n  /**\n   * Retrieves a entity from the registry using its identifier.\n   * @param identifier - The unique identifier of the entity.\n   * @returns The entity if it exists, undefined otherwise.\n   */\n  public get(identifier: UniqueIdentifier): T | undefined {\n    return this.map.value.get(identifier);\n  }\n\n  /**\n   * Registers a entity in the registry.\n   * @param key - The unique identifier of the entity.\n   * @param value - The entity to register.\n   * @returns A function that unregisters the entity.\n   */\n  public register = (key: UniqueIdentifier, value: T) => {\n    const current = this.map.peek();\n    const currentValue = current.get(key);\n    const unregister = () => this.unregister(key, value);\n\n    if (currentValue === value) return unregister;\n\n    if (currentValue) {\n      const cleanup = this.cleanupFunctions.get(currentValue);\n      cleanup?.();\n      this.cleanupFunctions.delete(currentValue);\n    }\n\n    const updatedMap = new Map(current);\n    updatedMap.set(key, value);\n\n    this.map.value = updatedMap;\n\n    const cleanup = effects(...value.effects());\n    this.cleanupFunctions.set(value, cleanup);\n\n    return unregister;\n  };\n\n  /**\n   * Unregisters an entity from the registry.\n   * @param key - The unique identifier of the entity.\n   * @param value - The entity instance to unregister.\n   */\n  public unregister = (key: UniqueIdentifier, value: T) => {\n    const current = this.map.peek();\n\n    if (current.get(key) !== value) {\n      return;\n    }\n\n    const cleanup = this.cleanupFunctions.get(value);\n    cleanup?.();\n    this.cleanupFunctions.delete(value);\n\n    const updatedMap = new Map(current);\n    updatedMap.delete(key);\n\n    this.map.value = updatedMap;\n  };\n\n  /**\n   * Destroys all entries in the registry and clears the registry.\n   */\n  public destroy() {\n    for (const entry of this) {\n      const cleanup = this.cleanupFunctions.get(entry);\n      cleanup?.();\n      entry.destroy();\n    }\n\n    this.map.value = new Map();\n  }\n}\n", "import {derived, reactive} from '@dnd-kit/state';\nimport type {Alignment} from '@dnd-kit/geometry';\n\nimport {Entity} from '../entity/index.ts';\nimport type {EntityInput, Data, Type} from '../entity/index.ts';\nimport type {Modifiers} from '../../modifiers/index.ts';\nimport type {DragDropManager} from '../../manager/index.ts';\nimport type {Sensors} from '../../sensors/sensor.ts';\n\n/**\n * Input configuration for creating a draggable entity.\n *\n * @template T - The type of data associated with the draggable\n *\n * @remarks\n * Extends the base entity input with draggable-specific configuration:\n * - Type for categorization\n * - Sensors for handling drag interactions\n * - Modifiers for transforming drag behavior\n * - Alignment for positioning\n */\nexport interface Input<T extends Data = Data> extends EntityInput<T> {\n  type?: Type;\n  sensors?: Sensors;\n  modifiers?: Modifiers;\n  alignment?: Alignment;\n}\n\n/**\n * Possible status values for a draggable entity.\n *\n * @remarks\n * - idle: Not being dragged\n * - dragging: Currently being dragged\n * - dropping: Currently being dropped\n */\nexport type DraggableStatus = 'idle' | 'dragging' | 'dropping';\n\n/**\n * Represents an entity that can be dragged in a drag and drop operation.\n *\n * @template T - The type of data associated with the draggable\n * @template U - The type of drag and drop manager\n *\n * @remarks\n * This class extends the base Entity class with draggable-specific functionality:\n * - Type-based categorization\n * - Sensor-based interaction handling\n * - Modifier-based behavior transformation\n * - Status tracking during drag operations\n */\nexport class Draggable<\n  T extends Data = Data,\n  U extends DragDropManager<any, any> = DragDropManager<any, any>,\n> extends Entity<T, U> {\n  constructor(\n    {modifiers, type, sensors, ...input}: Input<T>,\n    manager: U | undefined\n  ) {\n    super(input, manager);\n\n    this.type = type;\n    this.sensors = sensors;\n    this.modifiers = modifiers;\n    this.alignment = input.alignment;\n  }\n\n  /** The type of the draggable entity */\n  @reactive\n  public accessor type: Type | undefined;\n\n  /** The sensors associated with the draggable entity */\n  public sensors: Sensors | undefined;\n\n  /** The modifiers associated with the draggable entity */\n  @reactive\n  public accessor modifiers: Modifiers | undefined;\n\n  /** The alignment of the draggable entity */\n  public alignment: Alignment | undefined;\n\n  /** The current status of the draggable entity */\n  @reactive\n  public accessor status: DraggableStatus = this.isDragSource\n    ? 'dragging'\n    : 'idle';\n\n  /**\n   * Checks if the draggable entity is currently being dropped.\n   *\n   * @returns true if the entity is being dropped and is the drag source\n   */\n  @derived\n  public get isDropping() {\n    return this.status === 'dropping' && this.isDragSource;\n  }\n\n  /**\n   * Checks if the draggable entity is currently being dragged.\n   *\n   * @returns true if the entity is being dragged and is the drag source\n   */\n  @derived\n  public get isDragging() {\n    return this.status === 'dragging' && this.isDragSource;\n  }\n\n  /**\n   * Checks if the draggable entity is the source of the current drag operation.\n   *\n   * @returns true if the entity's ID matches the current drag operation's source ID\n   */\n  @derived\n  public get isDragSource() {\n    return this.manager?.dragOperation.source?.id === this.id;\n  }\n}\n", "import {derived, effects, reactive, type Effect} from '@dnd-kit/state';\nimport type {Shape} from '@dnd-kit/geometry';\n\nimport {Entity} from '../entity/index.ts';\nimport type {EntityInput, Data, Type} from '../entity/index.ts';\nimport {\n  CollisionPriority,\n  type CollisionDetector,\n} from '../../collision/index.ts';\nimport type {DragDropManager} from '../../manager/index.ts';\nimport {Draggable} from '../draggable/draggable.ts';\n\n/**\n * Input configuration for creating a droppable entity.\n *\n * @template T - The type of data associated with the droppable\n *\n * @remarks\n * Extends the base entity input with droppable-specific configuration:\n * - Accept rules for determining compatible draggables\n * - Collision detection configuration\n * - Type for categorization\n */\nexport interface Input<T extends Data = Data> extends EntityInput<T> {\n  /** Types of draggables that can be dropped here, or a function to determine compatibility */\n  accept?: Type | Type[] | ((source: Draggable) => boolean);\n  /** Priority for collision detection */\n  collisionPriority?: CollisionPriority | number;\n  /** Detector for determining collisions with draggables */\n  collisionDetector: CollisionDetector;\n  /** Type for categorization */\n  type?: Type;\n}\n\n/**\n * Represents an entity that can receive draggable items in a drag and drop operation.\n *\n * @template T - The type of data associated with the droppable\n * @template U - The type of drag and drop manager\n *\n * @remarks\n * This class extends the base Entity class with droppable-specific functionality:\n * - Type-based acceptance rules\n * - Collision detection\n * - Shape tracking\n * - Target status tracking\n */\nexport class Droppable<\n  T extends Data = Data,\n  U extends DragDropManager<any, any> = DragDropManager<any, any>,\n> extends Entity<T, U> {\n  constructor(\n    {accept, collisionDetector, collisionPriority, type, ...input}: Input<T>,\n    manager: U | undefined\n  ) {\n    super(input, manager);\n\n    this.accept = accept;\n    this.collisionDetector = collisionDetector;\n    this.collisionPriority = collisionPriority;\n    this.type = type;\n  }\n\n  /**\n   * Types of draggables that can be dropped here, or a function to determine compatibility.\n   *\n   * @remarks\n   * If undefined, all draggables are accepted.\n   * If a function, it determines compatibility based on the draggable.\n   * If a type or array of types, only draggables of matching types are accepted.\n   */\n  @reactive\n  public accessor accept:\n    | Type\n    | Type[]\n    | ((draggable: Draggable) => boolean)\n    | undefined;\n\n  /** The type of the droppable entity */\n  @reactive\n  public accessor type: Type | undefined;\n\n  /**\n   * Checks whether or not the droppable accepts a given draggable.\n   *\n   * @param draggable - The draggable to check\n   * @returns true if the draggable can be dropped here\n   */\n  public accepts(draggable: Draggable): boolean {\n    const {accept} = this;\n\n    if (!accept) {\n      return true;\n    }\n\n    if (typeof accept === 'function') {\n      return accept(draggable);\n    }\n\n    if (!draggable.type) {\n      return false;\n    }\n\n    if (Array.isArray(accept)) {\n      return accept.includes(draggable.type);\n    }\n\n    return draggable.type === accept;\n  }\n\n  /** The collision detector for this droppable */\n  @reactive\n  public accessor collisionDetector: CollisionDetector;\n\n  /** The collision priority for this droppable */\n  @reactive\n  public accessor collisionPriority: CollisionPriority | number | undefined;\n\n  /** The current shape of this droppable */\n  @reactive\n  public accessor shape: Shape | undefined;\n\n  /**\n   * Checks if this droppable is the current drop target.\n   *\n   * @returns true if this droppable's ID matches the current drag operation's target ID\n   */\n  @derived\n  public get isDropTarget() {\n    return this.manager?.dragOperation.target?.id === this.id;\n  }\n}\n", "import {CleanupFunction} from '@dnd-kit/state';\n\nimport type {DragDropManager} from '../manager/index.ts';\nimport type {Draggable, Droppable} from '../entities/index.ts';\nimport {\n  Plugin,\n  type PluginConstructor,\n  type PluginDescriptor,\n  type PluginOptions,\n} from '../plugins/index.ts';\n\n/**\n * Options that can be passed to a sensor.\n * Extends the base PluginOptions type.\n */\nexport type SensorOptions = PluginOptions;\n\n/**\n * Abstract base class for all sensor implementations.\n *\n * @template T - The type of drag drop manager\n * @template U - The type of sensor options\n *\n * @remarks\n * Sensors are responsible for detecting and initiating drag operations.\n * They handle the actual user interaction (mouse, touch, keyboard, etc.)\n * and translate those interactions into drag operations.\n */\nexport abstract class Sensor<\n  T extends DragDropManager<any, any> = DragDropManager<Draggable, Droppable>,\n  U extends SensorOptions = SensorOptions,\n> extends Plugin<T, U> {\n  /**\n   * Creates a new sensor instance.\n   *\n   * @param manager - The drag drop manager instance\n   * @param options - Optional sensor configuration\n   */\n  constructor(\n    public manager: T,\n    public options?: U\n  ) {\n    super(manager, options);\n  }\n\n  /**\n   * Binds the sensor to a draggable source.\n   *\n   * @param source - The draggable element to bind to\n   * @param options - Optional sensor options specific to this draggable\n   * @returns A cleanup function to unbind the sensor\n   */\n  public abstract bind(source: Draggable, options?: U): CleanupFunction;\n}\n\n/**\n * Constructor type for creating sensor instances.\n *\n * @template T - The type of drag drop manager\n */\nexport type SensorConstructor<\n  T extends DragDropManager<any, any> = DragDropManager<any, any>,\n> = PluginConstructor<T, Sensor<T>>;\n\n/**\n * Descriptor type for configuring sensors.\n *\n * @template T - The type of drag drop manager\n */\nexport type SensorDescriptor<\n  T extends DragDropManager<any, any> = DragDropManager<any, any>,\n> = PluginDescriptor<T, Sensor<T>, SensorConstructor<T>>;\n\n/**\n * Array type for multiple sensor configurations.\n *\n * @template T - The type of drag drop manager\n */\nexport type Sensors<\n  T extends DragDropManager<any, any> = DragDropManager<any, any>,\n> = (SensorConstructor<T> | SensorDescriptor<T>)[];\n", "import type {Coordinates} from '@dnd-kit/geometry';\n\nimport {\n  Plugin,\n  type PluginOptions,\n  type PluginConstructor,\n  type PluginDescriptor,\n} from '../plugins/index.ts';\nimport type {DragDropManager} from '../manager/manager.ts';\nimport type {DragOperationSnapshot} from '../manager/operation.ts';\n\n/** Options that can be passed to a modifier */\nexport type ModifierOptions = PluginOptions;\n\n/**\n * Base class for drag operation modifiers.\n *\n * @template T - The type of drag and drop manager\n * @template U - The type of modifier options\n *\n * @remarks\n * Modifiers can transform the coordinates of a drag operation,\n * enabling features like snapping, constraints, and custom behaviors.\n */\nexport class Modifier<\n  T extends DragDropManager<any, any> = DragDropManager<any, any>,\n  U extends ModifierOptions = ModifierOptions,\n> extends Plugin<T, U> {\n  /**\n   * Creates a new modifier instance.\n   *\n   * @param manager - The drag and drop manager that owns this modifier\n   * @param options - Optional configuration for the modifier\n   */\n  constructor(\n    public manager: T,\n    public options?: U\n  ) {\n    super(manager, options);\n  }\n\n  /**\n   * Applies the modifier to the current drag operation.\n   *\n   * @param operation - The current state of the drag operation\n   * @returns The transformed coordinates\n   *\n   * @remarks\n   * Override this method to implement custom transformation logic.\n   * The default implementation returns the original transform unchanged.\n   */\n  public apply(operation: DragOperationSnapshot<any, any>): Coordinates {\n    return operation.transform;\n  }\n}\n\n/**\n * Constructor type for modifiers.\n *\n * @template T - The type of drag and drop manager\n */\nexport type ModifierConstructor<\n  T extends DragDropManager<any, any> = DragDropManager<any, any>,\n> = PluginConstructor<T, Modifier<T, any>>;\n\n/**\n * Descriptor type for modifiers.\n *\n * @template T - The type of drag and drop manager\n */\nexport type ModifierDescriptor<\n  T extends DragDropManager<any, any> = DragDropManager<any, any>,\n> = PluginDescriptor<T, Modifier<T, any>, ModifierConstructor<T>>;\n\n/**\n * Array type for modifier constructors or descriptors.\n *\n * @template T - The type of drag and drop manager\n */\nexport type Modifiers<\n  T extends DragDropManager<any, any> = DragDropManager<any, any>,\n> = (ModifierConstructor<T> | ModifierDescriptor<T>)[];\n", "import type {CleanupFunction} from '@dnd-kit/state';\n\nimport {\n  Draggable,\n  Droppable,\n  Entity,\n  EntityRegistry,\n} from '../entities/index.ts';\nimport {\n  PluginRegistry,\n  Plugin,\n  type PluginConstructor,\n  PluginOptions,\n} from '../plugins/index.ts';\nimport {\n  Sensor,\n  SensorOptions,\n  type SensorConstructor,\n} from '../sensors/index.ts';\nimport {Modifier, type ModifierConstructor} from '../modifiers/index.ts';\nimport type {DragDropManager} from './manager.ts';\n\n/**\n * Manages the registration and lifecycle of draggable and droppable entities,\n * as well as plugins, sensors, and modifiers.\n *\n * @template T - The type of draggable entities\n * @template U - The type of droppable entities\n * @template V - The type of drag and drop manager\n */\nexport class DragDropRegistry<\n  T extends Draggable,\n  U extends Droppable,\n  V extends DragDropManager<T, U>,\n> {\n  /**\n   * Creates a new registry instance.\n   *\n   * @param manager - The drag and drop manager that owns this registry\n   */\n  constructor(manager: V) {\n    this.plugins = new PluginRegistry<V, PluginConstructor<V>>(manager);\n    this.sensors = new PluginRegistry<V, SensorConstructor<V>>(manager);\n    this.modifiers = new PluginRegistry<V, ModifierConstructor<V>>(manager);\n  }\n\n  /** Registry for draggable entities */\n  public draggables = new EntityRegistry<T>();\n\n  /** Registry for droppable entities */\n  public droppables = new EntityRegistry<U>();\n\n  /** Registry for plugins */\n  public plugins: PluginRegistry<V, PluginConstructor<V>>;\n\n  /** Registry for sensors */\n  public sensors: PluginRegistry<V, SensorConstructor<V>>;\n\n  /** Registry for modifiers */\n  public modifiers: PluginRegistry<V, ModifierConstructor<V>>;\n\n  /**\n   * Registers a new entity, plugin, sensor, or modifier.\n   *\n   * @param input - The entity, plugin constructor, sensor constructor, or modifier constructor to register\n   * @param options - Optional configuration for plugins and sensors\n   * @returns A cleanup function or the registered instance\n   * @throws {Error} If the input type is invalid\n   */\n  public register(input: Entity): () => void;\n  public register(input: Draggable): () => void;\n  public register(input: Droppable): () => void;\n  public register(input: SensorConstructor, options?: SensorOptions): Sensor;\n  public register(input: ModifierConstructor): Modifier;\n  public register(input: PluginConstructor, options?: PluginOptions): Plugin;\n  public register(input: any, options?: Record<string, any>) {\n    if (input instanceof Draggable) {\n      return this.draggables.register(input.id, input as T);\n    }\n\n    if (input instanceof Droppable) {\n      return this.droppables.register(input.id, input as U);\n    }\n\n    if (input.prototype instanceof Modifier) {\n      return this.modifiers.register(input, options);\n    }\n\n    if (input.prototype instanceof Sensor) {\n      return this.sensors.register(input, options);\n    }\n\n    if (input.prototype instanceof Plugin) {\n      return this.plugins.register(input, options);\n    }\n\n    throw new Error('Invalid instance type');\n  }\n\n  /**\n   * Unregisters an entity, plugin, sensor, or modifier.\n   *\n   * @param input - The entity, plugin constructor, sensor constructor, or modifier constructor to unregister\n   * @returns A cleanup function\n   * @throws {Error} If the input type is invalid\n   */\n  public unregister(input: Entity): CleanupFunction;\n  public unregister(input: Draggable): CleanupFunction;\n  public unregister(input: Droppable): CleanupFunction;\n  public unregister(input: SensorConstructor): CleanupFunction;\n  public unregister(input: ModifierConstructor): CleanupFunction;\n  public unregister(input: PluginConstructor): CleanupFunction;\n  public unregister(input: any) {\n    if (input instanceof Entity) {\n      if (input instanceof Draggable) {\n        return this.draggables.unregister(input.id, input as T);\n      }\n\n      if (input instanceof Droppable) {\n        return this.droppables.unregister(input.id, input as U);\n      }\n\n      // no-op\n      return () => {};\n    }\n\n    if (input.prototype instanceof Modifier) {\n      return this.modifiers.unregister(input);\n    }\n\n    if (input.prototype instanceof Sensor) {\n      return this.sensors.unregister(input);\n    }\n\n    if (input.prototype instanceof Plugin) {\n      return this.plugins.unregister(input);\n    }\n\n    throw new Error('Invalid instance type');\n  }\n\n  /**\n   * Destroys all registered entities and cleans up resources.\n   *\n   * @remarks\n   * This method:\n   * - Destroys all draggable and droppable entities\n   * - Destroys all plugins, sensors, and modifiers\n   * - Cleans up any associated resources\n   */\n  destroy() {\n    this.draggables.destroy();\n    this.droppables.destroy();\n    this.plugins.destroy();\n    this.sensors.destroy();\n    this.modifiers.destroy();\n  }\n}\n", "import {Position, type Shape} from '@dnd-kit/geometry';\nimport type {Coordinates} from '@dnd-kit/geometry';\nimport {\n  batch,\n  derived,\n  reactive,\n  snapshot,\n  untracked,\n  ValueHistory,\n  type WithHistory,\n} from '@dnd-kit/state';\n\nimport type {\n  Draggable,\n  Droppable,\n  UniqueIdentifier,\n} from '../entities/index.ts';\nimport type {Modifier} from '../modifiers/index.ts';\n\nimport type {DragDropManager} from './manager.ts';\nimport {Status, StatusValue} from './status.ts';\n\nexport interface DragOperationSnapshot<\n  T extends Draggable = Draggable,\n  U extends Droppable = Droppable,\n> {\n  readonly activatorEvent: Event | null;\n  readonly canceled: boolean;\n  readonly position: Position;\n  readonly transform: Coordinates;\n  readonly status: Status;\n  get shape(): WithHistory<Shape> | null;\n  set shape(value: Shape | null);\n  readonly source: T | null;\n  readonly target: U | null;\n}\n\n/**\n * Represents the current state of a drag operation.\n *\n * @template T - The type of draggable entities\n * @template U - The type of droppable entities\n */\nexport class DragOperation<T extends Draggable, U extends Droppable>\n  implements DragOperationSnapshot<T, U>\n{\n  /**\n   * Creates a new drag operation instance.\n   *\n   * @param manager - The drag and drop manager that owns this operation\n   */\n  constructor(manager: DragDropManager<T, U>) {\n    this.#manager = manager;\n  }\n\n  #manager: DragDropManager<T, U>;\n\n  #previousSource?: T;\n\n  #shape = new ValueHistory<Shape | undefined>(undefined, (a, b) =>\n    a && b ? a.equals(b) : a === b\n  );\n\n  /** Current status of the drag operation */\n  public readonly status = new Status();\n\n  /** The controller for the currentdrag operation */\n  public controller: AbortController | undefined;\n\n  /**\n   * Gets the current shape of the dragged entity with history.\n   *\n   * @returns The shape history or null if no shape is set\n   */\n  @derived\n  public get shape(): WithHistory<Shape> | null {\n    const {current, initial, previous} = this.#shape;\n\n    if (!current || !initial) {\n      return null;\n    }\n\n    return {current, initial, previous};\n  }\n\n  /**\n   * Sets the shape of the dragged entity.\n   *\n   * @param value - The new shape or null to reset\n   */\n  public set shape(value: Shape | null) {\n    if (!value) {\n      this.#shape.reset();\n    } else {\n      this.#shape.current = value;\n    }\n  }\n\n  /** Whether the drag operation was canceled */\n  @reactive\n  public accessor canceled = false;\n\n  /** The event that initiated the drag operation */\n  @reactive\n  public accessor activatorEvent: Event | null = null;\n\n  /** Unique identifier of the source draggable entity */\n  @reactive\n  public accessor sourceIdentifier: UniqueIdentifier | null = null;\n\n  /** Unique identifier of the target droppable entity */\n  @reactive\n  public accessor targetIdentifier: UniqueIdentifier | null = null;\n\n  /** List of modifiers applied to the drag operation */\n  @reactive\n  public accessor modifiers: Modifier[] = [];\n\n  /** Current position of the dragged entity */\n  public position = new Position({x: 0, y: 0});\n\n  /**\n   * Gets the source draggable entity.\n   *\n   * @returns The current draggable entity or the previous one if the current is not found\n   */\n  @derived\n  public get source(): T | null {\n    const identifier = this.sourceIdentifier;\n    if (identifier == null) return null;\n\n    const value = this.#manager.registry.draggables.get(identifier);\n\n    if (value) {\n      this.#previousSource = value;\n    }\n\n    return value ?? this.#previousSource ?? null;\n  }\n\n  /**\n   * Gets the target droppable entity.\n   *\n   * @returns The current droppable entity or null if not found\n   */\n  @derived\n  public get target(): U | null {\n    const identifier = this.targetIdentifier;\n    return identifier != null\n      ? (this.#manager.registry.droppables.get(identifier) ?? null)\n      : null;\n  }\n\n  #transform = {x: 0, y: 0};\n\n  /**\n   * Gets the current transform after applying all modifiers.\n   *\n   * @returns The transformed coordinates\n   */\n  @derived\n  public get transform() {\n    const {x, y} = this.position.delta;\n    let transform = {x, y};\n\n    for (const modifier of this.modifiers) {\n      transform = modifier.apply({\n        ...this.snapshot(),\n        transform,\n      });\n    }\n\n    this.#transform = transform;\n\n    return transform;\n  }\n\n  /**\n   * Creates a snapshot of the current drag operation state.\n   *\n   * @returns An immutable snapshot of the current operation state\n   */\n  public snapshot(): DragOperationSnapshot<T, U> {\n    return untracked(() => ({\n      source: this.source,\n      target: this.target,\n      activatorEvent: this.activatorEvent,\n      transform: this.#transform,\n      shape: this.shape ? snapshot(this.shape) : null,\n      position: snapshot(this.position),\n      status: snapshot(this.status),\n      canceled: this.canceled,\n    }));\n  }\n\n  /**\n   * Resets the drag operation to its initial state.\n   *\n   * @remarks\n   * This method:\n   * - Sets status to idle\n   * - Clears source and target identifiers\n   * - Resets shape history\n   * - Resets position and transform\n   * - Clears modifiers\n   */\n  public reset() {\n    batch(() => {\n      this.status.set(StatusValue.Idle);\n      this.sourceIdentifier = null;\n      this.targetIdentifier = null;\n      this.#shape.reset();\n      this.position.reset({x: 0, y: 0});\n      this.#transform = {x: 0, y: 0};\n      this.modifiers = [];\n    });\n  }\n}\n", "/**\n * Interface for handling visual feedback during drag operations.\n *\n * @remarks\n * Implementations of this interface are responsible for managing\n * the visual state of dragged elements and ensuring smooth animations.\n */\nexport interface Renderer {\n  /**\n   * Gets a promise that resolves when the current rendering operation is complete.\n   *\n   * @returns A promise that resolves when rendering is finished\n   */\n  get rendering(): Promise<void>;\n}\n\n/**\n * Default renderer implementation.\n *\n * @remarks\n * This implementation immediately resolves rendering promises,\n * making it suitable for environments where custom rendering\n * is not required or handled externally.\n */\nexport const defaultRenderer: Renderer = {\n  get rendering() {\n    return Promise.resolve();\n  },\n};\n", "import {effects, untracked} from '@dnd-kit/state';\n\nimport type {Draggable, Droppable} from '../entities/index.ts';\nimport {CollisionObserver, CollisionNotifier} from '../collision/index.ts';\nimport type {Plugins, Plugin} from '../plugins/index.ts';\nimport type {Sensor, Sensors} from '../sensors/index.ts';\nimport type {Modifier, Modifiers} from '../modifiers/index.ts';\nimport {descriptor} from '../plugins/utilities.ts';\n\nimport {DragActions} from './actions.ts';\nimport {DragDropRegistry} from './registry.ts';\nimport {DragOperation} from './operation.ts';\nimport {DragDropMonitor} from './events.ts';\nimport {defaultRenderer, type Renderer} from './renderer.ts';\n\nexport type DragDropManagerInput<T extends DragDropManager<any, any>> = {\n  plugins?: Plugins<T>;\n  sensors?: Sensors<T>;\n  modifiers?: Modifiers<T>;\n  renderer?: Renderer;\n};\n\n/**\n * Central manager class that orchestrates drag and drop operations.\n *\n * @template T - The type of draggable entities\n * @template U - The type of droppable entities\n */\nexport class DragDropManager<T extends Draggable, U extends Droppable> {\n  /** Actions that can be performed during drag operations */\n  public actions: DragActions<T, U, DragDropManager<T, U>>;\n\n  /** Observes and manages collision detection between draggable and droppable entities */\n  public collisionObserver: CollisionObserver<T, U>;\n\n  /** Tracks the current drag operation state and metadata */\n  public dragOperation: DragOperation<T, U>;\n\n  /** Monitors and emits drag and drop events */\n  public monitor: DragDropMonitor<T, U, DragDropManager<T, U>>;\n\n  /** Registry that manages draggable and droppable entities */\n  public registry: DragDropRegistry<T, U, DragDropManager<T, U>>;\n\n  /** Handles rendering of drag and drop visual feedback */\n  public renderer: Renderer;\n\n  /**\n   * Creates a new drag and drop manager instance.\n   *\n   * @param config - Optional configuration for plugins, sensors, modifiers, and renderer\n   */\n  constructor(config?: DragDropManagerInput<any>) {\n    type V = DragDropManager<T, U>;\n\n    const {\n      plugins = [],\n      sensors = [],\n      modifiers = [],\n      renderer = defaultRenderer,\n    } = config ?? {};\n    const monitor = new DragDropMonitor<T, U, V>(this);\n    const registry = new DragDropRegistry<T, U, V>(this);\n\n    this.registry = registry;\n    this.monitor = monitor;\n    this.renderer = renderer;\n\n    this.actions = new DragActions<T, U, V>(this);\n    this.dragOperation = new DragOperation<T, U>(this);\n    this.collisionObserver = new CollisionObserver<T, U, V>(this);\n    this.plugins = [CollisionNotifier, ...plugins];\n    this.modifiers = modifiers;\n    this.sensors = sensors;\n\n    const {destroy} = this;\n\n    const cleanup = effects(() => {\n      const currentModifiers = untracked(() => this.dragOperation.modifiers);\n      const managerModifiers = this.modifiers;\n\n      if (currentModifiers !== managerModifiers) {\n        currentModifiers.forEach((modifier) => modifier.destroy());\n      }\n\n      this.dragOperation.modifiers =\n        this.dragOperation.source?.modifiers?.map((modifier) => {\n          const {plugin, options} = descriptor(modifier);\n          return new plugin(this, options);\n        }) ?? managerModifiers;\n    });\n\n    this.destroy = () => {\n      cleanup();\n      destroy();\n    };\n  }\n\n  /**\n   * Gets the list of active plugins.\n   *\n   * @returns Array of active plugin instances\n   */\n  get plugins(): Plugin<any>[] {\n    return this.registry.plugins.values;\n  }\n\n  /**\n   * Sets the list of plugins to be used by the manager.\n   *\n   * @param plugins - Array of plugin constructors or instances\n   */\n  set plugins(plugins: Plugins<any>) {\n    this.registry.plugins.values = plugins;\n  }\n\n  /**\n   * Gets the list of active modifiers.\n   *\n   * @returns Array of active modifier instances\n   */\n  get modifiers(): Modifier<any>[] {\n    return this.registry.modifiers.values;\n  }\n\n  /**\n   * Sets the list of modifiers to be used by the manager.\n   *\n   * @param modifiers - Array of modifier constructors or instances\n   */\n  set modifiers(modifiers: Modifiers<any>) {\n    this.registry.modifiers.values = modifiers;\n  }\n\n  /**\n   * Gets the list of active sensors.\n   *\n   * @returns Array of active sensor instances\n   */\n  get sensors(): Sensor<any>[] {\n    return this.registry.sensors.values;\n  }\n\n  /**\n   * Sets the list of sensors to be used by the manager.\n   *\n   * @param sensors - Array of sensor constructors or instances\n   */\n  set sensors(sensors: Sensors<any>) {\n    this.registry.sensors.values = sensors;\n  }\n\n  /**\n   * Cleans up resources and stops any active drag operations.\n   */\n  public destroy = () => {\n    if (!this.dragOperation.status.idle) {\n      this.actions.stop({canceled: true});\n    }\n\n    this.dragOperation.modifiers.forEach((modifier) => modifier.destroy());\n\n    this.registry.destroy();\n    this.collisionObserver.destroy();\n  };\n}\n", "export function isKeyframeEffect(\n  effect: AnimationEffect | null | undefined\n): effect is KeyframeEffect {\n  if (!effect) return false;\n\n  if (effect instanceof KeyframeEffect) return true;\n\n  return 'getKeyframes' in effect && typeof effect.getKeyframes === 'function';\n}\n", "import {isKeyframeEffect} from '../type-guards/isKeyframeEffect.ts';\n\nexport function getFinalKeyframe(\n  element: Element,\n  match: (keyframe: Keyframe) => boolean\n): [Keyframe, Animation] | null {\n  const animations = element.getAnimations();\n\n  if (animations.length > 0) {\n    for (const animation of animations) {\n      if (animation.playState !== 'running') continue;\n      const {effect} = animation;\n      const keyframes = isKeyframeEffect(effect) ? effect.getKeyframes() : [];\n      const matchedKeyframes = keyframes.filter(match);\n\n      if (matchedKeyframes.length > 0) {\n        return [matchedKeyframes[matchedKeyframes.length - 1], animation];\n      }\n    }\n  }\n\n  return null;\n}\n", "import {BoundingRectangle} from '@dnd-kit/geometry';\n\nexport function getBoundingRectangle(element: Element): BoundingRectangle {\n  const {width, height, top, left, bottom, right} =\n    element.getBoundingClientRect();\n\n  return {width, height, top, left, bottom, right};\n}\n", "// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nexport const canUseDOM =\n  typeof window !== 'undefined' &&\n  typeof window.document !== 'undefined' &&\n  typeof window.document.createElement !== 'undefined';\n", "export function isWindow(element: Object): element is typeof window {\n  const elementString = Object.prototype.toString.call(element);\n  return (\n    elementString === '[object Window]' ||\n    // In Electron context the Window object serializes to [object global]\n    elementString === '[object global]'\n  );\n}\n", "export function isNode(node: Object): node is Node {\n  return 'nodeType' in node;\n}\n", "import {isWindow} from '../type-guards/isWindow.ts';\nimport {isNode} from '../type-guards/isNode.ts';\n\nexport function getWindow(\n  target: Event['target'] | null | undefined\n): typeof window {\n  if (!target) {\n    return window;\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (!isNode(target)) {\n    return window;\n  }\n\n  if ('defaultView' in target) {\n    return (target.defaultView as typeof window | null) ?? window;\n  }\n\n  return target.ownerDocument?.defaultView ?? window;\n}\n", "import {getWindow} from '../execution-context/getWindow.ts';\n\nexport function isDocument(node: Node): node is Document {\n  const {Document} = getWindow(node);\n\n  return (\n    node instanceof Document ||\n    ('nodeType' in node && node.nodeType === Node.DOCUMENT_NODE)\n  );\n}\n", "import {getWindow} from '../execution-context/getWindow.ts';\n\nimport {isWindow} from './isWindow.ts';\n\nexport function isHTMLElement(\n  node: Node | Window | null | undefined\n): node is HTMLElement {\n  if (!node || isWindow(node)) return false;\n\n  return (\n    node instanceof getWindow(node).HTMLElement ||\n    ('namespaceURI' in node &&\n      typeof node.namespaceURI === 'string' &&\n      node.namespaceURI.endsWith('html'))\n  );\n}\n", "import {getWindow} from '../execution-context/getWindow.ts';\n\nexport function isSVGElement(node: Node): node is SVGElement {\n  return (\n    node instanceof getWindow(node).SVGElement ||\n    ('namespaceURI' in node &&\n      typeof node.namespaceURI === 'string' &&\n      node.namespaceURI.endsWith('svg'))\n  );\n}\n", "import {isDocument} from '../type-guards/isDocument.ts';\nimport {isHTMLElement} from '../type-guards/isHTMLElement.ts';\nimport {isNode} from '../type-guards/isNode.ts';\nimport {isSVGElement} from '../type-guards/isSVGElement.ts';\nimport {isWindow} from '../type-guards/isWindow.ts';\n\nexport function getDocument(target: Event['target'] | undefined): Document {\n  if (!target) {\n    return document;\n  }\n\n  if (isWindow(target)) {\n    return target.document;\n  }\n\n  if (!isNode(target)) {\n    return document;\n  }\n\n  if (isDocument(target)) {\n    return target;\n  }\n\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n\n  return document;\n}\n", "import type {BoundingRectangle} from '@dnd-kit/geometry';\n\nimport {getDocument} from '../execution-context/index.ts';\n\n/**\n * Returns the bounding rectangle of the viewport\n * @param element\n * @returns BoundingRectangle\n */\nexport function getViewportBoundingRectangle(\n  element: Element\n): BoundingRectangle {\n  const {documentElement} = getDocument(element);\n  const width = documentElement.clientWidth;\n  const height = documentElement.clientHeight;\n\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height,\n  };\n}\n", "/*\n * Check if an element has visible overflow.\n * @param element\n * @param style\n * @returns boolean\n */\nexport function isOverflowVisible(\n  element: Element,\n  style?: CSSStyleDeclaration\n) {\n  if (isDetailsElement(element) && element.open === false) {\n    return false;\n  }\n\n  const {overflow, overflowX, overflowY} = style ?? getComputedStyle(element);\n\n  return (\n    overflow === 'visible' && overflowX === 'visible' && overflowY === 'visible'\n  );\n}\n\nfunction isDetailsElement(element: Element): element is HTMLDetailsElement {\n  return element.tagName === 'DETAILS';\n}\n", "import type {BoundingRectangle} from '@dnd-kit/geometry';\n\nimport {isOverflowVisible} from './isOverflowVisible.ts';\n\n/*\n * Get the currently visible bounding rectangle of an element\n * @param element\n * @param boundingClientRect\n * @returns Rect\n */\nexport function getVisibleBoundingRectangle(\n  element: Element,\n  boundingClientRect = element.getBoundingClientRect(),\n  margin = 0\n): BoundingRectangle {\n  // Get the initial bounding client rect of the element\n  let rect: BoundingRectangle = boundingClientRect;\n  const {ownerDocument} = element;\n  const ownerWindow = ownerDocument.defaultView ?? window;\n\n  // Traverse up the DOM tree to clip the rect based on ancestors' bounding rects\n  let ancestor: HTMLElement | null = element.parentElement;\n\n  while (ancestor && ancestor !== ownerDocument.documentElement) {\n    if (!isOverflowVisible(ancestor)) {\n      const ancestorRect = ancestor.getBoundingClientRect();\n\n      const marginTop = margin * (ancestorRect.bottom - ancestorRect.top);\n      const marginRight = margin * (ancestorRect.right - ancestorRect.left);\n      const marginBottom = margin * (ancestorRect.bottom - ancestorRect.top);\n      const marginLeft = margin * (ancestorRect.right - ancestorRect.left);\n\n      // Clip the rect based on the ancestor's bounding rect\n      rect = {\n        top: Math.max(rect.top, ancestorRect.top - marginTop),\n        right: Math.min(rect.right, ancestorRect.right + marginRight),\n        bottom: Math.min(rect.bottom, ancestorRect.bottom + marginBottom),\n        left: Math.max(rect.left, ancestorRect.left - marginLeft),\n        width: 0, // Will be calculated next\n        height: 0, // Will be calculated next\n      };\n\n      // Calculate the width and height after clipping\n      rect.width = rect.right - rect.left;\n      rect.height = rect.bottom - rect.top;\n    }\n\n    // Move to the next ancestor\n    ancestor = ancestor.parentElement;\n  }\n\n  // Clip the rect based on the viewport (window)\n  const viewportWidth = ownerWindow.innerWidth;\n  const viewportHeight = ownerWindow.innerHeight;\n  const viewportMarginY = margin * viewportHeight;\n  const viewportMarginX = margin * viewportWidth;\n\n  rect = {\n    top: Math.max(rect.top, 0 - viewportMarginY),\n    right: Math.min(rect.right, viewportWidth + viewportMarginX),\n    bottom: Math.min(rect.bottom, viewportHeight + viewportMarginY),\n    left: Math.max(rect.left, 0 - viewportMarginX),\n    width: 0, // Will be calculated next\n    height: 0, // Will be calculated next\n  };\n\n  // Calculate the width and height after clipping\n  rect.width = rect.right - rect.left;\n  rect.height = rect.bottom - rect.top;\n\n  if (rect.width < 0) {\n    rect.width = 0;\n  }\n\n  if (rect.height < 0) {\n    rect.height = 0;\n  }\n\n  return rect;\n}\n", "export function isSafari() {\n  return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n}\n", "export function cloneElement(element: Element): Element {\n  const selector = 'input, textarea, select, canvas, [contenteditable]';\n  const clonedElement = element.cloneNode(true) as HTMLElement;\n  const fields = Array.from(element.querySelectorAll(selector));\n  const clonedFields = Array.from(clonedElement.querySelectorAll(selector));\n\n  clonedFields.forEach((field, index) => {\n    const originalField = fields[index];\n\n    if (isField(field) && isField(originalField)) {\n      if (field.type !== 'file') {\n        field.value = originalField.value;\n      }\n\n      // Fixes an issue with original radio buttons losing their value once the\n      // clone is inserted in the DOM, as radio button `name` attributes must be unique\n      if (field.type === 'radio' && field.name) {\n        field.name = `Cloned__${field.name}`;\n      }\n    }\n\n    if (\n      isCanvasElement(field) &&\n      isCanvasElement(originalField) &&\n      originalField.width > 0 &&\n      originalField.height > 0\n    ) {\n      const destCtx = field.getContext('2d');\n      destCtx?.drawImage(originalField, 0, 0);\n    }\n  });\n\n  return clonedElement;\n}\n\nfunction isField(\n  element: Element\n): element is HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement {\n  return 'value' in element;\n}\n\nfunction isCanvasElement(element: Element): element is HTMLCanvasElement {\n  return element.tagName === 'CANVAS';\n}\n", "import type {Coordinates} from '@dnd-kit/geometry';\n\nexport function getElementFromPoint(\n  document: Document,\n  {x, y}: Coordinates\n): Element | null {\n  const element = document.elementFromPoint(x, y);\n\n  if (isIFrameElement(element)) {\n    const {contentDocument} = element;\n\n    if (contentDocument) {\n      const {left, top} = element.getBoundingClientRect();\n\n      return getElementFromPoint(contentDocument, {\n        x: x - left,\n        y: y - top,\n      });\n    }\n  }\n\n  return element;\n}\n\nfunction isIFrameElement(\n  element: Element | null\n): element is HTMLIFrameElement {\n  return element?.tagName === 'IFRAME';\n}\n", "export const ProxiedElements = new WeakMap<Element, Element>();\n", "export interface EventListenerDescriptor {\n  type: string;\n  listener(event: Event): void;\n  options?: AddEventListenerOptions;\n}\n\ntype EventListenerInput = EventListenerDescriptor[] | EventListenerDescriptor;\n\ntype EventListenerEntry = [EventTarget, EventListenerDescriptor];\n\nexport class Listeners {\n  private entries: Set<EventListenerEntry> = new Set();\n\n  constructor() {}\n\n  public bind(target: EventTarget, input: EventListenerInput) {\n    const listeners = Array.isArray(input) ? input : [input];\n    const entries: EventListenerEntry[] = [];\n\n    for (const descriptor of listeners) {\n      const {type, listener, options} = descriptor;\n      const entry: EventListenerEntry = [target, descriptor];\n\n      target.addEventListener(type, listener, options);\n      this.entries.add(entry);\n      entries.push(entry);\n    }\n\n    return function cleanup() {\n      for (const [target, {type, listener, options}] of entries) {\n        target.removeEventListener(type, listener, options);\n      }\n    };\n  }\n\n  public clear = () => {\n    for (const entry of this.entries) {\n      const [target, {type, listener, options}] = entry;\n\n      target.removeEventListener(type, listener, options);\n    }\n\n    this.entries.clear();\n  };\n}\n", "export function getFrameElement(el: Element | undefined) {\n  const refWindow = el?.ownerDocument.defaultView;\n\n  if (refWindow && refWindow.self !== refWindow.parent) {\n    return refWindow.frameElement;\n  }\n}\n", "import {getFrameElement} from './getFrameElement.ts';\n\nexport function getFrameElements(el: Element | undefined) {\n  const frames = new Set<Element>();\n  let frame = getFrameElement(el);\n\n  while (frame) {\n    frames.add(frame);\n    frame = getFrameElement(frame);\n  }\n\n  return frames;\n}\n", "export function timeout(callback: () => void, duration: number): () => void {\n  const id = setTimeout(callback, duration);\n\n  return () => clearTimeout(id);\n}\n", "import {timeout} from './timeout.ts';\n\nexport function throttle<T extends (...args: any[]) => any>(\n  func: T,\n  limit: number\n): (...args: Parameters<T>) => void {\n  const time = () => performance.now();\n  let cancel: () => void | undefined;\n  let lastRan: number;\n\n  return function (this: any, ...args: Parameters<T>) {\n    const context = this;\n    if (!lastRan) {\n      func.apply(context, args);\n      lastRan = time();\n    } else {\n      cancel?.();\n      cancel = timeout(\n        () => {\n          func.apply(context, args);\n          lastRan = time();\n        },\n        limit - (time() - lastRan)\n      );\n    }\n  };\n}\n", "import type {BoundingRectangle} from '@dnd-kit/geometry';\n\nexport function isRectEqual(\n  a: BoundingRectangle | undefined,\n  b: BoundingRectangle | undefined\n) {\n  if (a === b) return true;\n  if (!a || !b) return false;\n\n  return (\n    a.top == b.top &&\n    a.left == b.left &&\n    a.right == b.right &&\n    a.bottom == b.bottom\n  );\n}\n", "import {getVisibleBoundingRectangle} from './getVisibleBoundingRectangle.ts';\n\nexport function isVisible(\n  element: Element,\n  boundingClientRect = element.getBoundingClientRect()\n): boolean {\n  const {width, height} = getVisibleBoundingRectangle(\n    element,\n    boundingClientRect\n  );\n\n  return width > 0 && height > 0;\n}\n", "import {canUseDOM} from '../execution-context/canUseDOM.ts';\n\nconst Observer = canUseDOM\n  ? ResizeObserver\n  : class MockResizeObserver implements ResizeObserver {\n      observe() {}\n      unobserve() {}\n      disconnect() {}\n    };\n\nexport class ResizeNotifier extends Observer {\n  #initialized = false;\n\n  constructor(callback: ResizeObserverCallback) {\n    super((entries) => {\n      if (!this.#initialized) {\n        this.#initialized = true;\n        return;\n      }\n      callback(entries, this);\n    });\n  }\n}\n", "import {BoundingRectangle, Rectangle} from '@dnd-kit/geometry';\n\nimport {throttle} from '../scheduling/throttle.ts';\n\nimport {isRectEqual} from '../bounding-rectangle/isRectEqual.ts';\nimport {isVisible} from '../bounding-rectangle/isVisible.ts';\nimport {getVisibleBoundingRectangle} from '../bounding-rectangle/getVisibleBoundingRectangle.ts';\n\nimport {ResizeNotifier} from './ResizeNotifier.ts';\n\nexport type PositionObserverCallback = (\n  boundingClientRect: BoundingRectangle | null\n) => void;\n\nconst threshold = Array.from({length: 100}, (_, index) => index / 100);\nexport const THROTTLE_INTERVAL = 75;\n\nexport class PositionObserver {\n  constructor(\n    public element: Element,\n    public callback: PositionObserverCallback,\n    options: {debug?: boolean; skipInitial?: boolean} = {\n      debug: false,\n      skipInitial: false,\n    }\n  ) {\n    this.boundingClientRect = element.getBoundingClientRect();\n    this.#visible = isVisible(element, this.boundingClientRect);\n\n    let initial = true;\n    this.callback = (boundingClientRect) => {\n      if (initial) {\n        initial = false;\n        if (options.skipInitial) return;\n      }\n\n      callback(boundingClientRect);\n    };\n\n    const root = element.ownerDocument;\n\n    if (options?.debug) {\n      this.#debug = document.createElement('div');\n      this.#debug.style.background = 'rgba(0,0,0,0.15)';\n      this.#debug.style.position = 'fixed';\n      this.#debug.style.pointerEvents = 'none';\n      root.body.appendChild(this.#debug);\n    }\n\n    this.#visibilityObserver = new IntersectionObserver(\n      (entries: IntersectionObserverEntry[]) => {\n        const entry = entries[entries.length - 1];\n        const {boundingClientRect, isIntersecting: visible} = entry;\n        const {width, height} = boundingClientRect;\n        const previousVisible = this.#visible;\n\n        this.#visible = visible;\n\n        if (!width && !height) return;\n\n        if (previousVisible && !visible) {\n          this.#positionObserver?.disconnect();\n          this.callback(null);\n          this.#resizeObserver?.disconnect();\n          this.#resizeObserver = undefined;\n\n          if (this.#debug) this.#debug.style.visibility = 'hidden';\n        } else {\n          this.#observePosition();\n        }\n\n        if (visible && !this.#resizeObserver) {\n          this.#resizeObserver = new ResizeNotifier(this.#observePosition);\n          this.#resizeObserver.observe(element);\n        }\n      },\n      {\n        threshold,\n        root,\n      }\n    );\n\n    if (this.#visible && !options.skipInitial) {\n      this.callback(this.boundingClientRect);\n    }\n\n    this.#visibilityObserver.observe(element);\n  }\n\n  public boundingClientRect: DOMRectReadOnly;\n\n  public disconnect = () => {\n    this.#disconnected = true;\n    this.#resizeObserver?.disconnect();\n    this.#positionObserver?.disconnect();\n    this.#visibilityObserver.disconnect();\n    this.#debug?.remove();\n  };\n\n  #visible = true;\n  #previousBoundingClientRect: DOMRectReadOnly | undefined;\n  #resizeObserver: ResizeNotifier | undefined;\n  #positionObserver: IntersectionObserver | undefined;\n  #visibilityObserver: IntersectionObserver;\n  #debug: HTMLElement | undefined;\n  #disconnected = false;\n\n  #observePosition = throttle(() => {\n    const {element} = this;\n\n    this.#positionObserver?.disconnect();\n\n    if (this.#disconnected || !this.#visible || !element.isConnected) {\n      return;\n    }\n\n    const root = element.ownerDocument ?? document;\n    const {innerHeight, innerWidth} = root.defaultView ?? window;\n    const clientRect = element.getBoundingClientRect();\n    const visibleRect = getVisibleBoundingRectangle(element, clientRect);\n    const {top, left, bottom, right} = visibleRect;\n    const insetTop = -Math.floor(top);\n    const insetLeft = -Math.floor(left);\n    const insetRight = -Math.floor(innerWidth - right);\n    const insetBottom = -Math.floor(innerHeight - bottom);\n    const rootMargin = `${insetTop}px ${insetRight}px ${insetBottom}px ${insetLeft}px`;\n\n    this.boundingClientRect = clientRect;\n    this.#positionObserver = new IntersectionObserver(\n      (entries: IntersectionObserverEntry[]) => {\n        const [entry] = entries;\n        const {intersectionRect} = entry;\n        /*\n         * The intersection ratio returned by the intersection observer entry\n         * represents the ratio of the intersectionRect to the boundingClientRect,\n         * which is not what we want. We want the ratio of the intersectionRect\n         * to the rootBounds (visible rect).\n         */\n        const intersectionRatio =\n          entry.intersectionRatio !== 1\n            ? entry.intersectionRatio\n            : Rectangle.intersectionRatio(\n                intersectionRect,\n                getVisibleBoundingRectangle(element)\n              );\n\n        if (intersectionRatio !== 1) {\n          this.#observePosition();\n        }\n      },\n      {\n        threshold,\n        rootMargin,\n        root,\n      }\n    );\n\n    this.#positionObserver.observe(element);\n    this.#notify();\n  }, THROTTLE_INTERVAL);\n\n  #notify() {\n    if (this.#disconnected) return;\n\n    this.#updateDebug();\n\n    if (isRectEqual(this.boundingClientRect, this.#previousBoundingClientRect))\n      return;\n\n    this.callback(this.boundingClientRect);\n    this.#previousBoundingClientRect = this.boundingClientRect;\n  }\n\n  #updateDebug() {\n    if (this.#debug) {\n      const {top, left, width, height} = getVisibleBoundingRectangle(\n        this.element\n      );\n\n      this.#debug.style.overflow = 'hidden';\n      this.#debug.style.visibility = 'visible';\n      this.#debug.style.top = `${Math.floor(top)}px`;\n      this.#debug.style.left = `${Math.floor(left)}px`;\n      this.#debug.style.width = `${Math.floor(width)}px`;\n      this.#debug.style.height = `${Math.floor(height)}px`;\n    }\n  }\n}\n", "import {getFrameElements} from '../frame/getFrameElements.ts';\nimport {throttle} from '../scheduling/throttle.ts';\nimport {\n  PositionObserver,\n  THROTTLE_INTERVAL,\n  type PositionObserverCallback,\n} from './PositionObserver.ts';\n\nconst framePositionObservers = new WeakMap<\n  Element,\n  {\n    disconnect: () => void;\n    callbacks: Set<PositionObserverCallback>;\n  }\n>();\n\nconst scrollListeners = new WeakMap<\n  Document,\n  {\n    disconnect: () => void;\n    listeners: Set<EventListener>;\n  }\n>();\n\nfunction addFrameListener(frame: Element, callback: PositionObserverCallback) {\n  // Check if already observed globally\n  let cached = framePositionObservers.get(frame);\n\n  if (!cached) {\n    const observer = new PositionObserver(\n      frame,\n      (boundingClientRect) => {\n        const cached = framePositionObservers.get(frame);\n        if (!cached) return;\n\n        cached.callbacks.forEach((callback) => callback(boundingClientRect));\n      },\n      {skipInitial: true}\n    );\n\n    cached = {disconnect: observer.disconnect, callbacks: new Set()};\n  }\n\n  cached.callbacks.add(callback);\n  framePositionObservers.set(frame, cached);\n\n  return () => {\n    cached.callbacks.delete(callback);\n\n    if (cached.callbacks.size === 0) {\n      framePositionObservers.delete(frame);\n      cached.disconnect();\n    }\n  };\n}\n\nfunction observeParentFrames(\n  frames: Set<Element>,\n  callback: PositionObserverCallback\n) {\n  const cleanup = new Set<() => void>();\n\n  for (const frame of frames) {\n    const remove = addFrameListener(frame, callback);\n    cleanup.add(remove);\n  }\n\n  return () => cleanup.forEach((remove) => remove());\n}\n\nfunction addScrollListener(element: Element, callback: EventListener) {\n  const doc = element.ownerDocument;\n\n  if (!scrollListeners.has(doc)) {\n    const controller = new AbortController();\n    const listeners = new Set<EventListener>();\n\n    document.addEventListener(\n      'scroll',\n      (event) => listeners.forEach((listener) => listener(event)),\n      {\n        capture: true,\n        passive: true,\n        signal: controller.signal,\n      }\n    );\n\n    scrollListeners.set(doc, {disconnect: () => controller.abort(), listeners});\n  }\n\n  const {listeners, disconnect} = scrollListeners.get(doc) ?? {};\n\n  if (!listeners || !disconnect) return () => {};\n\n  listeners.add(callback);\n\n  return () => {\n    listeners.delete(callback);\n\n    if (listeners.size === 0) {\n      disconnect();\n      scrollListeners.delete(doc);\n    }\n  };\n}\n\nexport class FrameObserver {\n  #elementObserver: PositionObserver;\n  #disconnected = false;\n  #frames: Set<Element>;\n\n  constructor(\n    element: Element,\n    private callback: PositionObserverCallback,\n    options?: {debug?: boolean}\n  ) {\n    const frames = getFrameElements(element);\n    const unobserveParentFrames = observeParentFrames(frames, callback);\n    const removeScrollListener = addScrollListener(element, this.#handleScroll);\n\n    this.#frames = frames;\n    this.#elementObserver = new PositionObserver(element, callback, options);\n    this.disconnect = () => {\n      if (this.#disconnected) return;\n      this.#disconnected = true;\n\n      unobserveParentFrames();\n      removeScrollListener();\n      this.#elementObserver.disconnect();\n    };\n  }\n\n  disconnect: () => void;\n\n  #handleScroll = throttle((event: Event) => {\n    if (this.#disconnected) return;\n    if (!event.target) return;\n    if (\n      'contains' in event.target &&\n      typeof event.target.contains === 'function'\n    ) {\n      for (const frame of this.#frames) {\n        if (event.target.contains(frame)) {\n          this.callback(this.#elementObserver.boundingClientRect);\n          break;\n        }\n      }\n    }\n  }, THROTTLE_INTERVAL);\n}\n", "export function supportsPopover(element: Element): element is Element & {\n  showPopover(): void;\n  hidePopover(): void;\n} {\n  return (\n    'showPopover' in element &&\n    'hidePopover' in element &&\n    typeof element.showPopover === 'function' &&\n    typeof element.hidePopover === 'function'\n  );\n}\n", "import {supportsPopover} from './supportsPopover.ts';\n\nexport function showPopover(element: Element) {\n  try {\n    if (\n      supportsPopover(element) &&\n      element.isConnected &&\n      element.hasAttribute('popover') &&\n      // This selector can throw an error in browsers that don't support it\n      !element.matches(':popover-open')\n    ) {\n      element.showPopover();\n    }\n  } catch (error) {\n    // no-op\n  }\n}\n", "import {supportsPopover} from './supportsPopover.ts';\n\nexport function hidePopover(element: Element) {\n  try {\n    if (\n      supportsPopover(element) &&\n      element.isConnected &&\n      element.hasAttribute('popover') &&\n      // This selector can throw an error in browsers that don't support it\n      element.matches(':popover-open')\n    ) {\n      element.hidePopover();\n    }\n  } catch (error) {\n    // no-op\n  }\n}\n", "import {canUseDOM} from '../execution-context/canUseDOM.ts';\nimport {getDocument} from '../execution-context/getDocument.ts';\n\nexport function isDocumentScrollingElement(element: Element | null) {\n  if (!canUseDOM || !element) {\n    return false;\n  }\n\n  return element === getDocument(element).scrollingElement;\n}\n", "import {getBoundingRectangle} from '../bounding-rectangle/getBoundingRectangle.ts';\nimport {getViewportBoundingRectangle} from '../bounding-rectangle/getViewportBoundingRectangle.ts';\nimport {getWindow} from '../execution-context/getWindow.ts';\nimport {isDocumentScrollingElement} from './documentScrollingElement.ts';\n\nexport function getScrollPosition(scrollableElement: Element) {\n  const window = getWindow(scrollableElement);\n  const rect = isDocumentScrollingElement(scrollableElement)\n    ? getViewportBoundingRectangle(scrollableElement)\n    : getBoundingRectangle(scrollableElement);\n\n  const dimensions = isDocumentScrollingElement(scrollableElement)\n    ? {\n        height: window.innerHeight,\n        width: window.innerWidth,\n      }\n    : {\n        height: scrollableElement.clientHeight,\n        width: scrollableElement.clientWidth,\n      };\n  const position = {\n    current: {\n      x: scrollableElement.scrollLeft,\n      y: scrollableElement.scrollTop,\n    },\n    max: {\n      x: scrollableElement.scrollWidth - dimensions.width,\n      y: scrollableElement.scrollHeight - dimensions.height,\n    },\n  };\n\n  const isTop = position.current.y <= 0;\n  const isLeft = position.current.x <= 0;\n  const isBottom = position.current.y >= position.max.y;\n  const isRight = position.current.x >= position.max.x;\n\n  return {\n    rect,\n    position,\n    isTop,\n    isLeft,\n    isBottom,\n    isRight,\n  };\n}\n", "import type {Coordinates} from '@dnd-kit/geometry';\n\nimport {getScrollPosition} from './getScrollPosition.ts';\n\nexport function canScroll(scrollableElement: Element, by?: Coordinates) {\n  const {isTop, isBottom, isLeft, isRight, position} =\n    getScrollPosition(scrollableElement);\n\n  const {x, y} = by ?? {x: 0, y: 0};\n\n  const top = !isTop && position.current.y + y > 0;\n  const bottom = !isBottom && position.current.y + y < position.max.y;\n  const left = !isLeft && position.current.x + x > 0;\n  const right = !isRight && position.current.x + x < position.max.x;\n\n  return {\n    top,\n    bottom,\n    left,\n    right,\n    x: left || right,\n    y: top || bottom,\n  };\n}\n", "type Callback = () => void;\n\nexport class Scheduler<T extends (callback: Callback) => any> {\n  constructor(private scheduler: T) {}\n\n  private pending: boolean = false;\n  private tasks: Set<() => void> = new Set();\n  private resolvers: Set<() => void> = new Set();\n\n  public schedule(task: () => void): Promise<void> {\n    this.tasks.add(task);\n\n    if (!this.pending) {\n      this.pending = true;\n      this.scheduler(this.flush);\n    }\n\n    return new Promise<void>((resolve) => this.resolvers.add(resolve));\n  }\n\n  public flush = () => {\n    const {tasks, resolvers} = this;\n\n    this.pending = false;\n    this.tasks = new Set();\n    this.resolvers = new Set();\n\n    for (const task of tasks) {\n      task();\n    }\n\n    for (const resolve of resolvers) {\n      resolve();\n    }\n  };\n}\n\nexport const scheduler = new Scheduler((callback) => {\n  if (typeof requestAnimationFrame === 'function') {\n    requestAnimationFrame(callback);\n  } else {\n    callback();\n  }\n});\n", "import {getWindow} from '../execution-context/getWindow.ts';\nimport {Scheduler} from '../scheduling/scheduler.ts';\n\nconst scheduler = new Scheduler((callback) => setTimeout(callback, 50));\nconst cachedStyles = new Map<Element, CSSStyleDeclaration>();\nconst clear = cachedStyles.clear.bind(cachedStyles);\n\n/**\n * Get the computed styles for an element.\n * @param element - The element to get the computed styles for.\n * @param cached - Whether to cache the computed styles.\n * @returns The computed styles for the element.\n */\nexport function getComputedStyles(\n  element: Element,\n  cached = false\n): CSSStyleDeclaration {\n  if (!cached) return computeStyles(element);\n\n  let styles = cachedStyles.get(element);\n\n  if (styles) return styles;\n\n  styles = computeStyles(element);\n  cachedStyles.set(element, styles);\n  scheduler.schedule(clear);\n\n  return styles;\n}\n\nfunction computeStyles(element: Element): CSSStyleDeclaration {\n  return getWindow(element).getComputedStyle(element);\n}\n", "import {getComputedStyles} from '../styles/getComputedStyles.ts';\n\nexport function isFixed(\n  node: Element,\n  computedStyle: CSSStyleDeclaration = getComputedStyles(node, true)\n): boolean {\n  return (\n    computedStyle.position === 'fixed' || computedStyle.position === 'sticky'\n  );\n}\n", "import {getComputedStyles} from '../styles/getComputedStyles.ts';\n\nexport function isScrollable(\n  element: HTMLElement,\n  computedStyle: CSSStyleDeclaration = getComputedStyles(element, true)\n): boolean {\n  const overflowRegex = /(auto|scroll|overlay)/;\n  const properties = ['overflow', 'overflowX', 'overflowY'];\n\n  return properties.some((property) => {\n    const value = computedStyle[property as keyof CSSStyleDeclaration];\n\n    return typeof value === 'string' ? overflowRegex.test(value) : false;\n  });\n}\n", "import {getWindow} from '../execution-context/getWindow.ts';\nimport {isDocument} from '../type-guards/isDocument.ts';\nimport {isHTMLElement} from '../type-guards/isHTMLElement.ts';\nimport {isSVGElement} from '../type-guards/isSVGElement.ts';\nimport {getComputedStyles} from '../styles/getComputedStyles.ts';\nimport {isFixed} from './isFixed.ts';\nimport {isScrollable} from './isScrollable.ts';\n\ninterface Options {\n  limit?: number;\n  excludeElement?: boolean;\n}\n\nconst defaultOptions: Options = {\n  excludeElement: true,\n};\n\nexport function getScrollableAncestors(\n  element: Node | null,\n  options: Options = defaultOptions\n): Set<Element> {\n  const {limit, excludeElement} = options;\n  const scrollParents = new Set<Element>();\n\n  function findScrollableAncestors(node: Node | null): Set<Element> {\n    if (limit != null && scrollParents.size >= limit) {\n      return scrollParents;\n    }\n\n    if (!node) {\n      return scrollParents;\n    }\n\n    if (\n      isDocument(node) &&\n      node.scrollingElement != null &&\n      !scrollParents.has(node.scrollingElement)\n    ) {\n      scrollParents.add(node.scrollingElement);\n\n      return scrollParents;\n    }\n\n    if (!isHTMLElement(node)) {\n      if (isSVGElement(node)) {\n        return findScrollableAncestors(node.parentElement);\n      }\n\n      return scrollParents;\n    }\n\n    if (scrollParents.has(node)) {\n      return scrollParents;\n    }\n\n    const computedStyle = getComputedStyles(node, true);\n\n    if (excludeElement && node === element) {\n      // no-op\n    } else if (isScrollable(node, computedStyle)) {\n      scrollParents.add(node);\n    }\n\n    if (isFixed(node, computedStyle)) {\n      const {scrollingElement} = node.ownerDocument;\n\n      if (scrollingElement) scrollParents.add(scrollingElement);\n\n      return scrollParents;\n    }\n\n    return findScrollableAncestors(node.parentNode);\n  }\n\n  if (!element) {\n    return scrollParents;\n  }\n\n  return findScrollableAncestors(element);\n}\n\nexport function getFirstScrollableAncestor(node: Node | null): Element | null {\n  const [firstScrollableAncestor] = getScrollableAncestors(node, {limit: 1});\n\n  return firstScrollableAncestor ?? null;\n}\n", "import {getComputedStyles} from '../styles/getComputedStyles.ts';\nimport {isHTMLElement} from '../type-guards/isHTMLElement.ts';\nimport type {Transform} from '../transform/index.ts';\n\nimport {getFrameElement} from './getFrameElement.ts';\nimport {getBoundingRectangle} from '../bounding-rectangle/getBoundingRectangle.ts';\n\nexport function getFrameTransform(\n  el: Element | undefined,\n  boundary: Element | null = window.frameElement\n): Transform {\n  const transform: Transform = {\n    x: 0,\n    y: 0,\n    scaleX: 1,\n    scaleY: 1,\n  };\n\n  if (!el) return transform;\n\n  let frame = getFrameElement(el);\n\n  while (frame) {\n    if (frame === boundary) {\n      return transform;\n    }\n\n    const rect = getBoundingRectangle(frame);\n    const {x: scaleX, y: scaleY} = getScale(frame, rect);\n\n    transform.x = transform.x + rect.left;\n    transform.y = transform.y + rect.top;\n    transform.scaleX = transform.scaleX * scaleX;\n    transform.scaleY = transform.scaleY * scaleY;\n\n    frame = getFrameElement(frame);\n  }\n\n  return transform;\n}\n\nfunction getScale(\n  element: Element,\n  boundingRectangle = getBoundingRectangle(element)\n) {\n  const width = Math.round(boundingRectangle.width);\n  const height = Math.round(boundingRectangle.height);\n\n  if (isHTMLElement(element)) {\n    return {\n      x: width / element.offsetWidth,\n      y: height / element.offsetHeight,\n    };\n  }\n\n  const styles = getComputedStyles(element, true);\n\n  return {\n    x: (parseFloat(styles.width) || width) / width,\n    y: (parseFloat(styles.height) || height) / height,\n  };\n}\n", "export function parseScale(scale: string) {\n  if (scale === 'none') {\n    return null;\n  }\n\n  const values = scale.split(' ');\n  const x = parseFloat(values[0]);\n  const y = parseFloat(values[1]);\n\n  if (isNaN(x) && isNaN(y)) {\n    return null;\n  }\n\n  return {\n    x: isNaN(x) ? y : x,\n    y: isNaN(y) ? x : y,\n  };\n}\n", "export function parseTranslate(translate: string) {\n  if (translate === 'none') {\n    return null;\n  }\n\n  const [x, y, z = '0'] = translate.split(' ');\n  const output = {x: parseFloat(x), y: parseFloat(y), z: parseInt(z, 10)};\n\n  if (isNaN(output.x) && isNaN(output.y)) {\n    return null;\n  }\n\n  return {\n    x: isNaN(output.x) ? 0 : output.x,\n    y: isNaN(output.y) ? 0 : output.y,\n    z: isNaN(output.z) ? 0 : output.z,\n  };\n}\n", "import type {Coordinates} from '@dnd-kit/geometry';\n\nimport {parseScale} from './parseScale.ts';\nimport {parseTranslate} from './parseTranslate.ts';\n\nexport interface Transform extends Coordinates {\n  z?: number;\n  scaleX: number;\n  scaleY: number;\n}\n\nexport function parseTransform(computedStyles: {\n  scale: string;\n  transform: string;\n  translate: string;\n}): Transform | null {\n  const {scale, transform, translate} = computedStyles;\n  const parsedScale = parseScale(scale);\n  const parsedTranslate = parseTranslate(translate);\n  const parsedMatrix = parseTransformMatrix(transform);\n\n  if (!parsedMatrix && !parsedScale && !parsedTranslate) {\n    return null;\n  }\n\n  const normalizedScale = {\n    x: parsedScale?.x ?? 1,\n    y: parsedScale?.y ?? 1,\n  };\n\n  const normalizedTranslate = {\n    x: parsedTranslate?.x ?? 0,\n    y: parsedTranslate?.y ?? 0,\n  };\n\n  const normalizedMatrix = {\n    x: parsedMatrix?.x ?? 0,\n    y: parsedMatrix?.y ?? 0,\n    scaleX: parsedMatrix?.scaleX ?? 1,\n    scaleY: parsedMatrix?.scaleY ?? 1,\n  };\n\n  return {\n    x: normalizedTranslate.x + normalizedMatrix.x,\n    y: normalizedTranslate.y + normalizedMatrix.y,\n    z: parsedTranslate?.z ?? 0,\n    scaleX: normalizedScale.x * normalizedMatrix.scaleX,\n    scaleY: normalizedScale.y * normalizedMatrix.scaleY,\n  };\n}\n\nfunction parseTransformMatrix(transform: string) {\n  if (transform.startsWith('matrix3d(')) {\n    const transformArray = transform.slice(9, -1).split(/, /);\n\n    return {\n      x: +transformArray[12],\n      y: +transformArray[13],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[5],\n    };\n  } else if (transform.startsWith('matrix(')) {\n    const transformArray = transform.slice(7, -1).split(/, /);\n\n    return {\n      x: +transformArray[4],\n      y: +transformArray[5],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[3],\n    };\n  }\n\n  return null;\n}\n", "import {Rectangle, type Axis, type Coordinates} from '@dnd-kit/geometry';\n\nimport {getScrollPosition} from './getScrollPosition.ts';\nimport {getFrameTransform} from '../frame/getFrameTransform.ts';\nimport {getComputedStyles} from '../styles/getComputedStyles.ts';\nimport {parseTransform} from '../transform/parseTransform.ts';\n\nexport enum ScrollDirection {\n  Idle = 0,\n  Forward = 1,\n  Reverse = -1,\n}\n\nconst defaultThreshold: Record<Axis, number> = {\n  x: 0.2,\n  y: 0.2,\n};\n\nconst defaultTolerance: Record<Axis, number> = {\n  x: 10,\n  y: 10,\n};\n\ninterface ScrollIntent {\n  x: ScrollDirection;\n  y: ScrollDirection;\n}\n\nexport function detectScrollIntent(\n  scrollableElement: Element,\n  coordinates: Coordinates,\n  intent?: ScrollIntent,\n  acceleration = 25,\n  thresholdPercentage = defaultThreshold,\n  tolerance = defaultTolerance\n) {\n  const {x, y} = coordinates;\n  const {rect, isTop, isBottom, isLeft, isRight} =\n    getScrollPosition(scrollableElement);\n  const frameTransform = getFrameTransform(scrollableElement);\n  const computedStyles = getComputedStyles(scrollableElement, true);\n  const parsedTransform = parseTransform(computedStyles);\n  const isXAxisInverted =\n    parsedTransform !== null ? parsedTransform?.scaleX < 0 : false;\n  const isYAxisInverted =\n    parsedTransform !== null ? parsedTransform?.scaleY < 0 : false;\n  const scrollContainerRect = new Rectangle(\n    rect.left * frameTransform.scaleX + frameTransform.x,\n    rect.top * frameTransform.scaleY + frameTransform.y,\n    rect.width * frameTransform.scaleX,\n    rect.height * frameTransform.scaleY\n  );\n  const direction: Record<Axis, ScrollDirection> = {\n    x: ScrollDirection.Idle,\n    y: ScrollDirection.Idle,\n  };\n  const speed = {\n    x: 0,\n    y: 0,\n  };\n  const threshold = {\n    height: scrollContainerRect.height * thresholdPercentage.y,\n    width: scrollContainerRect.width * thresholdPercentage.x,\n  };\n\n  if (\n    (!isTop || (isYAxisInverted && !isBottom)) &&\n    y <= scrollContainerRect.top + threshold.height &&\n    intent?.y !== ScrollDirection.Forward &&\n    x >= scrollContainerRect.left - tolerance.x &&\n    x <= scrollContainerRect.right + tolerance.x\n  ) {\n    // Scroll Up (or Down if inverted)\n    direction.y = isYAxisInverted\n      ? ScrollDirection.Forward\n      : ScrollDirection.Reverse;\n    speed.y =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.top + threshold.height - y) / threshold.height\n      );\n  } else if (\n    (!isBottom || (isYAxisInverted && !isTop)) &&\n    y >= scrollContainerRect.bottom - threshold.height &&\n    intent?.y !== ScrollDirection.Reverse &&\n    x >= scrollContainerRect.left - tolerance.x &&\n    x <= scrollContainerRect.right + tolerance.x\n  ) {\n    // Scroll Down (or Up if inverted)\n    direction.y = isYAxisInverted\n      ? ScrollDirection.Reverse\n      : ScrollDirection.Forward;\n    speed.y =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.bottom - threshold.height - y) / threshold.height\n      );\n  }\n\n  if (\n    (!isRight || (isXAxisInverted && !isLeft)) &&\n    x >= scrollContainerRect.right - threshold.width &&\n    intent?.x !== ScrollDirection.Reverse &&\n    y >= scrollContainerRect.top - tolerance.y &&\n    y <= scrollContainerRect.bottom + tolerance.y\n  ) {\n    // Scroll Right (or Left if inverted)\n    direction.x = isXAxisInverted\n      ? ScrollDirection.Reverse\n      : ScrollDirection.Forward;\n    speed.x =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.right - threshold.width - x) / threshold.width\n      );\n  } else if (\n    (!isLeft || (isXAxisInverted && !isRight)) &&\n    x <= scrollContainerRect.left + threshold.width &&\n    intent?.x !== ScrollDirection.Forward &&\n    y >= scrollContainerRect.top - tolerance.y &&\n    y <= scrollContainerRect.bottom + tolerance.y\n  ) {\n    // Scroll Left (or Right if inverted)\n    direction.x = isXAxisInverted\n      ? ScrollDirection.Forward\n      : ScrollDirection.Reverse;\n    speed.x =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.left + threshold.width - x) / threshold.width\n      );\n  }\n\n  return {\n    direction,\n    speed,\n  };\n}\n", "import {getComputedStyles} from '../styles/getComputedStyles.ts';\nimport {isHTMLElement} from '../type-guards/isHTMLElement.ts';\nimport {getFirstScrollableAncestor} from './getScrollableAncestors.ts';\n\nfunction supportsScrollIntoViewIfNeeded(\n  element: Element\n): element is Element & {\n  scrollIntoViewIfNeeded: (centerIfNeeded?: boolean) => void;\n} {\n  return (\n    'scrollIntoViewIfNeeded' in element &&\n    typeof element.scrollIntoViewIfNeeded === 'function'\n  );\n}\n\nexport function scrollIntoViewIfNeeded(el: Element, centerIfNeeded = false) {\n  if (supportsScrollIntoViewIfNeeded(el)) {\n    el.scrollIntoViewIfNeeded(centerIfNeeded);\n    return;\n  }\n\n  if (!isHTMLElement(el)) {\n    return el.scrollIntoView();\n  }\n\n  var parent = getFirstScrollableAncestor(el);\n\n  if (!isHTMLElement(parent)) {\n    return;\n  }\n\n  const parentComputedStyle = getComputedStyles(parent, true),\n    parentBorderTopWidth = parseInt(\n      parentComputedStyle.getPropertyValue('border-top-width')\n    ),\n    parentBorderLeftWidth = parseInt(\n      parentComputedStyle.getPropertyValue('border-left-width')\n    ),\n    overTop = el.offsetTop - parent.offsetTop < parent.scrollTop,\n    overBottom =\n      el.offsetTop - parent.offsetTop + el.clientHeight - parentBorderTopWidth >\n      parent.scrollTop + parent.clientHeight,\n    overLeft = el.offsetLeft - parent.offsetLeft < parent.scrollLeft,\n    overRight =\n      el.offsetLeft -\n        parent.offsetLeft +\n        el.clientWidth -\n        parentBorderLeftWidth >\n      parent.scrollLeft + parent.clientWidth,\n    alignWithTop = overTop && !overBottom;\n\n  if ((overTop || overBottom) && centerIfNeeded) {\n    parent.scrollTop =\n      el.offsetTop -\n      parent.offsetTop -\n      parent.clientHeight / 2 -\n      parentBorderTopWidth +\n      el.clientHeight / 2;\n  }\n\n  if ((overLeft || overRight) && centerIfNeeded) {\n    parent.scrollLeft =\n      el.offsetLeft -\n      parent.offsetLeft -\n      parent.clientWidth / 2 -\n      parentBorderLeftWidth +\n      el.clientWidth / 2;\n  }\n\n  if ((overTop || overBottom || overLeft || overRight) && !centerIfNeeded) {\n    el.scrollIntoView(alignWithTop);\n  }\n}\n", "import type {BoundingRectangle} from '@dnd-kit/geometry';\n\nimport {type Transform} from './parseTransform.ts';\n\nexport function applyTransform(\n  rect: BoundingRectangle,\n  parsedTransform: Transform,\n  transformOrigin: string\n): BoundingRectangle {\n  const {scaleX, scaleY, x: translateX, y: translateY} = parsedTransform;\n  const x = rect.left + translateX + (1 - scaleX) * parseFloat(transformOrigin);\n  const y =\n    rect.top +\n    translateY +\n    (1 - scaleY) *\n      parseFloat(transformOrigin.slice(transformOrigin.indexOf(' ') + 1));\n  const w = scaleX ? rect.width * scaleX : rect.width;\n  const h = scaleY ? rect.height * scaleY : rect.height;\n\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x,\n  };\n}\n", "import type {BoundingRectangle} from '@dnd-kit/geometry';\n\nimport {type Transform} from './parseTransform.ts';\n\nexport function inverseTransform(\n  rect: BoundingRectangle,\n  parsedTransform: Transform,\n  transformOrigin: string\n): BoundingRectangle {\n  const {scaleX, scaleY, x: translateX, y: translateY} = parsedTransform;\n  const x = rect.left - translateX - (1 - scaleX) * parseFloat(transformOrigin);\n  const y =\n    rect.top -\n    translateY -\n    (1 - scaleY) *\n      parseFloat(transformOrigin.slice(transformOrigin.indexOf(' ') + 1));\n  const w = scaleX ? rect.width / scaleX : rect.width;\n  const h = scaleY ? rect.height / scaleY : rect.height;\n\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x,\n  };\n}\n", "interface Arguments {\n  element: Element;\n  keyframes: PropertyIndexedKeyframes | Keyframe[];\n  options: KeyframeAnimationOptions;\n}\n\nexport function animateTransform({element, keyframes, options}: Arguments) {\n  return element.animate(keyframes, options).finished;\n}\n", "import {getFinalKeyframe} from '../animations/getFinalKeyframe.ts';\nimport {getComputedStyles} from '../styles/getComputedStyles.ts';\n\nimport {parseTranslate} from './parseTranslate.ts';\n\nexport function computeTranslate(\n  element: Element,\n  translate = getComputedStyles(element).translate,\n  projected = true\n): {\n  x: number;\n  y: number;\n  z: number;\n} {\n  if (projected) {\n    const keyframe = getFinalKeyframe(\n      element,\n      (keyframe) => 'translate' in keyframe\n    );\n\n    if (keyframe) {\n      const {translate = ''} = keyframe[0];\n\n      if (typeof translate === 'string') {\n        const finalTranslate = parseTranslate(translate);\n\n        if (finalTranslate) {\n          return finalTranslate;\n        }\n      }\n    }\n  }\n\n  if (translate) {\n    const finalTranslate = parseTranslate(translate);\n\n    if (finalTranslate) {\n      return finalTranslate;\n    }\n  }\n\n  return {x: 0, y: 0, z: 0};\n}\n", "import {Scheduler} from '../scheduling/scheduler.ts';\nimport {isKeyframeEffect} from '../type-guards/isKeyframeEffect.ts';\n\nconst scheduler = new Scheduler((callback) => setTimeout(callback, 0));\nconst animations = new Map<Document | Element, Animation[]>();\nconst clear = animations.clear.bind(animations);\n\nfunction getDocumentAnimations(element: Element): Animation[] {\n  const document = element.ownerDocument;\n  let documentAnimations = animations.get(document);\n\n  if (documentAnimations) return documentAnimations;\n\n  documentAnimations = document.getAnimations();\n  animations.set(document, documentAnimations);\n  scheduler.schedule(clear);\n\n  const elementAnimations = documentAnimations.filter(\n    (animation) =>\n      isKeyframeEffect(animation.effect) && animation.effect.target === element\n  );\n\n  animations.set(element, elementAnimations);\n\n  return documentAnimations;\n}\n\n/*\n * Force animations on ancestors of the element into their end state\n * and return a function to reset them back to their current state.\n *\n * This is useful as it allows us to immediately calculate the final position\n * of an element without having to wait for the animations to finish.\n */\nexport function forceFinishAnimations(\n  element: Element,\n  options: {\n    properties: string[];\n    isValidTarget?: (target: Element) => boolean;\n  }\n): (() => void) | undefined {\n  const animations = getDocumentAnimations(element)\n    .filter((animation) => {\n      if (isKeyframeEffect(animation.effect)) {\n        const {target} = animation.effect;\n        const isValidTarget =\n          (target && options.isValidTarget?.(target)) ?? true;\n\n        if (isValidTarget) {\n          return animation.effect.getKeyframes().some((keyframe) => {\n            for (const property of options.properties) {\n              if (keyframe[property]) return true;\n            }\n          });\n        }\n      }\n    })\n    .map((animation) => {\n      const {effect, currentTime} = animation;\n      const duration = effect?.getComputedTiming().duration;\n\n      if (animation.pending || animation.playState === 'finished') return;\n\n      if (\n        typeof duration == 'number' &&\n        typeof currentTime == 'number' &&\n        currentTime < duration\n      ) {\n        animation.currentTime = duration;\n\n        return () => {\n          animation.currentTime = currentTime;\n        };\n      }\n    });\n\n  if (animations.length > 0) {\n    return () => animations.forEach((reset) => reset?.());\n  }\n}\n", "import {Rectangle, type BoundingRectangle} from '@dnd-kit/geometry';\n\nimport {applyTransform} from '../transform/applyTransform.ts';\nimport {inverseTransform} from '../transform/inverseTransform.ts';\nimport {getComputedStyles} from '../styles/getComputedStyles.ts';\nimport {parseTransform, type Transform} from '../transform/index.ts';\nimport {getBoundingRectangle} from '../bounding-rectangle/getBoundingRectangle.ts';\nimport {getFrameTransform} from '../frame/getFrameTransform.ts';\nimport {isKeyframeEffect} from '../type-guards/isKeyframeEffect.ts';\nimport {forceFinishAnimations} from '../animations/forceFinishAnimations.ts';\nimport {isSafari} from '../execution-context/isSafari.ts';\n\nexport interface DOMRectangleOptions {\n  getBoundingClientRect?: (element: Element) => BoundingRectangle;\n  /* Whether to ignore transforms when calculating the rectangle */\n  ignoreTransforms?: boolean;\n  frameTransform?: Transform | null;\n}\n\nexport class DOMRectangle extends Rectangle {\n  constructor(element: Element, options: DOMRectangleOptions = {}) {\n    const {\n      frameTransform = getFrameTransform(element),\n      ignoreTransforms,\n      getBoundingClientRect = getBoundingRectangle,\n    } = options;\n    const resetAnimations = forceFinishAnimations(element, {\n      properties: ['transform', 'translate', 'scale', 'width', 'height'],\n      isValidTarget: (target) =>\n        (target !== element || isSafari()) && target.contains(element),\n    });\n    const boundingRectangle = getBoundingClientRect(element);\n    let {top, left, width, height} = boundingRectangle;\n    let updated: BoundingRectangle | undefined;\n\n    const computedStyles = getComputedStyles(element);\n    const parsedTransform = parseTransform(computedStyles);\n\n    const scale = {\n      x: parsedTransform?.scaleX ?? 1,\n      y: parsedTransform?.scaleY ?? 1,\n    };\n\n    const projectedTransform = getProjectedTransform(element, computedStyles);\n\n    resetAnimations?.();\n\n    if (parsedTransform) {\n      updated = inverseTransform(\n        boundingRectangle,\n        parsedTransform,\n        computedStyles.transformOrigin\n      );\n\n      if (ignoreTransforms || projectedTransform) {\n        top = updated.top;\n        left = updated.left;\n        width = updated.width;\n        height = updated.height;\n      }\n    }\n\n    const intrinsic = {\n      width: updated?.width ?? width,\n      height: updated?.height ?? height,\n    };\n\n    if (projectedTransform && !ignoreTransforms && updated) {\n      const projected = applyTransform(\n        updated,\n        projectedTransform,\n        computedStyles.transformOrigin\n      );\n\n      top = projected.top;\n      left = projected.left;\n      width = projected.width;\n      height = projected.height;\n      scale.x = projectedTransform.scaleX;\n      scale.y = projectedTransform.scaleY;\n    }\n\n    if (frameTransform) {\n      if (!ignoreTransforms) {\n        left *= frameTransform.scaleX;\n        width *= frameTransform.scaleX;\n        top *= frameTransform.scaleY;\n        height *= frameTransform.scaleY;\n      }\n\n      left += frameTransform.x;\n      top += frameTransform.y;\n    }\n\n    super(left, top, width, height);\n\n    this.scale = scale;\n    this.intrinsicWidth = intrinsic.width;\n    this.intrinsicHeight = intrinsic.height;\n  }\n\n  public intrinsicWidth: number;\n  public intrinsicHeight: number;\n}\n\n/*\n * Get the projected transform of an element based on its final keyframe\n */\nfunction getProjectedTransform(\n  element: Element,\n  computedStyles: CSSStyleDeclaration\n): Transform | null {\n  // Always get the latest animations on the element itself\n  const animations = element.getAnimations();\n  let projectedTransform: Transform | null = null;\n\n  if (!animations.length) return null;\n\n  for (const animation of animations) {\n    if (animation.playState !== 'running') continue;\n    const keyframes = isKeyframeEffect(animation.effect)\n      ? animation.effect.getKeyframes()\n      : [];\n    const keyframe = keyframes[keyframes.length - 1];\n\n    if (!keyframe) continue;\n\n    const {transform, translate, scale} = keyframe;\n\n    if (transform || translate || scale) {\n      const parsedTransform = parseTransform({\n        transform:\n          typeof transform === 'string' && transform\n            ? transform\n            : computedStyles.transform,\n        translate:\n          typeof translate === 'string' && translate\n            ? translate\n            : computedStyles.translate,\n        scale:\n          typeof scale === 'string' && scale ? scale : computedStyles.scale,\n      });\n\n      if (parsedTransform) {\n        projectedTransform = projectedTransform\n          ? {\n              x: projectedTransform.x + parsedTransform.x,\n              y: projectedTransform.y + parsedTransform.y,\n              z: projectedTransform.z ?? parsedTransform.z,\n              scaleX: projectedTransform.scaleX * parsedTransform.scaleX,\n              scaleY: projectedTransform.scaleY * parsedTransform.scaleY,\n            }\n          : parsedTransform;\n      }\n    }\n  }\n\n  return projectedTransform;\n}\n", "export function supportsStyle(\n  element: Element\n): element is Element & {style: CSSStyleDeclaration} {\n  return (\n    'style' in element &&\n    typeof element.style === 'object' &&\n    element.style !== null &&\n    'setProperty' in element.style &&\n    'removeProperty' in element.style &&\n    typeof element.style.setProperty === 'function' &&\n    typeof element.style.removeProperty === 'function'\n  );\n}\n", "import {supportsStyle} from '../type-guards/supportsStyle.ts';\n\ntype ExtractStringProperties<T> = {\n  [K in keyof T]?: T[K] extends string ? string : never;\n};\n\nexport type StyleDeclaration = ExtractStringProperties<CSSStyleDeclaration> & {\n  viewTransitionName?: string;\n};\n\nexport class Styles {\n  private initial = new Map<string, string>();\n\n  constructor(private element: Element) {}\n\n  public set(properties: Record<string, string | number>, prefix = '') {\n    const {element} = this;\n\n    if (!supportsStyle(element)) {\n      return;\n    }\n\n    for (const [key, value] of Object.entries(properties)) {\n      const property = `${prefix}${key}`;\n\n      if (!this.initial.has(property)) {\n        this.initial.set(property, element.style.getPropertyValue(property));\n      }\n\n      element.style.setProperty(\n        property,\n        typeof value === 'string' ? value : `${value}px`\n      );\n    }\n  }\n\n  public remove(properties: string[], prefix = '') {\n    const {element} = this;\n\n    if (!supportsStyle(element)) {\n      return;\n    }\n\n    for (const key of properties) {\n      const property = `${prefix}${key}`;\n\n      element.style.removeProperty(property);\n    }\n  }\n\n  public reset() {\n    const {element} = this;\n\n    if (!supportsStyle(element)) {\n      return;\n    }\n\n    for (const [key, value] of this.initial) {\n      element.style.setProperty(key, value);\n    }\n\n    if (element.getAttribute('style') === '') {\n      element.removeAttribute('style');\n    }\n  }\n}\n", "import {getWindow} from '../execution-context/getWindow.ts';\nimport {isNode} from './isNode.ts';\n\nexport function isElement(target: EventTarget | null): target is Element {\n  if (!target) return false;\n\n  return (\n    target instanceof getWindow(target).Element ||\n    (isNode(target) && target.nodeType === Node.ELEMENT_NODE)\n  );\n}\n", "import {getWindow} from '../execution-context/getWindow.ts';\n\nexport function isKeyboardEvent(\n  event: Event | null | undefined\n): event is KeyboardEvent {\n  if (!event) return false;\n\n  const {KeyboardEvent} = getWindow(event.target);\n\n  return event instanceof KeyboardEvent;\n}\n", "import {getWindow} from '../execution-context/getWindow.ts';\n\nexport function isPointerEvent(\n  event: Event | null | undefined\n): event is PointerEvent {\n  if (!event) return false;\n\n  const {PointerEvent} = getWindow(event.target);\n\n  return event instanceof PointerEvent;\n}\n", "interface ViewTransition {\n  ready: Promise<void>;\n  updateCallbackDone: Promise<void>;\n  finished: Promise<void>;\n  skipTransition(): void;\n}\n\nexport function supportsViewTransition(\n  document: Document\n): document is Document & {\n  startViewTransition(updateCallback: () => void): ViewTransition;\n} {\n  return 'startViewTransition' in document;\n}\n", "import {isElement} from './isElement.js';\n\nexport function isTextInput(target: EventTarget | null) {\n  if (!isElement(target)) return false;\n\n  const {tagName} = target;\n\n  return (\n    tagName === 'INPUT' || tagName === 'TEXTAREA' || isContentEditable(target)\n  );\n}\n\nfunction isContentEditable(element: Element) {\n  return (\n    element.hasAttribute('contenteditable') &&\n    element.getAttribute('contenteditable') !== 'false'\n  );\n}\n", "const ids: Record<string, number> = {};\n\nexport function generateUniqueId(prefix: string) {\n  const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n  ids[prefix] = id;\n\n  return `${prefix}-${id}`;\n}\n", "// src/algorithms/pointerIntersection.ts\nimport { CollisionPriority, CollisionType } from \"@dnd-kit/abstract\";\nimport { Point } from \"@dnd-kit/geometry\";\nvar pointerIntersection = ({\n  dragOperation,\n  droppable\n}) => {\n  const pointerCoordinates = dragOperation.position.current;\n  if (!pointerCoordinates) {\n    return null;\n  }\n  const { id } = droppable;\n  if (!droppable.shape) {\n    return null;\n  }\n  if (droppable.shape.containsPoint(pointerCoordinates)) {\n    const distance = Point.distance(droppable.shape.center, pointerCoordinates);\n    return {\n      id,\n      value: 1 / distance,\n      type: CollisionType.PointerIntersection,\n      priority: CollisionPriority.High\n    };\n  }\n  return null;\n};\n\n// src/algorithms/shapeIntersection.ts\nimport { CollisionPriority as CollisionPriority2, CollisionType as CollisionType2 } from \"@dnd-kit/abstract\";\nimport { Point as Point2 } from \"@dnd-kit/geometry\";\nvar shapeIntersection = ({\n  dragOperation,\n  droppable\n}) => {\n  const { shape } = dragOperation;\n  if (!droppable.shape || !(shape == null ? void 0 : shape.current)) {\n    return null;\n  }\n  const intersectionArea = shape.current.intersectionArea(droppable.shape);\n  if (intersectionArea) {\n    const { position } = dragOperation;\n    const distance = Point2.distance(droppable.shape.center, position.current);\n    const intersectionRatio = intersectionArea / (shape.current.area + droppable.shape.area - intersectionArea);\n    const value = intersectionRatio / distance;\n    return {\n      id: droppable.id,\n      value,\n      type: CollisionType2.ShapeIntersection,\n      priority: CollisionPriority2.Normal\n    };\n  }\n  return null;\n};\n\n// src/algorithms/default.ts\nvar defaultCollisionDetection = (args) => {\n  var _a;\n  return (_a = pointerIntersection(args)) != null ? _a : shapeIntersection(args);\n};\n\n// src/algorithms/closestCorners.ts\nimport { CollisionPriority as CollisionPriority3, CollisionType as CollisionType3 } from \"@dnd-kit/abstract\";\nimport { Point as Point3, Rectangle } from \"@dnd-kit/geometry\";\nvar closestCorners = (input) => {\n  const { dragOperation, droppable } = input;\n  const { shape, position } = dragOperation;\n  if (!droppable.shape) {\n    return null;\n  }\n  const shapeCorners = shape ? Rectangle.from(shape.current.boundingRectangle).corners : void 0;\n  const distance = Rectangle.from(\n    droppable.shape.boundingRectangle\n  ).corners.reduce(\n    (acc, corner, index) => {\n      var _a;\n      return acc + Point3.distance(\n        Point3.from(corner),\n        (_a = shapeCorners == null ? void 0 : shapeCorners[index]) != null ? _a : position.current\n      );\n    },\n    0\n  );\n  const value = distance / 4;\n  return {\n    id: droppable.id,\n    value: 1 / value,\n    type: CollisionType3.Collision,\n    priority: CollisionPriority3.Normal\n  };\n};\n\n// src/algorithms/closestCenter.ts\nimport { CollisionPriority as CollisionPriority4, CollisionType as CollisionType4 } from \"@dnd-kit/abstract\";\nimport { Point as Point4 } from \"@dnd-kit/geometry\";\nvar closestCenter = (input) => {\n  var _a;\n  const { dragOperation, droppable } = input;\n  const { shape, position } = dragOperation;\n  if (!droppable.shape) {\n    return null;\n  }\n  const collision = defaultCollisionDetection(input);\n  if (collision) {\n    return collision;\n  }\n  const distance = Point4.distance(\n    droppable.shape.center,\n    (_a = shape == null ? void 0 : shape.current.center) != null ? _a : position.current\n  );\n  const value = 1 / distance;\n  return {\n    id: droppable.id,\n    value,\n    type: CollisionType4.Collision,\n    priority: CollisionPriority4.Normal\n  };\n};\n\n// src/algorithms/directionBiased.ts\nimport { CollisionPriority as CollisionPriority5, CollisionType as CollisionType5 } from \"@dnd-kit/abstract\";\nimport { Point as Point5 } from \"@dnd-kit/geometry\";\nvar directionBiased = ({\n  dragOperation,\n  droppable\n}) => {\n  if (!droppable.shape) {\n    return null;\n  }\n  const { position, shape } = dragOperation;\n  const { direction } = position;\n  if (!shape) {\n    return null;\n  }\n  if (direction === null) {\n    return defaultCollisionDetection({ dragOperation, droppable });\n  }\n  const { center, boundingRectangle } = shape.current;\n  if (direction === \"down\" && boundingRectangle.bottom >= droppable.shape.center.y || direction === \"up\" && boundingRectangle.top <= droppable.shape.center.y || direction === \"left\" && boundingRectangle.left <= droppable.shape.center.x || direction === \"right\" && boundingRectangle.right >= droppable.shape.center.x) {\n    return {\n      id: droppable.id,\n      value: 1 / Point5.distance(droppable.shape.center, center),\n      type: CollisionType5.Collision,\n      priority: CollisionPriority5.Normal\n    };\n  }\n  return null;\n};\n\n// src/algorithms/pointerDistance.ts\nimport { CollisionPriority as CollisionPriority6, CollisionType as CollisionType6 } from \"@dnd-kit/abstract\";\nimport { Point as Point6 } from \"@dnd-kit/geometry\";\nvar pointerDistance = (input) => {\n  const { dragOperation, droppable } = input;\n  const { position } = dragOperation;\n  if (!droppable.shape) {\n    return null;\n  }\n  const distance = Point6.distance(droppable.shape.center, position.current);\n  const value = 1 / distance;\n  return {\n    id: droppable.id,\n    value,\n    type: CollisionType6.Collision,\n    priority: CollisionPriority6.Normal\n  };\n};\nexport {\n  closestCenter,\n  closestCorners,\n  defaultCollisionDetection,\n  directionBiased,\n  pointerDistance,\n  pointerIntersection,\n  shapeIntersection\n};\n", "import type {Announcements, ScreenReaderInstructions} from './types.ts';\n\nexport const defaultAttributes = {\n  role: 'button',\n  roleDescription: 'draggable',\n  tabIndex: 0,\n};\n\nexport const defaultDescriptionIdPrefix = `dnd-kit-description`;\nexport const defaultAnnouncementIdPrefix = `dnd-kit-announcement`;\n\nexport const defaultScreenReaderInstructions: ScreenReaderInstructions = {\n  draggable: `To pick up a draggable item, press the space bar. While dragging, use the arrow keys to move the item in a given direction. Press space again to drop the item in its new position, or press escape to cancel.`,\n};\n\nexport const defaultAnnouncements: Announcements = {\n  dragstart({operation: {source}}) {\n    if (!source) return;\n\n    return `Picked up draggable item ${source.id}.`;\n  },\n  dragover({operation: {source, target}}) {\n    if (!source || source.id === target?.id) return;\n\n    if (target) {\n      return `Draggable item ${source.id} was moved over droppable target ${target.id}.`;\n    }\n\n    return `Draggable item ${source.id} is no longer over a droppable target.`;\n  },\n  dragend({operation: {source, target}, canceled}) {\n    if (!source) return;\n\n    if (canceled) {\n      return `Dragging was cancelled. Draggable item ${source.id} was dropped.`;\n    }\n\n    if (target) {\n      return `Draggable item ${source.id} was dropped over droppable target ${target.id}`;\n    }\n\n    return `Draggable item ${source.id} was dropped.`;\n  },\n};\n", "export function isFocusable(element: Element) {\n  const tagName = element.tagName.toLowerCase();\n\n  return ['input', 'select', 'textarea', 'a', 'button'].includes(tagName);\n}\n", "export function createHiddenText(id: string, value: string) {\n  const element = document.createElement('div');\n\n  element.id = id;\n  element.style.setProperty('display', 'none');\n  element.textContent = value;\n\n  return element;\n}\n", "export function createLiveRegion(id: string) {\n  const element = document.createElement('div');\n\n  element.id = id;\n  element.setAttribute('role', 'status');\n  element.setAttribute('aria-live', 'polite');\n  element.setAttribute('aria-atomic', 'true');\n  element.style.setProperty('position', 'fixed');\n  element.style.setProperty('width', '1px');\n  element.style.setProperty('height', '1px');\n  element.style.setProperty('margin', '-1px');\n  element.style.setProperty('border', '0');\n  element.style.setProperty('padding', '0');\n  element.style.setProperty('overflow', 'hidden');\n  element.style.setProperty('clip', 'rect(0 0 0 0)');\n  element.style.setProperty('clip-path', 'inset(100%)');\n  element.style.setProperty('white-space', 'nowrap');\n\n  return element;\n}\n", "import {Plugin} from '@dnd-kit/abstract';\nimport {isSafari, generateUniqueId, scheduler} from '@dnd-kit/dom/utilities';\n\nimport type {DragDropManager} from '../../manager/index.ts';\nimport {\n  defaultAnnouncements,\n  defaultAttributes,\n  defaultAnnouncementIdPrefix,\n  defaultDescriptionIdPrefix,\n  defaultScreenReaderInstructions,\n} from './defaults.ts';\nimport type {Announcements, ScreenReaderInstructions} from './types.ts';\nimport {isFocusable} from './utilities.ts';\nimport {createHiddenText} from './HiddenText.ts';\nimport {createLiveRegion} from './LiveRegion.ts';\n\ninterface Options {\n  /**\n   * Optional id that should be used for the accessibility plugin's screen reader instructions and announcements.\n   */\n  id?: string;\n  /**\n   * Optional id prefix to use for the accessibility plugin's screen reader instructions and announcements.\n   */\n  idPrefix?: {\n    description?: string;\n    announcement?: string;\n  };\n  /**\n   * The announcements to use for the accessibility plugin.\n   */\n  announcements?: Announcements;\n  /**\n   * The screen reader instructions to use for the accessibility plugin.\n   */\n  screenReaderInstructions?: ScreenReaderInstructions;\n  /**\n   * The number of milliseconds to debounce the announcement updates.\n   *\n   * @remarks\n   * Only the `dragover` and `dragmove` announcements are debounced.\n   *\n   * @default 500\n   */\n  debounce?: number;\n}\n\nconst debouncedEvents = ['dragover', 'dragmove'];\n\nexport class Accessibility extends Plugin<DragDropManager> {\n  constructor(manager: DragDropManager, options?: Options) {\n    super(manager);\n\n    const {\n      id,\n      idPrefix: {\n        description: descriptionPrefix = defaultDescriptionIdPrefix,\n        announcement: announcementPrefix = defaultAnnouncementIdPrefix,\n      } = {},\n      announcements = defaultAnnouncements,\n      screenReaderInstructions = defaultScreenReaderInstructions,\n      debounce: debounceMs = 500,\n    } = options ?? {};\n\n    const descriptionId = id\n      ? `${descriptionPrefix}-${id}`\n      : generateUniqueId(descriptionPrefix);\n    const announcementId = id\n      ? `${announcementPrefix}-${id}`\n      : generateUniqueId(announcementPrefix);\n\n    let hiddenTextElement: HTMLElement | undefined;\n    let liveRegionElement: HTMLElement | undefined;\n    let liveRegionTextNode: Node | undefined;\n    let latestAnnouncement: string | undefined;\n\n    const updateAnnouncement = (value = latestAnnouncement) => {\n      if (!liveRegionTextNode || !value) return;\n      if (liveRegionTextNode?.nodeValue !== value) {\n        liveRegionTextNode.nodeValue = value;\n      }\n    };\n    const scheduleUpdateAnnouncement = () =>\n      scheduler.schedule(updateAnnouncement);\n    const debouncedUpdateAnnouncement = debounce(\n      scheduleUpdateAnnouncement,\n      debounceMs\n    );\n\n    const eventListeners = Object.entries(announcements).map(\n      ([eventName, getAnnouncement]) => {\n        return this.manager.monitor.addEventListener(\n          eventName as keyof Announcements,\n          (event: any, manager: DragDropManager) => {\n            const element = liveRegionTextNode;\n            if (!element) return;\n\n            const announcement = getAnnouncement?.(event, manager);\n\n            if (announcement && element.nodeValue !== announcement) {\n              latestAnnouncement = announcement;\n\n              if (debouncedEvents.includes(eventName)) {\n                debouncedUpdateAnnouncement();\n              } else {\n                scheduleUpdateAnnouncement();\n                debouncedUpdateAnnouncement.cancel();\n              }\n            }\n          }\n        );\n      }\n    );\n\n    const initialize = () => {\n      let elements = [];\n\n      if (!hiddenTextElement?.isConnected) {\n        hiddenTextElement = createHiddenText(\n          descriptionId,\n          screenReaderInstructions.draggable\n        );\n        elements.push(hiddenTextElement);\n      }\n\n      if (!liveRegionElement?.isConnected) {\n        liveRegionElement = createLiveRegion(announcementId);\n        liveRegionTextNode = document.createTextNode('');\n        liveRegionElement.appendChild(liveRegionTextNode);\n        elements.push(liveRegionElement);\n      }\n\n      if (elements.length > 0) {\n        document.body.append(...elements);\n      }\n    };\n\n    const mutations = new Set<() => void>();\n\n    function executeMutations() {\n      for (const operation of mutations) {\n        operation();\n      }\n    }\n\n    this.registerEffect(() => {\n      mutations.clear();\n\n      // Re-run effect when any of the draggable elements change\n      for (const draggable of this.manager.registry.draggables.value) {\n        const activator = draggable.handle ?? draggable.element;\n\n        if (activator) {\n          if (!hiddenTextElement || !liveRegionElement) {\n            mutations.add(initialize);\n          }\n\n          if (\n            (!isFocusable(activator) || isSafari()) &&\n            !activator.hasAttribute('tabindex')\n          ) {\n            mutations.add(() => activator.setAttribute('tabindex', '0'));\n          }\n\n          if (\n            !activator.hasAttribute('role') &&\n            !(activator.tagName.toLowerCase() === 'button')\n          ) {\n            mutations.add(() =>\n              activator.setAttribute('role', defaultAttributes.role)\n            );\n          }\n\n          if (!activator.hasAttribute('aria-roledescription')) {\n            mutations.add(() =>\n              activator.setAttribute(\n                'aria-roledescription',\n                defaultAttributes.roleDescription\n              )\n            );\n          }\n\n          if (!activator.hasAttribute('aria-describedby')) {\n            mutations.add(() =>\n              activator.setAttribute('aria-describedby', descriptionId)\n            );\n          }\n\n          for (const key of ['aria-pressed', 'aria-grabbed']) {\n            const value = String(draggable.isDragging);\n\n            if (activator.getAttribute(key) !== value) {\n              mutations.add(() => activator.setAttribute(key, value));\n            }\n          }\n\n          const disabled = String(draggable.disabled);\n\n          if (activator.getAttribute('aria-disabled') !== disabled) {\n            mutations.add(() =>\n              activator.setAttribute('aria-disabled', disabled)\n            );\n          }\n        }\n      }\n\n      if (mutations.size > 0) {\n        scheduler.schedule(executeMutations);\n      }\n    });\n\n    this.destroy = () => {\n      super.destroy();\n      hiddenTextElement?.remove();\n      liveRegionElement?.remove();\n      eventListeners.forEach((unsubscribe) => unsubscribe());\n    };\n  }\n}\n\nfunction debounce(fn: () => void, wait: number) {\n  let timeout: NodeJS.Timeout | undefined;\n  const debounced = () => {\n    clearTimeout(timeout);\n    timeout = setTimeout(fn, wait);\n  };\n\n  debounced.cancel = () => clearTimeout(timeout);\n\n  return debounced;\n}\n", "import {Plugin} from '@dnd-kit/abstract';\nimport {computed, effect} from '@dnd-kit/state';\nimport {getDocument} from '@dnd-kit/dom/utilities';\n\nimport {DragDropManager} from '../../manager/index.ts';\n\ninterface CursorPluginOptions {\n  /**\n   * The style of the cursor to be applied to the document body.\n   * @default 'grabbing'\n   */\n  cursor?: string;\n  /**\n   * The nonce to be applied to the style element.\n   */\n  nonce?: string;\n}\n\nexport class Cursor extends Plugin<DragDropManager> {\n  constructor(\n    public manager: DragDropManager,\n    options?: CursorPluginOptions\n  ) {\n    super(manager, options);\n\n    const doc = computed(() =>\n      getDocument(this.manager.dragOperation.source?.element)\n    );\n\n    this.destroy = effect(() => {\n      const {dragOperation} = this.manager;\n      const {cursor = 'grabbing', nonce} = this.options ?? {};\n\n      if (dragOperation.status.initialized) {\n        const document = doc.value;\n        const style = document.createElement('style');\n\n        if (nonce) {\n          style.setAttribute('nonce', nonce);\n        }\n\n        style.textContent = `* { cursor: ${cursor} !important; }`;\n        document.head.appendChild(style);\n\n        return () => style.remove();\n      }\n    });\n  }\n}\n", "export const ATTR_PREFIX = 'data-dnd-';\nexport const DROPPING_ATTRIBUTE = `${ATTR_PREFIX}dropping`;\nexport const CSS_PREFIX = '--dnd-';\nexport const ATTRIBUTE = `${ATTR_PREFIX}dragging`;\nexport const PLACEHOLDER_ATTRIBUTE = `${ATTR_PREFIX}placeholder`;\n\nexport const IGNORED_ATTRIBUTES = [\n  ATTRIBUTE,\n  PLACEHOLDER_ATTRIBUTE,\n  'popover',\n  'aria-pressed',\n  'aria-grabbing',\n];\n\nexport const IGNORED_STYLES = ['view-transition-name'];\n\nexport const CSS_RULES = `\n  :root [${ATTRIBUTE}] {\n    position: fixed !important;\n    pointer-events: none !important;\n    touch-action: none;\n    z-index: calc(infinity);\n    will-change: translate;\n    top: var(${CSS_PREFIX}top, 0px) !important;\n    left: var(${CSS_PREFIX}left, 0px) !important;\n    right: unset !important;\n    bottom: unset !important;\n    width: var(${CSS_PREFIX}width, auto);\n    max-width: var(${CSS_PREFIX}width, auto);\n    height: var(${CSS_PREFIX}height, auto);\n    max-height: var(${CSS_PREFIX}height, auto);\n    transition: var(${CSS_PREFIX}transition) !important;\n  }\n\n  :root [${PLACEHOLDER_ATTRIBUTE}] {\n    transition: none;\n  }\n\n  :root [${PLACEHOLDER_ATTRIBUTE}='hidden'] {\n    visibility: hidden;\n  }\n\n  [${ATTRIBUTE}] * {\n    pointer-events: none !important;\n  }\n\n  [${ATTRIBUTE}]:not([${DROPPING_ATTRIBUTE}]) {\n    translate: var(${CSS_PREFIX}translate) !important;\n  }\n\n  [${ATTRIBUTE}][style*='${CSS_PREFIX}scale'] {\n    scale: var(${CSS_PREFIX}scale) !important;\n    transform-origin: var(${CSS_PREFIX}transform-origin) !important;\n  }\n\n  @layer {\n    :where([${ATTRIBUTE}][popover]) {\n      overflow: visible;\n      background: unset;\n      border: unset;\n      margin: unset;\n      padding: unset;\n      color: inherit;\n\n      &:is(input, button) {\n        border: revert;\n        background: revert;\n      }\n    }\n  }\n  [${ATTRIBUTE}]::backdrop, [${ATTR_PREFIX}overlay]:not([${ATTRIBUTE}]) {\n    display: none;\n    visibility: hidden;\n  }\n`\n  .replace(/\\n+/g, ' ')\n  .replace(/\\s+/g, ' ')\n  .trim();\n", "import {untracked} from '@dnd-kit/state';\nimport {\n  cloneElement,\n  generateUniqueId,\n  getFrameElement,\n  showPopover,\n  ProxiedElements,\n  isElement,\n} from '@dnd-kit/dom/utilities';\n\nimport type {Draggable, Droppable} from '../../entities/index.ts';\nimport {ATTR_PREFIX, PLACEHOLDER_ATTRIBUTE} from './constants.ts';\n\n/**\n * Creates a placeholder element for a draggable source\n * The placeholder maintains the original element's dimensions and position\n */\nexport function createPlaceholder(\n  source: Draggable,\n  type = 'hidden'\n): Element | undefined {\n  return untracked(() => {\n    const {element, manager} = source;\n\n    if (!element || !manager) return;\n\n    const containedDroppables = findContainedDroppables(\n      element,\n      manager.registry.droppables\n    );\n    const cleanup: Array<() => void> = [];\n    const placeholder = cloneElement(element);\n    const {remove} = placeholder;\n\n    proxyDroppableElements(containedDroppables, placeholder, cleanup);\n    configurePlaceholder(placeholder, type);\n\n    // Override remove to handle cleanup of proxies\n    placeholder.remove = () => {\n      cleanup.forEach((fn) => fn());\n      remove.call(placeholder);\n    };\n\n    return placeholder;\n  });\n}\n\n/**\n * Maps droppable elements contained within the source element\n * Returns a map of droppables to their temporary identifier attributes\n */\nfunction findContainedDroppables(\n  element: Element,\n  droppables: Iterable<Droppable>\n): Map<Droppable, string> {\n  const containedDroppables = new Map<Droppable, string>();\n\n  for (const droppable of droppables) {\n    if (!droppable.element) continue;\n\n    if (element === droppable.element || element.contains(droppable.element)) {\n      const identifierAttribute = `${ATTR_PREFIX}${generateUniqueId('dom-id')}`;\n      droppable.element.setAttribute(identifierAttribute, '');\n      containedDroppables.set(droppable, identifierAttribute);\n    }\n  }\n\n  return containedDroppables;\n}\n\n/**\n * Sets up proxy relationships between original droppable elements and their clones\n */\nfunction proxyDroppableElements(\n  containedDroppables: Map<Droppable, string>,\n  placeholder: Element,\n  cleanup: Array<() => void>\n): void {\n  for (const [droppable, identifierAttribute] of containedDroppables) {\n    if (!droppable.element) continue;\n\n    const selector = `[${identifierAttribute}]`;\n    const clonedElement = placeholder.matches(selector)\n      ? placeholder\n      : placeholder.querySelector(selector);\n\n    droppable.element.removeAttribute(identifierAttribute);\n\n    if (!clonedElement) continue;\n\n    const originalElement = droppable.element;\n\n    droppable.proxy = clonedElement;\n    clonedElement.removeAttribute(identifierAttribute);\n\n    ProxiedElements.set(originalElement, clonedElement);\n\n    cleanup.push(() => {\n      ProxiedElements.delete(originalElement);\n      droppable.proxy = undefined;\n    });\n  }\n}\n\n/**\n * Configures accessibility and visual attributes for the placeholder\n */\nfunction configurePlaceholder(placeholder: Element, type = 'hidden'): void {\n  placeholder.setAttribute('inert', 'true');\n  placeholder.setAttribute('tab-index', '-1');\n  placeholder.setAttribute('aria-hidden', 'true');\n  placeholder.setAttribute(PLACEHOLDER_ATTRIBUTE, type);\n}\n\n/**\n * Checks if two elements are in the same frame context\n */\nexport function isSameFrame(element: Element, target: Element): boolean {\n  if (element === target) return true;\n  return getFrameElement(element) === getFrameElement(target);\n}\n\n/**\n * Prevent an element with the `popover` attribute from being closed\n */\nexport function preventPopoverClose(event: Event) {\n  const {target} = event;\n\n  if (\n    'newState' in event &&\n    event.newState === 'closed' &&\n    isElement(target) &&\n    target.hasAttribute('popover')\n  ) {\n    requestAnimationFrame(() => showPopover(target));\n  }\n}\n\nexport function isTableRow(element: Element): element is HTMLTableRowElement {\n  return element.tagName === 'TR';\n}\n", "import {\n  effects,\n  reactive,\n  untracked,\n  type CleanupFunction,\n} from '@dnd-kit/state';\nimport {configurator, Plugin} from '@dnd-kit/abstract';\nimport {\n  animateTransform,\n  DOMRectangle,\n  getComputedStyles,\n  getDocument,\n  getFinalKeyframe,\n  getFrameTransform,\n  getWindow,\n  isHTMLElement,\n  isKeyboardEvent,\n  parseTranslate,\n  showPopover,\n  Styles,\n  supportsPopover,\n  supportsStyle,\n} from '@dnd-kit/dom/utilities';\nimport {Coordinates, Point, Rectangle} from '@dnd-kit/geometry';\n\nimport type {DragDropManager} from '../../manager/index.ts';\nimport type {Draggable} from '../../entities/index.ts';\n\nimport {\n  ATTRIBUTE,\n  CSS_PREFIX,\n  CSS_RULES,\n  DROPPING_ATTRIBUTE,\n  IGNORED_ATTRIBUTES,\n  IGNORED_STYLES,\n} from './constants.ts';\nimport {\n  createPlaceholder,\n  isSameFrame,\n  isTableRow,\n  preventPopoverClose,\n} from './utilities.ts';\n\nexport interface FeedbackOptions {\n  rootElement?: Element | ((source: Draggable) => Element);\n  nonce?: string;\n}\n\ninterface State {\n  current: {\n    translate?: Coordinates;\n  };\n  initial: {\n    dimensions?: {width: number; height: number};\n    coordinates?: Coordinates;\n    frameTransform?: {x: number; y: number; scaleX: number; scaleY: number};\n    translate?: Coordinates;\n    transformOrigin?: Coordinates;\n  };\n}\n\ninterface StyleSheetRegistration {\n  cleanup: CleanupFunction;\n  instances: Set<Feedback>;\n}\n\nconst styleSheetRegistry = new Map<Document, StyleSheetRegistration>();\n\nexport class Feedback extends Plugin<DragDropManager, FeedbackOptions> {\n  @reactive\n  public accessor overlay: Element | undefined;\n\n  private state: State = {\n    initial: {},\n    current: {},\n  };\n\n  constructor(manager: DragDropManager, options?: FeedbackOptions) {\n    super(manager, options);\n\n    this.registerEffect(this.#injectStyles);\n    this.registerEffect(this.#render);\n  }\n\n  #render() {\n    const {state, manager, options} = this;\n    const {dragOperation} = manager;\n    const {position, source, status} = dragOperation;\n\n    if (status.idle) {\n      state.current = {};\n      state.initial = {};\n      return;\n    }\n\n    if (!source) return;\n\n    const {element, feedback} = source;\n\n    if (\n      !element ||\n      feedback === 'none' ||\n      !status.initialized ||\n      status.initializing\n    ) {\n      return;\n    }\n\n    const {initial} = state;\n    const feedbackElement = this.overlay ?? element;\n    const frameTransform = getFrameTransform(feedbackElement);\n    const elementFrameTransform = getFrameTransform(element);\n    const crossFrame = !isSameFrame(element, feedbackElement);\n    const shape = new DOMRectangle(element, {\n      frameTransform: crossFrame ? elementFrameTransform : null,\n      ignoreTransforms: !crossFrame,\n    });\n    const scaleDelta = {\n      x: elementFrameTransform.scaleX / frameTransform.scaleX,\n      y: elementFrameTransform.scaleY / frameTransform.scaleY,\n    };\n\n    let {width, height, top, left} = shape;\n\n    if (crossFrame) {\n      width = width / scaleDelta.x;\n      height = height / scaleDelta.y;\n    }\n\n    let elementMutationObserver: MutationObserver | undefined;\n    let documentMutationObserver: MutationObserver | undefined;\n    const styles = new Styles(feedbackElement);\n    const {\n      transition,\n      translate,\n      boxSizing,\n      paddingBlockStart,\n      paddingBlockEnd,\n      paddingInlineStart,\n      paddingInlineEnd,\n      borderInlineStartWidth,\n      borderInlineEndWidth,\n      borderBlockStartWidth,\n      borderBlockEndWidth,\n    } = getComputedStyles(element);\n    const clone = feedback === 'clone';\n    const contentBox = boxSizing === 'content-box';\n    const widthOffset = contentBox\n      ? parseInt(paddingInlineStart) +\n        parseInt(paddingInlineEnd) +\n        parseInt(borderInlineStartWidth) +\n        parseInt(borderInlineEndWidth)\n      : 0;\n    const heightOffset = contentBox\n      ? parseInt(paddingBlockStart) +\n        parseInt(paddingBlockEnd) +\n        parseInt(borderBlockStartWidth) +\n        parseInt(borderBlockEndWidth)\n      : 0;\n\n    const placeholder =\n      feedback !== 'move' && !this.overlay\n        ? createPlaceholder(source, clone ? 'clone' : 'hidden')\n        : null;\n    const isKeyboardOperation = untracked(() =>\n      isKeyboardEvent(manager.dragOperation.activatorEvent)\n    );\n\n    if (translate !== 'none') {\n      const parsedTranslate = parseTranslate(translate);\n\n      if (parsedTranslate && !initial.translate) {\n        initial.translate = parsedTranslate;\n      }\n    }\n\n    if (!initial.transformOrigin) {\n      const current = untracked(() => position.current);\n\n      initial.transformOrigin = {\n        x:\n          (current.x - left * frameTransform.scaleX - frameTransform.x) /\n          (width * frameTransform.scaleX),\n        y:\n          (current.y - top * frameTransform.scaleY - frameTransform.y) /\n          (height * frameTransform.scaleY),\n      };\n    }\n\n    const {transformOrigin} = initial;\n    const relativeTop = top * frameTransform.scaleY + frameTransform.y;\n    const relativeLeft = left * frameTransform.scaleX + frameTransform.x;\n\n    if (!initial.coordinates) {\n      initial.coordinates = {\n        x: relativeLeft,\n        y: relativeTop,\n      };\n\n      // Compoensate for transformOrigin when scaling\n      if (scaleDelta.x !== 1 || scaleDelta.y !== 1) {\n        const {scaleX, scaleY} = elementFrameTransform;\n        const {x: tX, y: tY} = transformOrigin;\n\n        initial.coordinates.x += (width * scaleX - width) * tX;\n        initial.coordinates.y += (height * scaleY - height) * tY;\n      }\n    }\n\n    if (!initial.dimensions) {\n      initial.dimensions = {width, height};\n    }\n\n    if (!initial.frameTransform) {\n      initial.frameTransform = frameTransform;\n    }\n\n    const coordinatesDelta = {\n      x: initial.coordinates.x - relativeLeft,\n      y: initial.coordinates.y - relativeTop,\n    };\n\n    const sizeDelta = {\n      width:\n        (initial.dimensions.width * initial.frameTransform.scaleX -\n          width * frameTransform.scaleX) *\n        transformOrigin.x,\n      height:\n        (initial.dimensions.height * initial.frameTransform.scaleY -\n          height * frameTransform.scaleY) *\n        transformOrigin.y,\n    };\n\n    const delta = {\n      x: coordinatesDelta.x / frameTransform.scaleX + sizeDelta.width,\n      y: coordinatesDelta.y / frameTransform.scaleY + sizeDelta.height,\n    };\n\n    const projected = {\n      left: left + delta.x,\n      top: top + delta.y,\n    };\n\n    feedbackElement.setAttribute(ATTRIBUTE, 'true');\n\n    const transform = untracked(() => dragOperation.transform);\n    const initialTranslate = initial.translate ?? {x: 0, y: 0};\n    const tX = transform.x * frameTransform.scaleX + initialTranslate.x;\n    const tY = transform.y * frameTransform.scaleY + initialTranslate.y;\n    const translateString = `${tX}px ${tY}px 0`;\n    const transitionString = transition\n      ? `${transition}, translate 0ms linear`\n      : '';\n\n    styles.set(\n      {\n        width: width - widthOffset,\n        height: height - heightOffset,\n        top: projected.top,\n        left: projected.left,\n        translate: translateString,\n        transition: transitionString,\n        scale: crossFrame ? `${scaleDelta.x} ${scaleDelta.y}` : '',\n        'transform-origin': `${transformOrigin.x * 100}% ${transformOrigin.y * 100}%`,\n      },\n      CSS_PREFIX\n    );\n\n    if (placeholder) {\n      element.insertAdjacentElement('afterend', placeholder);\n\n      if (options?.rootElement) {\n        const root =\n          typeof options.rootElement === 'function'\n            ? options.rootElement(source)\n            : options.rootElement;\n\n        root.appendChild(element);\n      }\n    }\n\n    if (supportsPopover(feedbackElement)) {\n      if (!feedbackElement.hasAttribute('popover')) {\n        feedbackElement.setAttribute('popover', 'manual');\n      }\n      showPopover(feedbackElement);\n      feedbackElement.addEventListener('beforetoggle', preventPopoverClose);\n    }\n\n    const resizeObserver = new ResizeObserver(() => {\n      if (!placeholder) return;\n\n      const placeholderShape = new DOMRectangle(placeholder, {\n        frameTransform,\n        ignoreTransforms: true,\n      });\n      const origin = transformOrigin ?? {x: 1, y: 1};\n      const dX = (width - placeholderShape.width) * origin.x + delta.x;\n      const dY = (height - placeholderShape.height) * origin.y + delta.y;\n\n      styles.set(\n        {\n          width: placeholderShape.width - widthOffset,\n          height: placeholderShape.height - heightOffset,\n          top: top + dY,\n          left: left + dX,\n        },\n        CSS_PREFIX\n      );\n      elementMutationObserver?.takeRecords();\n\n      /* Table cells need to have their width set explicitly because the feedback element is position fixed */\n      if (isTableRow(element) && isTableRow(placeholder)) {\n        const cells = Array.from(element.cells);\n        const placeholderCells = Array.from(placeholder.cells);\n\n        for (const [index, cell] of cells.entries()) {\n          const placeholderCell = placeholderCells[index];\n\n          cell.style.width = `${placeholderCell.offsetWidth}px`;\n        }\n      }\n\n      dragOperation.shape = new DOMRectangle(feedbackElement);\n    });\n\n    /* Initialize drag operation shape */\n    const initialShape = new DOMRectangle(feedbackElement);\n    untracked(() => (dragOperation.shape = initialShape));\n\n    const feedbackWindow = getWindow(feedbackElement);\n    const handleWindowResize = (event: Event) => {\n      this.manager.actions.stop({event});\n    };\n\n    if (isKeyboardOperation) {\n      feedbackWindow.addEventListener('resize', handleWindowResize);\n    }\n\n    if (untracked(() => source.status) === 'idle') {\n      requestAnimationFrame(() => (source.status = 'dragging'));\n    }\n\n    if (placeholder) {\n      resizeObserver.observe(placeholder);\n\n      elementMutationObserver = new MutationObserver((mutations) => {\n        let hasChildrenMutations = false;\n\n        for (const mutation of mutations) {\n          if (mutation.target !== element) {\n            hasChildrenMutations = true;\n            continue;\n          }\n\n          if (mutation.type !== 'attributes') {\n            // Should never happen, but defensive programming just in case\n            continue;\n          }\n\n          // Attribute name is guaranteed to be non-null if type is \"attributes\"\n          // https://developer.mozilla.org/en-US/docs/Web/API/MutationRecord/attributeName#value\n          const attributeName = mutation.attributeName!;\n\n          if (\n            attributeName.startsWith('aria-') ||\n            IGNORED_ATTRIBUTES.includes(attributeName)\n          ) {\n            continue;\n          }\n\n          const attributeValue = element.getAttribute(attributeName);\n\n          if (attributeName === 'style') {\n            if (supportsStyle(element) && supportsStyle(placeholder)) {\n              const styles = element.style;\n\n              for (const key of Array.from(placeholder.style)) {\n                if (styles.getPropertyValue(key) === '') {\n                  placeholder.style.removeProperty(key);\n                }\n              }\n\n              for (const key of Array.from(styles)) {\n                if (\n                  IGNORED_STYLES.includes(key) ||\n                  key.startsWith(CSS_PREFIX)\n                ) {\n                  continue;\n                }\n\n                const value = styles.getPropertyValue(key);\n\n                placeholder.style.setProperty(key, value);\n              }\n            }\n          } else if (attributeValue !== null) {\n            placeholder.setAttribute(attributeName, attributeValue);\n          } else {\n            placeholder.removeAttribute(attributeName);\n          }\n        }\n\n        if (hasChildrenMutations && clone) {\n          placeholder.innerHTML = element.innerHTML;\n        }\n      });\n\n      elementMutationObserver.observe(element, {\n        attributes: true,\n        subtree: true,\n        childList: true,\n      });\n\n      /* Make sure the placeholder and the source element positions are always in sync */\n      documentMutationObserver = new MutationObserver((entries) => {\n        for (const entry of entries) {\n          if (entry.addedNodes.length === 0) continue;\n\n          for (const node of Array.from(entry.addedNodes)) {\n            if (\n              node.contains(element) &&\n              element.nextElementSibling !== placeholder\n            ) {\n              /* Update the position of the placeholder when the source element is moved */\n              element.insertAdjacentElement('afterend', placeholder);\n              /* Force the source element to be promoted back to the top layer */\n              showPopover(feedbackElement);\n              return;\n            }\n\n            if (\n              node.contains(placeholder) &&\n              placeholder.previousElementSibling !== element\n            ) {\n              /* Update the position of the source element when the placeholder is moved */\n              placeholder.insertAdjacentElement('beforebegin', element);\n              /* Force the source element to be promoted back to the top layer */\n              showPopover(feedbackElement);\n              return;\n            }\n          }\n        }\n      });\n\n      /* Observe mutations on the element's owner document body */\n      documentMutationObserver.observe(element.ownerDocument.body, {\n        childList: true,\n        subtree: true,\n      });\n    }\n\n    const id = manager.dragOperation.source?.id;\n\n    const restoreFocus = () => {\n      if (!isKeyboardOperation || id == null) {\n        return;\n      }\n\n      const draggable = manager.registry.draggables.get(id);\n      const element = draggable?.handle ?? draggable?.element;\n\n      if (isHTMLElement(element)) {\n        element.focus();\n      }\n    };\n    const cleanup = () => {\n      elementMutationObserver?.disconnect();\n      documentMutationObserver?.disconnect();\n      resizeObserver.disconnect();\n      feedbackWindow.removeEventListener('resize', handleWindowResize);\n\n      if (supportsPopover(feedbackElement)) {\n        feedbackElement.removeEventListener(\n          'beforetoggle',\n          preventPopoverClose\n        );\n        feedbackElement.removeAttribute('popover');\n      }\n\n      feedbackElement.removeAttribute(ATTRIBUTE);\n      styles.reset();\n\n      source.status = 'idle';\n\n      const moved = state.current.translate != null;\n\n      if (\n        placeholder &&\n        (moved ||\n          placeholder.parentElement !== feedbackElement.parentElement) &&\n        feedbackElement.isConnected\n      ) {\n        placeholder.replaceWith(feedbackElement);\n      }\n\n      placeholder?.remove();\n    };\n\n    const cleanupEffects = effects(\n      // Update transform on move\n      () => {\n        const {transform, status} = dragOperation;\n\n        if (!transform.x && !transform.y && !state.current.translate) {\n          return;\n        }\n\n        if (status.dragging) {\n          const initialTranslate = initial.translate ?? {x: 0, y: 0};\n          const translate = {\n            x: transform.x / frameTransform.scaleX + initialTranslate.x,\n            y: transform.y / frameTransform.scaleY + initialTranslate.y,\n          };\n          const previousTranslate = state.current.translate;\n          const modifiers = untracked(() => dragOperation.modifiers);\n          const currentShape = untracked(() => dragOperation.shape?.current);\n          const translateTransition = isKeyboardOperation\n            ? '250ms cubic-bezier(0.25, 1, 0.5, 1)'\n            : '0ms linear';\n\n          styles.set(\n            {\n              transition: `${transition}, translate ${translateTransition}`,\n              translate: `${translate.x}px ${translate.y}px 0`,\n            },\n            CSS_PREFIX\n          );\n          elementMutationObserver?.takeRecords();\n\n          if (\n            currentShape &&\n            currentShape !== initialShape &&\n            previousTranslate &&\n            !modifiers.length\n          ) {\n            const delta = Point.delta(translate, previousTranslate);\n\n            dragOperation.shape = Rectangle.from(\n              currentShape.boundingRectangle\n            ).translate(\n              // Need to take into account frame transform when optimistically updating shape\n              delta.x * frameTransform.scaleX,\n              delta.y * frameTransform.scaleY\n            );\n          } else {\n            dragOperation.shape = new DOMRectangle(feedbackElement);\n          }\n\n          state.current.translate = translate;\n        }\n      },\n      // Drop animation\n      function () {\n        if (dragOperation.status.dropped) {\n          // Dispose of the effect\n          this.dispose();\n\n          source.status = 'dropping';\n\n          let translate = state.current.translate;\n          const moved = translate != null;\n\n          if (!translate && element !== feedbackElement) {\n            translate = {\n              x: 0,\n              y: 0,\n            };\n          }\n\n          if (!translate) {\n            cleanup();\n            return;\n          }\n\n          const dropAnimation = () => {\n            {\n              /* Force the source element to be promoted to the top layer before animating it */\n              showPopover(feedbackElement);\n\n              // Pause any translate transitions that are running on the feedback element\n              const [, animation] =\n                getFinalKeyframe(\n                  feedbackElement,\n                  (keyframe) => 'translate' in keyframe\n                ) ?? [];\n\n              animation?.pause();\n\n              const target = placeholder ?? element;\n              const options = {\n                frameTransform: isSameFrame(feedbackElement, target)\n                  ? null\n                  : undefined,\n              };\n              const current = new DOMRectangle(feedbackElement, options);\n              // With a keyboard activator, since there is a transition on the translate property,\n              // the translate value may not be the same as the computed value if the transition is still running.\n              const currentTranslate =\n                parseTranslate(getComputedStyles(feedbackElement).translate) ??\n                translate;\n              const final = new DOMRectangle(target, options);\n              const delta = Rectangle.delta(current, final, source.alignment);\n              const finalTranslate = {\n                x: currentTranslate.x - delta.x,\n                y: currentTranslate.y - delta.y,\n              };\n              const heightKeyframes =\n                Math.round(current.intrinsicHeight) !==\n                Math.round(final.intrinsicHeight)\n                  ? {\n                      minHeight: [\n                        `${current.intrinsicHeight}px`,\n                        `${final.intrinsicHeight}px`,\n                      ],\n                      maxHeight: [\n                        `${current.intrinsicHeight}px`,\n                        `${final.intrinsicHeight}px`,\n                      ],\n                    }\n                  : {};\n              const widthKeyframes =\n                Math.round(current.intrinsicWidth) !==\n                Math.round(final.intrinsicWidth)\n                  ? {\n                      minWidth: [\n                        `${current.intrinsicWidth}px`,\n                        `${final.intrinsicWidth}px`,\n                      ],\n                      maxWidth: [\n                        `${current.intrinsicWidth}px`,\n                        `${final.intrinsicWidth}px`,\n                      ],\n                    }\n                  : {};\n\n              styles.set({transition}, CSS_PREFIX);\n              feedbackElement.setAttribute(DROPPING_ATTRIBUTE, '');\n              elementMutationObserver?.takeRecords();\n\n              animateTransform({\n                element: feedbackElement,\n                keyframes: {\n                  ...heightKeyframes,\n                  ...widthKeyframes,\n                  translate: [\n                    `${currentTranslate.x}px ${currentTranslate.y}px 0`,\n                    `${finalTranslate.x}px ${finalTranslate.y}px 0`,\n                  ],\n                },\n                options: {\n                  duration: moved || feedbackElement !== element ? 250 : 0,\n                  easing: 'ease',\n                },\n              }).then(() => {\n                feedbackElement.removeAttribute(DROPPING_ATTRIBUTE);\n                animation?.finish();\n                cleanup();\n                requestAnimationFrame(restoreFocus);\n              });\n            }\n          };\n\n          manager.renderer.rendering.then(dropAnimation);\n        }\n      }\n    );\n\n    return () => {\n      cleanup();\n      cleanupEffects();\n    };\n  }\n\n  #injectStyles() {\n    const {status, source, target} = this.manager.dragOperation;\n    const {nonce} = this.options ?? {};\n\n    if (status.initializing) {\n      const sourceDocument = getDocument(source?.element ?? null);\n      const targetDocument = getDocument(target?.element ?? null);\n      const documents = new Set([sourceDocument, targetDocument]);\n\n      for (const doc of documents) {\n        let registration = styleSheetRegistry.get(doc);\n\n        if (!registration) {\n          const style = document.createElement('style');\n          style.textContent = CSS_RULES;\n          if (nonce) {\n            style.setAttribute('nonce', nonce);\n          }\n          doc.head.prepend(style);\n          const mutationObserver = new MutationObserver((entries) => {\n            for (const entry of entries) {\n              if (entry.type === 'childList') {\n                const removedNodes = Array.from(entry.removedNodes);\n\n                if (removedNodes.length > 0 && removedNodes.includes(style)) {\n                  // Re-inject the style tag if it gets removed from the DOM\n                  doc.head.prepend(style);\n                }\n              }\n            }\n          });\n          mutationObserver.observe(doc.head, {childList: true});\n\n          registration = {\n            cleanup: () => {\n              mutationObserver.disconnect();\n              style.remove();\n            },\n            instances: new Set(),\n          };\n          styleSheetRegistry.set(doc, registration);\n        }\n\n        // Track this instance for this document\n        registration.instances.add(this);\n      }\n    }\n  }\n\n  public destroy(): void {\n    super.destroy();\n\n    // Clean up documents this instance was tracking\n    for (const [doc, registration] of styleSheetRegistry.entries()) {\n      if (registration.instances.has(this)) {\n        registration.instances.delete(this);\n\n        // If no more instances are using this document, clean it up\n        if (registration.instances.size === 0) {\n          registration.cleanup();\n          styleSheetRegistry.delete(doc);\n        }\n      }\n    }\n  }\n\n  static configure = configurator(Feedback);\n}\n", "import {reactive} from '@dnd-kit/state';\nimport {ScrollDirection as Direction} from '@dnd-kit/dom/utilities';\n\nconst LOCKED = true;\nconst UNLOCKED = false;\n\nexport class ScrollLock {\n  @reactive private accessor [Direction.Forward] = LOCKED;\n  @reactive private accessor [Direction.Reverse] = LOCKED;\n\n  public isLocked(direction?: Direction): boolean {\n    if (direction === Direction.Idle) {\n      return false;\n    }\n\n    if (direction == null) {\n      return (\n        this[Direction.Forward] === LOCKED && this[Direction.Reverse] === LOCKED\n      );\n    }\n\n    return this[direction] === LOCKED;\n  }\n\n  public unlock(direction: Direction) {\n    if (direction === Direction.Idle) {\n      return;\n    }\n\n    this[direction] = UNLOCKED;\n  }\n}\n", "import {batch, effect, signal, type Signal} from '@dnd-kit/state';\nimport {Plugin} from '@dnd-kit/abstract';\nimport {Axes} from '@dnd-kit/geometry';\nimport type {Coordinates} from '@dnd-kit/geometry';\nimport {ScrollDirection} from '@dnd-kit/dom/utilities';\n\nimport type {DragDropManager} from '../../manager/index.ts';\n\nimport {ScrollLock} from './ScrollLock.ts';\n\nconst DIRECTIONS = [ScrollDirection.Forward, ScrollDirection.Reverse];\n\nclass ScrollIntent {\n  public x = new ScrollLock();\n  public y = new ScrollLock();\n\n  public isLocked(): boolean {\n    return this.x.isLocked() && this.y.isLocked();\n  }\n}\n\nexport class ScrollIntentTracker extends Plugin<DragDropManager> {\n  private signal: Signal<ScrollIntent | null>;\n\n  constructor(manager: DragDropManager) {\n    super(manager);\n\n    const scrollIntent = signal<ScrollIntent>(new ScrollIntent());\n    let previousDelta: Coordinates | null = null;\n\n    this.signal = scrollIntent;\n\n    effect(() => {\n      const {status} = manager.dragOperation;\n\n      if (!status.initialized) {\n        previousDelta = null;\n        scrollIntent.value = new ScrollIntent();\n        return;\n      }\n\n      const {delta} = manager.dragOperation.position;\n\n      if (previousDelta) {\n        const directions = {\n          x: getDirection(delta.x, previousDelta.x),\n          y: getDirection(delta.y, previousDelta.y),\n        };\n\n        const intent = scrollIntent.peek();\n\n        batch(() => {\n          for (const axis of Axes) {\n            for (const direction of DIRECTIONS) {\n              if (directions[axis] === direction) {\n                intent[axis].unlock(direction);\n              }\n            }\n          }\n\n          scrollIntent.value = intent;\n        });\n      }\n\n      previousDelta = delta;\n    });\n  }\n\n  get current(): ScrollIntent | null {\n    return this.signal.peek();\n  }\n}\n\nfunction getDirection(a: number, b: number): ScrollDirection {\n  return Math.sign(a - b);\n}\n", "import {CorePlugin} from '@dnd-kit/abstract';\nimport {computed, deepEqual, reactive} from '@dnd-kit/state';\nimport {\n  canScroll,\n  detectScrollIntent,\n  getScrollableAncestors,\n  getElementFromPoint,\n  ScrollDirection,\n  scheduler,\n  isKeyboardEvent,\n  getDocument,\n  getFrameTransform,\n} from '@dnd-kit/dom/utilities';\nimport {Axes, type Coordinates} from '@dnd-kit/geometry';\n\nimport type {DragDropManager} from '../../manager/index.ts';\n\nimport {ScrollIntentTracker} from './ScrollIntent.ts';\n\nexport class Scroller extends CorePlugin<DragDropManager> {\n  public getScrollableElements: () => Set<Element> | null;\n\n  private scrollIntentTracker: ScrollIntentTracker;\n\n  @reactive\n  public accessor autoScrolling = false;\n\n  constructor(manager: DragDropManager) {\n    super(manager);\n\n    let previousElementFromPoint: Element | null = null;\n    let previousScrollableElements: Set<Element> | null = null;\n    const elementFromPoint = computed(() => {\n      const {position, source} = manager.dragOperation;\n\n      if (!position) {\n        return null;\n      }\n\n      const element = getElementFromPoint(\n        getDocument(source?.element),\n        position.current\n      );\n\n      if (element) {\n        previousElementFromPoint = element;\n      }\n\n      return element ?? previousElementFromPoint;\n    });\n    const scrollableElements = computed(() => {\n      const element = elementFromPoint.value;\n      const {documentElement} = getDocument(element);\n\n      if (!element || element === documentElement) {\n        const {target} = manager.dragOperation;\n        const targetElement = target?.element;\n\n        if (targetElement) {\n          const elements = getScrollableAncestors(targetElement, {\n            excludeElement: false,\n          });\n          previousScrollableElements = elements;\n\n          return elements;\n        }\n      }\n\n      if (element) {\n        const elements = getScrollableAncestors(element, {\n          excludeElement: false,\n        });\n\n        if (\n          this.autoScrolling &&\n          previousScrollableElements &&\n          elements.size < previousScrollableElements?.size\n        ) {\n          return previousScrollableElements;\n        }\n\n        previousScrollableElements = elements;\n\n        return elements;\n      }\n\n      previousScrollableElements = null;\n\n      return null;\n    }, deepEqual);\n\n    this.getScrollableElements = () => {\n      return scrollableElements.value;\n    };\n\n    this.scrollIntentTracker = new ScrollIntentTracker(manager);\n\n    this.destroy = manager.monitor.addEventListener('dragmove', (event) => {\n      if (\n        this.disabled ||\n        event.defaultPrevented ||\n        !isKeyboardEvent(manager.dragOperation.activatorEvent) ||\n        !event.by\n      ) {\n        return;\n      }\n\n      // Prevent the move event if we can scroll to the new coordinates\n      if (this.scroll({by: event.by})) {\n        event.preventDefault();\n      }\n    });\n  }\n\n  #meta: {element: Element; by: Coordinates} | undefined;\n\n  #scroll = () => {\n    if (!this.#meta) {\n      return;\n    }\n\n    const {element, by} = this.#meta;\n\n    if (by.y) element.scrollTop += by.y;\n    if (by.x) element.scrollLeft += by.x;\n  };\n\n  public scroll = (options?: {by: Coordinates}): boolean => {\n    if (this.disabled) {\n      return false;\n    }\n\n    const elements = this.getScrollableElements();\n\n    if (!elements) {\n      this.#meta = undefined;\n      return false;\n    }\n\n    const {position} = this.manager.dragOperation;\n    const currentPosition = position?.current;\n\n    if (currentPosition) {\n      const {by} = options ?? {};\n      const intent = by\n        ? {\n            x: getScrollIntent(by.x),\n            y: getScrollIntent(by.y),\n          }\n        : undefined;\n      const scrollIntent = intent\n        ? undefined\n        : this.scrollIntentTracker.current;\n\n      if (scrollIntent?.isLocked()) {\n        return false;\n      }\n\n      for (const scrollableElement of elements) {\n        const elementCanScroll = canScroll(scrollableElement, by);\n\n        if (elementCanScroll.x || elementCanScroll.y) {\n          const {speed, direction} = detectScrollIntent(\n            scrollableElement,\n            currentPosition,\n            intent\n          );\n\n          if (scrollIntent) {\n            for (const axis of Axes) {\n              if (scrollIntent[axis].isLocked(direction[axis])) {\n                speed[axis] = 0;\n                direction[axis] = 0;\n              }\n            }\n          }\n\n          if (direction.x || direction.y) {\n            const {x, y} = by ?? direction;\n            const scrollLeftBy = x * speed.x;\n            const scrollTopBy = y * speed.y;\n\n            if (scrollLeftBy || scrollTopBy) {\n              const previousScrollBy = this.#meta?.by;\n\n              if (this.autoScrolling && previousScrollBy) {\n                const scrollIntentMismatch =\n                  (previousScrollBy.x && !scrollLeftBy) ||\n                  (previousScrollBy.y && !scrollTopBy);\n\n                if (scrollIntentMismatch) continue;\n              }\n\n              this.#meta = {\n                element: scrollableElement,\n                by: {\n                  x: scrollLeftBy,\n                  y: scrollTopBy,\n                },\n              };\n\n              scheduler.schedule(this.#scroll);\n\n              return true;\n            }\n          }\n        }\n      }\n    }\n\n    this.#meta = undefined;\n    return false;\n  };\n}\n\nfunction getScrollIntent(value: number) {\n  if (value > 0) {\n    return ScrollDirection.Forward;\n  }\n\n  if (value < 0) {\n    return ScrollDirection.Reverse;\n  }\n\n  return ScrollDirection.Idle;\n}\n", "type Callback = () => void;\n\nexport class Scheduler<T extends (callback: Callback) => any> {\n  constructor(private scheduler: T) {}\n\n  private pending: boolean = false;\n  private tasks: Set<() => void> = new Set();\n  private resolvers: Set<() => void> = new Set();\n\n  public schedule(task: () => void): Promise<void> {\n    this.tasks.add(task);\n\n    if (!this.pending) {\n      this.pending = true;\n      this.scheduler(this.flush);\n    }\n\n    return new Promise<void>((resolve) => this.resolvers.add(resolve));\n  }\n\n  public flush = () => {\n    const {tasks, resolvers} = this;\n\n    this.pending = false;\n    this.tasks = new Set();\n    this.resolvers = new Set();\n\n    for (const task of tasks) {\n      task();\n    }\n\n    for (const resolve of resolvers) {\n      resolve();\n    }\n  };\n}\n\nexport const scheduler = new Scheduler((callback) => {\n  if (typeof requestAnimationFrame === 'function') {\n    requestAnimationFrame(callback);\n  } else {\n    callback();\n  }\n});\n", "import {Plugin} from '@dnd-kit/abstract';\nimport {effect} from '@dnd-kit/state';\nimport type {CleanupFunction} from '@dnd-kit/state';\n\nimport type {DragDropManager} from '../../manager/index.ts';\nimport {Scroller} from './Scroller.ts';\nimport {scheduler} from '../../../utilities/scheduling/scheduler.ts';\n\ninterface Options {}\n\nconst AUTOSCROLL_INTERVAL = 10;\n\nexport class AutoScroller extends Plugin<DragDropManager> {\n  public destroy: CleanupFunction;\n\n  constructor(manager: DragDropManager, _options?: Options) {\n    super(manager);\n\n    const scroller = manager.registry.plugins.get(Scroller);\n\n    if (!scroller) {\n      throw new Error('AutoScroller plugin depends on Scroller plugin');\n    }\n\n    this.destroy = effect(() => {\n      if (this.disabled) {\n        return;\n      }\n\n      // We consume the position from the drag operation\n      // so that this effect is run when the position changes\n      const {position: _, status} = manager.dragOperation;\n\n      if (status.dragging) {\n        const canScroll = scroller.scroll();\n\n        if (canScroll) {\n          scroller.autoScrolling = true;\n          const interval = setInterval(\n            () => scheduler.schedule(scroller.scroll),\n            AUTOSCROLL_INTERVAL\n          );\n\n          return () => {\n            clearInterval(interval);\n          };\n        } else {\n          scroller.autoScrolling = false;\n        }\n      }\n    });\n  }\n}\n", "import {CorePlugin} from '@dnd-kit/abstract';\nimport {effect} from '@dnd-kit/state';\n\nimport type {DragDropManager} from '../../manager/index.ts';\n\nconst listenerOptions: AddEventListenerOptions = {\n  capture: true,\n  passive: true,\n};\n\nexport class ScrollListener extends CorePlugin<DragDropManager> {\n  #timeout: NodeJS.Timeout | undefined;\n\n  constructor(manager: DragDropManager) {\n    super(manager);\n\n    const {dragOperation} = this.manager;\n\n    this.destroy = effect(() => {\n      const enabled = dragOperation.status.dragging;\n\n      if (enabled) {\n        const root = dragOperation.source?.element?.ownerDocument ?? document;\n\n        root.addEventListener('scroll', this.handleScroll, listenerOptions);\n\n        return () => {\n          root.removeEventListener(\n            'scroll',\n            this.handleScroll,\n            listenerOptions\n          );\n        };\n      }\n    });\n  }\n\n  private handleScroll = () => {\n    if (this.#timeout == null) {\n      this.#timeout = setTimeout(() => {\n        this.manager.collisionObserver.forceUpdate(false);\n        this.#timeout = undefined;\n      }, 50);\n    }\n  };\n}\n", "import {Plugin} from '@dnd-kit/abstract';\nimport {effect} from '@dnd-kit/state';\n\nimport {DragDropManager} from '../../manager/index.ts';\n\ninterface PreventSelectionPluginOptions {\n  /**\n   * The nonce to be applied to the style element.\n   */\n  nonce?: string;\n}\n\nexport class PreventSelection extends Plugin<DragDropManager> {\n  constructor(\n    public manager: DragDropManager,\n    options?: PreventSelectionPluginOptions\n  ) {\n    super(manager, options);\n\n    this.destroy = effect(() => {\n      const {dragOperation} = this.manager;\n      const {nonce} = this.options ?? {};\n\n      if (dragOperation.status.initialized) {\n        const style = document.createElement('style');\n        if (nonce) {\n          style.setAttribute('nonce', nonce);\n        }\n        style.textContent = `* { user-select: none !important; -webkit-user-select: none !important; }`;\n        document.head.appendChild(style);\n\n        removeSelection();\n        document.addEventListener('selectionchange', removeSelection, {\n          capture: true,\n        });\n\n        return () => {\n          document.removeEventListener('selectionchange', removeSelection, {\n            capture: true,\n          });\n          style.remove();\n        };\n      }\n    });\n  }\n}\n\nfunction removeSelection() {\n  document.getSelection()?.removeAllRanges();\n}\n", "import {configurator, Sensor} from '@dnd-kit/abstract';\nimport {effect} from '@dnd-kit/state';\nimport type {CleanupFunction} from '@dnd-kit/state';\nimport {\n  getDocument,\n  isElement,\n  isKeyboardEvent,\n  scrollIntoViewIfNeeded,\n  Listeners,\n  DOMRectangle,\n} from '@dnd-kit/dom/utilities';\n\nimport type {DragDropManager} from '../../manager/index.ts';\nimport type {Draggable} from '../../entities/index.ts';\nimport {AutoScroller} from '../../plugins/index.ts';\n\nexport type KeyCode = KeyboardEvent['code'];\n\nexport type KeyboardCodes = {\n  start: KeyCode[];\n  cancel: KeyCode[];\n  end: KeyCode[];\n  up: KeyCode[];\n  down: KeyCode[];\n  left: KeyCode[];\n  right: KeyCode[];\n};\n\nexport interface KeyboardSensorOptions {\n  /**\n   * The offset by which the keyboard sensor should move the draggable.\n   *\n   * @default 10\n   */\n  offset?: number | {x: number; y: number};\n  /**\n   * The keyboard codes that activate the keyboard sensor.\n   *\n   * @default {\n   *   start: ['Space', 'Enter'],\n   *   cancel: ['Escape'],\n   *   end: ['Space', 'Enter', 'Tab'],\n   *   up: ['ArrowUp'],\n   *   down: ['ArrowDown'],\n   *   left: ['ArrowLeft'],\n   *   right: ['ArrowRight']\n   * }\n   */\n  keyboardCodes?: KeyboardCodes;\n  /**\n   * Function that determines if the keyboard sensor should activate.\n   */\n  shouldActivate?(args: {\n    event: KeyboardEvent;\n    source: Draggable;\n    manager: DragDropManager;\n  }): boolean;\n}\n\nconst defaults = Object.freeze<Required<KeyboardSensorOptions>>({\n  offset: 10,\n  keyboardCodes: {\n    start: ['Space', 'Enter'],\n    cancel: ['Escape'],\n    end: ['Space', 'Enter', 'Tab'],\n    up: ['ArrowUp'],\n    down: ['ArrowDown'],\n    left: ['ArrowLeft'],\n    right: ['ArrowRight'],\n  },\n  shouldActivate(args: {\n    event: KeyboardEvent;\n    source: Draggable;\n    manager: DragDropManager;\n  }) {\n    const {event, source} = args;\n    const target = source.handle ?? source.element;\n    return event.target === target;\n  },\n});\n\n/**\n * The KeyboardSensor class is an input sensor that handles Keyboard events.\n */\nexport class KeyboardSensor extends Sensor<\n  DragDropManager,\n  KeyboardSensorOptions\n> {\n  constructor(\n    public manager: DragDropManager,\n    public options?: KeyboardSensorOptions\n  ) {\n    super(manager);\n  }\n\n  #cleanupFunctions: CleanupFunction[] = [];\n\n  protected listeners = new Listeners();\n\n  public bind(source: Draggable, options = this.options) {\n    const unbind = effect(() => {\n      const target = source.handle ?? source.element;\n      const listener: EventListener = (event: Event) => {\n        if (isKeyboardEvent(event)) {\n          this.handleSourceKeyDown(event, source, options);\n        }\n      };\n\n      if (target) {\n        target.addEventListener('keydown', listener);\n\n        return () => {\n          target.removeEventListener('keydown', listener);\n        };\n      }\n    });\n\n    return unbind;\n  }\n\n  protected handleSourceKeyDown = (\n    event: KeyboardEvent,\n    source: Draggable,\n    options: KeyboardSensorOptions | undefined\n  ) => {\n    if (this.disabled || event.defaultPrevented) {\n      return;\n    }\n\n    if (!isElement(event.target)) {\n      return;\n    }\n\n    if (source.disabled) {\n      return;\n    }\n\n    const {\n      keyboardCodes = defaults.keyboardCodes,\n      shouldActivate = defaults.shouldActivate,\n    } = options ?? {};\n\n    if (!keyboardCodes.start.includes(event.code)) {\n      return;\n    }\n\n    if (!this.manager.dragOperation.status.idle) {\n      return;\n    }\n\n    if (shouldActivate({event, source, manager: this.manager})) {\n      this.handleStart(event, source, options);\n    }\n  };\n\n  protected handleStart(\n    event: KeyboardEvent,\n    source: Draggable,\n    options: KeyboardSensorOptions | undefined\n  ) {\n    const {element} = source;\n\n    if (!element) {\n      throw new Error('Source draggable does not have an associated element');\n    }\n\n    event.preventDefault();\n    event.stopImmediatePropagation();\n\n    scrollIntoViewIfNeeded(element);\n\n    const {center} = new DOMRectangle(element);\n    const controller = this.manager.actions.start({\n      event,\n      coordinates: {\n        x: center.x,\n        y: center.y,\n      },\n      source,\n    });\n\n    if (controller.signal.aborted) return this.cleanup();\n\n    this.sideEffects();\n\n    const sourceDocument = getDocument(element);\n    const listeners = [\n      this.listeners.bind(sourceDocument, [\n        {\n          type: 'keydown',\n          listener: (event: KeyboardEvent) =>\n            this.handleKeyDown(event, source, options),\n          options: {capture: true},\n        },\n      ]),\n    ];\n\n    this.#cleanupFunctions.push(...listeners);\n  }\n\n  protected handleKeyDown(\n    event: KeyboardEvent,\n    _source: Draggable,\n    options: KeyboardSensorOptions | undefined\n  ) {\n    const {keyboardCodes = defaults.keyboardCodes} = options ?? {};\n\n    if (isKeycode(event, [...keyboardCodes.end, ...keyboardCodes.cancel])) {\n      event.preventDefault();\n      const canceled = isKeycode(event, keyboardCodes.cancel);\n\n      this.handleEnd(event, canceled);\n      return;\n    }\n\n    if (isKeycode(event, keyboardCodes.up)) {\n      this.handleMove('up', event);\n    } else if (isKeycode(event, keyboardCodes.down)) {\n      this.handleMove('down', event);\n    }\n\n    if (isKeycode(event, keyboardCodes.left)) {\n      this.handleMove('left', event);\n    } else if (isKeycode(event, keyboardCodes.right)) {\n      this.handleMove('right', event);\n    }\n  }\n\n  protected handleEnd(event: Event, canceled: boolean) {\n    this.manager.actions.stop({\n      event,\n      canceled,\n    });\n\n    this.cleanup();\n  }\n\n  protected handleMove(\n    direction: 'up' | 'down' | 'left' | 'right',\n    event: KeyboardEvent\n  ) {\n    const {shape} = this.manager.dragOperation;\n    const factor = event.shiftKey ? 5 : 1;\n    let by = {\n      x: 0,\n      y: 0,\n    };\n    let offset = this.options?.offset ?? defaults.offset;\n\n    if (typeof offset === 'number') {\n      offset = {x: offset, y: offset};\n    }\n\n    if (!shape) {\n      return;\n    }\n\n    switch (direction) {\n      case 'up':\n        by = {x: 0, y: -offset.y * factor};\n        break;\n      case 'down':\n        by = {x: 0, y: offset.y * factor};\n        break;\n      case 'left':\n        by = {x: -offset.x * factor, y: 0};\n        break;\n      case 'right':\n        by = {x: offset.x * factor, y: 0};\n        break;\n    }\n\n    if (by.x || by.y) {\n      event.preventDefault();\n\n      this.manager.actions.move({\n        event,\n        by,\n      });\n    }\n  }\n\n  private sideEffects() {\n    const autoScroller = this.manager.registry.plugins.get(AutoScroller as any);\n\n    if (autoScroller?.disabled === false) {\n      autoScroller.disable();\n\n      this.#cleanupFunctions.push(() => {\n        autoScroller.enable();\n      });\n    }\n  }\n\n  protected cleanup() {\n    this.#cleanupFunctions.forEach((cleanup) => cleanup());\n    this.#cleanupFunctions = [];\n  }\n\n  public destroy() {\n    this.cleanup();\n    // Remove all event listeners\n    this.listeners.clear();\n  }\n\n  static configure = configurator(KeyboardSensor);\n\n  static defaults = defaults;\n}\n\nfunction isKeycode(event: KeyboardEvent, codes: KeyCode[]) {\n  return codes.includes(event.code);\n}\n", "import {effect} from '@dnd-kit/state';\nimport type {CleanupFunction} from '@dnd-kit/state';\nimport {Sensor, configurator} from '@dnd-kit/abstract';\nimport {\n  exceedsDistance,\n  type Distance,\n  type Coordinates,\n} from '@dnd-kit/geometry';\nimport {\n  getDocument,\n  isElement,\n  isHTMLElement,\n  isPointerEvent,\n  Listeners,\n  getFrameTransform,\n  scheduler,\n  isTextInput,\n} from '@dnd-kit/dom/utilities';\n\nimport type {DragDropManager} from '../../manager/index.ts';\nimport type {Draggable} from '../../entities/index.ts';\n\nexport interface DelayConstraint {\n  value: number;\n  tolerance: Distance;\n}\n\nexport interface DistanceConstraint {\n  value: Distance;\n  tolerance?: Distance;\n}\n\nexport interface ActivationConstraints {\n  distance?: DistanceConstraint;\n  delay?: DelayConstraint;\n}\n\ntype Maybe<T> = T | undefined;\n\nexport interface PointerSensorOptions {\n  activationConstraints?:\n    | ActivationConstraints\n    | ((\n        event: PointerEvent,\n        source: Draggable\n      ) => ActivationConstraints | undefined);\n  activatorElements?:\n    | Maybe<Element>[]\n    | ((source: Draggable) => Maybe<Element>[]);\n}\n\nconst defaults = Object.freeze<PointerSensorOptions>({\n  activationConstraints(event, source) {\n    const {pointerType, target} = event;\n\n    if (\n      pointerType === 'mouse' &&\n      isElement(target) &&\n      (source.handle === target || source.handle?.contains(target))\n    ) {\n      return undefined;\n    }\n\n    if (pointerType === 'touch') {\n      return {\n        delay: {value: 250, tolerance: 5},\n      };\n    }\n\n    if (isTextInput(target) && !event.defaultPrevented) {\n      return {\n        delay: {value: 200, tolerance: 0},\n      };\n    }\n\n    return {\n      delay: {value: 200, tolerance: 10},\n      distance: {value: 5},\n    };\n  },\n});\n\ntype LatestState = {\n  event: PointerEvent | undefined;\n  coordinates: Coordinates | undefined;\n};\n\n/**\n * The PointerSensor class is an input sensor that handles Pointer events,\n * such as mouse, touch and pen interactions.\n */\nexport class PointerSensor extends Sensor<\n  DragDropManager,\n  PointerSensorOptions\n> {\n  #cleanup: Set<CleanupFunction> = new Set();\n\n  #clearTimeout: CleanupFunction | undefined;\n\n  protected listeners = new Listeners();\n\n  protected initialCoordinates: Coordinates | undefined;\n\n  constructor(\n    public manager: DragDropManager,\n    public options?: PointerSensorOptions\n  ) {\n    super(manager);\n\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handlePointerUp = this.handlePointerUp.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n\n  protected activationConstraints(event: PointerEvent, source: Draggable) {\n    const {activationConstraints = defaults.activationConstraints} =\n      this.options ?? {};\n\n    const constraints =\n      typeof activationConstraints === 'function'\n        ? activationConstraints(event, source)\n        : activationConstraints;\n\n    return constraints;\n  }\n\n  public bind(source: Draggable, options = this.options) {\n    const unbind = effect(() => {\n      const controller = new AbortController();\n      const {signal} = controller;\n      const listener: EventListener = (event: Event) => {\n        if (isPointerEvent(event)) {\n          this.handlePointerDown(event, source, options);\n        }\n      };\n      let targets = [source.handle ?? source.element];\n\n      if (options?.activatorElements) {\n        if (Array.isArray(options.activatorElements)) {\n          targets = options.activatorElements;\n        } else {\n          targets = options.activatorElements(source);\n        }\n      }\n\n      for (const target of targets) {\n        if (!target) continue;\n\n        patchWindow(target.ownerDocument.defaultView);\n        target.addEventListener('pointerdown', listener, {signal});\n      }\n\n      return () => controller.abort();\n    });\n\n    return unbind;\n  }\n\n  protected handlePointerDown(\n    event: PointerEvent,\n    source: Draggable,\n    options: PointerSensorOptions = {}\n  ) {\n    if (\n      this.disabled ||\n      !event.isPrimary ||\n      event.button !== 0 ||\n      !isElement(event.target) ||\n      source.disabled ||\n      isCapturedBySensor(event) ||\n      !this.manager.dragOperation.status.idle\n    ) {\n      return;\n    }\n\n    const {target} = event;\n    const isNativeDraggable =\n      isHTMLElement(target) &&\n      target.draggable &&\n      target.getAttribute('draggable') === 'true';\n\n    const offset = getFrameTransform(source.element);\n\n    this.initialCoordinates = {\n      x: event.clientX * offset.scaleX + offset.x,\n      y: event.clientY * offset.scaleY + offset.y,\n    };\n\n    const constraints = this.activationConstraints(event, source);\n\n    (event as any).sensor = this;\n\n    if (!constraints?.delay && !constraints?.distance) {\n      this.handleStart(source, event);\n    } else {\n      const {delay} = constraints;\n\n      if (delay) {\n        const timeout = setTimeout(\n          () => this.handleStart(source, event),\n          delay.value\n        );\n\n        this.#clearTimeout = () => {\n          clearTimeout(timeout);\n          this.#clearTimeout = undefined;\n        };\n      }\n    }\n\n    const ownerDocument = getDocument(event.target);\n\n    const unbindListeners = this.listeners.bind(ownerDocument, [\n      {\n        type: 'pointermove',\n        listener: (event: PointerEvent) =>\n          this.handlePointerMove(event, source),\n      },\n      {\n        type: 'pointerup',\n        listener: this.handlePointerUp,\n        options: {\n          capture: true,\n        },\n      },\n      {\n        // Cancel activation if there is a competing Drag and Drop interaction\n        type: 'dragstart',\n        listener: isNativeDraggable ? this.handleCancel : preventDefault,\n        options: {\n          capture: true,\n        },\n      },\n    ]);\n\n    const cleanup = () => {\n      unbindListeners();\n      this.#clearTimeout?.();\n      this.initialCoordinates = undefined;\n    };\n\n    this.#cleanup.add(cleanup);\n  }\n\n  private latest: LatestState = {\n    event: undefined,\n    coordinates: undefined,\n  };\n\n  protected handleMove = () => {\n    const {event, coordinates: to} = this.latest;\n\n    if (!event || !to) {\n      return;\n    }\n\n    this.manager.actions.move({event, to});\n  };\n\n  protected handlePointerMove(event: PointerEvent, source: Draggable) {\n    const coordinates = {\n      x: event.clientX,\n      y: event.clientY,\n    };\n\n    const offset = getFrameTransform(source.element);\n\n    coordinates.x = coordinates.x * offset.scaleX + offset.x;\n    coordinates.y = coordinates.y * offset.scaleY + offset.y;\n\n    if (this.manager.dragOperation.status.dragging) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.latest.event = event;\n      this.latest.coordinates = coordinates;\n\n      scheduler.schedule(this.handleMove);\n      return;\n    }\n\n    if (!this.initialCoordinates) {\n      return;\n    }\n\n    const delta = {\n      x: coordinates.x - this.initialCoordinates.x,\n      y: coordinates.y - this.initialCoordinates.y,\n    };\n    const constraints = this.activationConstraints(event, source);\n    const {distance, delay} = constraints ?? {};\n\n    if (distance) {\n      if (\n        distance.tolerance != null &&\n        exceedsDistance(delta, distance.tolerance)\n      ) {\n        return this.handleCancel(event);\n      }\n      if (exceedsDistance(delta, distance.value)) {\n        return this.handleStart(source, event);\n      }\n    }\n\n    if (delay) {\n      if (exceedsDistance(delta, delay.tolerance)) {\n        return this.handleCancel(event);\n      }\n    }\n  }\n\n  private handlePointerUp(event: PointerEvent) {\n    // End the drag and drop operation\n    const {status} = this.manager.dragOperation;\n\n    if (!status.idle) {\n      // Prevent the default behaviour of the event\n      event.preventDefault();\n      event.stopPropagation();\n\n      const canceled = !status.initialized;\n      this.manager.actions.stop({event, canceled});\n    }\n\n    this.cleanup();\n  }\n\n  protected handleKeyDown(event: KeyboardEvent) {\n    if (event.key === 'Escape') {\n      event.preventDefault();\n      this.handleCancel(event);\n    }\n  }\n\n  protected handleStart(source: Draggable, event: PointerEvent) {\n    const {manager, initialCoordinates} = this;\n\n    this.#clearTimeout?.();\n\n    if (!initialCoordinates || !manager.dragOperation.status.idle) {\n      return;\n    }\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    const controller = manager.actions.start({\n      coordinates: initialCoordinates,\n      event,\n      source,\n    });\n\n    if (controller.signal.aborted) return this.cleanup();\n\n    event.preventDefault();\n\n    const ownerDocument = getDocument(event.target);\n    const pointerCaptureTarget = ownerDocument.body;\n\n    pointerCaptureTarget.setPointerCapture(event.pointerId);\n\n    const unbind = this.listeners.bind(ownerDocument, [\n      {\n        // Prevent scrolling on touch devices\n        type: 'touchmove',\n        listener: preventDefault,\n        options: {\n          passive: false,\n        },\n      },\n      {\n        // Prevent click events\n        type: 'click',\n        listener: preventDefault,\n      },\n      {\n        type: 'contextmenu',\n        listener: preventDefault,\n      },\n      {\n        type: 'keydown',\n        listener: this.handleKeyDown,\n      },\n      {\n        type: 'lostpointercapture',\n        listener: (event: PointerEvent) => {\n          if (event.target !== pointerCaptureTarget) return;\n\n          this.handlePointerUp(event);\n        },\n      },\n    ]);\n\n    this.#cleanup.add(unbind);\n  }\n\n  protected handleCancel(event: Event) {\n    const {dragOperation} = this.manager;\n\n    if (dragOperation.status.initialized) {\n      this.manager.actions.stop({event, canceled: true});\n    }\n\n    this.cleanup();\n  }\n\n  protected cleanup() {\n    this.latest = {\n      event: undefined,\n      coordinates: undefined,\n    };\n    this.#cleanup.forEach((cleanup) => cleanup());\n    this.#cleanup.clear();\n  }\n\n  public destroy() {\n    this.cleanup();\n    this.listeners.clear();\n  }\n\n  static configure = configurator(PointerSensor);\n\n  static defaults = defaults;\n}\n\nfunction isCapturedBySensor(event: Event) {\n  return 'sensor' in event;\n}\n\nfunction preventDefault(event: Event) {\n  event.preventDefault();\n}\n\nfunction noop() {}\n\nconst windows = new WeakSet<Window>();\n\nfunction patchWindow(window: Window | null) {\n  if (!window || windows.has(window)) {\n    return;\n  }\n\n  window.addEventListener('touchmove', noop, {\n    capture: false,\n    passive: false,\n  });\n  windows.add(window);\n}\n", "import {\n  DragDropManager as AbstractDragDropManager,\n  DragDropManagerInput,\n  type Data,\n  type Modifiers,\n  type Plugins,\n  type Sensors,\n} from '@dnd-kit/abstract';\n\nimport type {Draggable, Droppable} from '../entities/index.ts';\nimport {\n  Accessibility,\n  AutoScroller,\n  Cursor,\n  Feedback,\n  Scroller,\n  ScrollListener,\n  PreventSelection,\n} from '../plugins/index.ts';\nimport {KeyboardSensor, PointerSensor} from '../sensors/index.ts';\n\nexport interface Input extends DragDropManagerInput<DragDropManager> {}\n\nexport const defaultPreset: {\n  modifiers: Modifiers<DragDropManager>;\n  plugins: Plugins<DragDropManager>;\n  sensors: Sensors<DragDropManager>;\n} = {\n  modifiers: [],\n  plugins: [Accessibility, AutoScroller, Cursor, Feedback, PreventSelection],\n  sensors: [PointerSensor, KeyboardSensor],\n};\n\nexport class DragDropManager<\n  T extends Data = Data,\n  U extends Draggable<T> = Draggable<T>,\n  V extends Droppable<T> = Droppable<T>,\n> extends AbstractDragDropManager<U, V> {\n  constructor(input: Input = {}) {\n    const {\n      plugins = defaultPreset.plugins,\n      sensors = defaultPreset.sensors,\n      modifiers = [],\n    } = input;\n\n    super({\n      ...input,\n      plugins: [ScrollListener, Scroller, ...plugins],\n      sensors,\n      modifiers,\n    });\n  }\n}\n", "import {\n  Draggable as AbstractDraggable,\n  Sensor,\n  descriptor,\n} from '@dnd-kit/abstract';\nimport type {Data, DraggableInput} from '@dnd-kit/abstract';\nimport {reactive} from '@dnd-kit/state';\n\nimport type {DragDropManager} from '../../manager/index.ts';\nimport type {Sensors} from '../../sensors/index.ts';\n\nexport type FeedbackType = 'default' | 'move' | 'clone' | 'none';\n\nexport interface Input<T extends Data = Data> extends DraggableInput<T> {\n  handle?: Element;\n  element?: Element;\n  feedback?: FeedbackType;\n  sensors?: Sensors;\n}\n\nexport class Draggable<T extends Data = Data> extends AbstractDraggable<\n  T,\n  DragDropManager\n> {\n  constructor(\n    {\n      element,\n      effects = () => [],\n      handle,\n      feedback = 'default',\n      ...input\n    }: Input<T>,\n    manager: DragDropManager | undefined\n  ) {\n    super(\n      {\n        effects: () => [\n          ...effects(),\n          () => {\n            const {manager} = this;\n\n            if (!manager) return;\n\n            const sensors = this.sensors?.map(descriptor) ?? [\n              ...manager.sensors,\n            ];\n            const unbindFunctions = sensors.map((entry) => {\n              const sensorInstance =\n                entry instanceof Sensor\n                  ? entry\n                  : manager.registry.register(entry.plugin);\n              const options =\n                entry instanceof Sensor ? undefined : entry.options;\n\n              const unbind = sensorInstance.bind(this, options);\n              return unbind;\n            });\n\n            return function cleanup() {\n              unbindFunctions.forEach((unbind) => unbind());\n            };\n          },\n        ],\n        ...input,\n      },\n      manager\n    );\n\n    this.element = element;\n    this.handle = handle;\n    this.feedback = feedback;\n  }\n\n  @reactive\n  public accessor handle: Element | undefined;\n\n  @reactive\n  public accessor element: Element | undefined;\n\n  @reactive\n  public accessor feedback: FeedbackType;\n}\n", "import {Droppable as AbstractDroppable} from '@dnd-kit/abstract';\nimport type {\n  Data,\n  DroppableInput as AbstractDroppableInput,\n} from '@dnd-kit/abstract';\nimport {defaultCollisionDetection} from '@dnd-kit/collision';\nimport type {CollisionDetector} from '@dnd-kit/collision';\nimport {reactive, signal, untracked} from '@dnd-kit/state';\nimport type {BoundingRectangle, Shape} from '@dnd-kit/geometry';\nimport {DOMRectangle, PositionObserver} from '@dnd-kit/dom/utilities';\n\nimport type {DragDropManager} from '../../manager/manager.ts';\n\ntype OptionalInput = 'collisionDetector';\n\nexport interface Input<T extends Data = Data>\n  extends Omit<AbstractDroppableInput<T>, OptionalInput> {\n  collisionDetector?: CollisionDetector;\n  element?: Element;\n}\n\nexport class Droppable<T extends Data = Data> extends AbstractDroppable<\n  T,\n  DragDropManager\n> {\n  constructor(\n    {element, effects = () => [], ...input}: Input<T>,\n    manager: DragDropManager | undefined\n  ) {\n    const {collisionDetector = defaultCollisionDetection} = input;\n    const updateShape = (boundingClientRect?: BoundingRectangle | null) => {\n      const {manager, element} = this;\n\n      if (!element || boundingClientRect === null) {\n        this.shape = undefined;\n        return undefined;\n      }\n\n      if (!manager) return;\n\n      const updatedShape = new DOMRectangle(element);\n\n      const shape = untracked(() => this.shape);\n      if (updatedShape && shape?.equals(updatedShape)) {\n        return shape;\n      }\n\n      this.shape = updatedShape;\n\n      return updatedShape;\n    };\n\n    const observePosition = signal(false);\n\n    super(\n      {\n        ...input,\n        collisionDetector,\n        effects: () => [\n          ...effects(),\n          () => {\n            const {element, manager} = this;\n            if (!manager) return;\n\n            const {dragOperation} = manager;\n            const {source} = dragOperation;\n\n            observePosition.value = Boolean(\n              source &&\n                dragOperation.status.initialized &&\n                element &&\n                !this.disabled &&\n                this.accepts(source)\n            );\n          },\n          () => {\n            const {element} = this;\n\n            if (observePosition.value && element) {\n              const positionObserver = new PositionObserver(\n                element,\n                updateShape\n              );\n\n              return () => {\n                positionObserver.disconnect();\n                this.shape = undefined;\n              };\n            }\n          },\n          () => {\n            if (this.manager?.dragOperation.status.initialized) {\n              return () => {\n                this.shape = undefined;\n              };\n            }\n          },\n        ],\n      },\n      manager\n    );\n\n    this.element = element;\n    this.refreshShape = () => updateShape();\n  }\n\n  @reactive\n  accessor #element: Element | undefined;\n\n  @reactive\n  public accessor proxy: Element | undefined;\n\n  set element(element: Element | undefined) {\n    this.#element = element;\n  }\n\n  get element() {\n    return this.proxy ?? this.#element;\n  }\n\n  public refreshShape: () => Shape | undefined;\n}\n", "import { useLayoutEffect, useEffect, useRef, useMemo, useState, useCallback } from 'react';\nimport { computed, effect, untracked } from '@dnd-kit/state';\nimport { flushSync } from 'react-dom';\nimport { currentValue } from '@dnd-kit/react/utilities';\n\nfunction useConstant(initializer) {\n  const ref = useRef(null);\n  if (!ref.current) {\n    ref.current = initializer();\n  }\n  return ref.current;\n}\nvar canUseDOM = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nvar useIsomorphicLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;\nfunction useForceUpdate() {\n  const setState = useState(0)[1];\n  return useCallback(() => {\n    setState((value) => value + 1);\n  }, [setState]);\n}\n\n// src/hooks/useSignal.ts\nfunction useSignal(signal, sync = false) {\n  const previous = useRef(signal.peek());\n  const read = useRef(false);\n  const forceUpdate = useForceUpdate();\n  useIsomorphicLayoutEffect(\n    () => effect(() => {\n      const previousValue = previous.current;\n      const currentValue2 = signal.value;\n      if (previousValue !== currentValue2) {\n        previous.current = currentValue2;\n        if (!read.current) return;\n        if (sync) {\n          flushSync(forceUpdate);\n        } else {\n          forceUpdate();\n        }\n      }\n    }),\n    [signal, sync, forceUpdate]\n  );\n  return {\n    get value() {\n      read.current = true;\n      return signal.peek();\n    }\n  };\n}\n\n// src/hooks/useComputed.ts\nfunction useComputed(compute, dependencies = [], sync = false) {\n  const $compute = useRef(compute);\n  $compute.current = compute;\n  return useSignal(\n    useMemo(() => computed(() => $compute.current()), dependencies),\n    sync\n  );\n}\nfunction useDeepSignal(target, synchronous) {\n  const tracked = useRef(/* @__PURE__ */ new Map());\n  const forceUpdate = useForceUpdate();\n  useIsomorphicLayoutEffect(() => {\n    if (!target) {\n      tracked.current.clear();\n      return;\n    }\n    return effect(() => {\n      var _a;\n      let stale = false;\n      let sync = false;\n      for (const entry of tracked.current) {\n        const [key] = entry;\n        const value = untracked(() => entry[1]);\n        const latestValue = target[key];\n        if (value !== latestValue) {\n          stale = true;\n          tracked.current.set(key, latestValue);\n          sync = (_a = synchronous == null ? void 0 : synchronous(key, value, latestValue)) != null ? _a : false;\n        }\n      }\n      if (stale) {\n        sync ? flushSync(forceUpdate) : forceUpdate();\n      }\n    });\n  }, [target]);\n  return useMemo(\n    () => target ? new Proxy(target, {\n      get(target2, key) {\n        const value = target2[key];\n        tracked.current.set(key, value);\n        return value;\n      }\n    }) : target,\n    [target]\n  );\n}\n\n// src/hooks/useImmediateEffect.ts\nfunction useImmediateEffect(callback, _) {\n  callback();\n}\nfunction useLatest(value) {\n  const valueRef = useRef(value);\n  useIsomorphicLayoutEffect(() => {\n    valueRef.current = value;\n  }, [value]);\n  return valueRef;\n}\nfunction useOnValueChange(value, onChange, effect3 = useEffect, compare = Object.is) {\n  const tracked = useRef(value);\n  effect3(() => {\n    const oldValue = tracked.current;\n    if (!compare(value, oldValue)) {\n      tracked.current = value;\n      onChange(value, oldValue);\n    }\n  }, [onChange, value]);\n}\nfunction useOnElementChange(value, onChange) {\n  const previous = useRef(currentValue(value));\n  useIsomorphicLayoutEffect(() => {\n    const current = currentValue(value);\n    if (current !== previous.current) {\n      previous.current = current;\n      onChange(current);\n    }\n  });\n}\n\nexport { useComputed, useConstant, useDeepSignal, useImmediateEffect, useIsomorphicLayoutEffect, useLatest, useOnElementChange, useOnValueChange };\n//# sourceMappingURL=hooks.js.map\n//# sourceMappingURL=hooks.js.map", "// src/utilities/currentValue.ts\nfunction isRef(value) {\n  return value != null && typeof value === \"object\" && \"current\" in value;\n}\nfunction currentValue(value) {\n  var _a;\n  if (value == null) {\n    return void 0;\n  }\n  if (isRef(value)) {\n    return (_a = value.current) != null ? _a : void 0;\n  }\n  return value;\n}\n\nexport { currentValue };\n//# sourceMappingURL=utilities.js.map\n//# sourceMappingURL=utilities.js.map", "import { useCallback } from 'react';\nimport { batch, deepEqual } from '@dnd-kit/state';\nimport { defaultSortableTransition, Sortable } from '@dnd-kit/dom/sortable';\nexport { isSortable } from '@dnd-kit/dom/sortable';\nimport { useInstance } from '@dnd-kit/react';\nimport { useDeepSignal, useOnValueChange, useIsomorphicLayoutEffect, useImmediateEffect, useOnElementChange } from '@dnd-kit/react/hooks';\nimport { currentValue } from '@dnd-kit/react/utilities';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction useSortable(input) {\n  const {\n    accept,\n    collisionDetector,\n    collisionPriority,\n    id,\n    data,\n    element,\n    handle,\n    index,\n    group,\n    disabled,\n    feedback,\n    modifiers,\n    sensors,\n    target,\n    type\n  } = input;\n  const transition = __spreadValues(__spreadValues({}, defaultSortableTransition), input.transition);\n  const sortable = useInstance((manager) => {\n    return new Sortable(\n      __spreadProps(__spreadValues({}, input), {\n        transition,\n        register: false,\n        handle: currentValue(handle),\n        element: currentValue(element),\n        target: currentValue(target),\n        feedback\n      }),\n      manager\n    );\n  });\n  const trackedSortable = useDeepSignal(sortable, shouldUpdateSynchronously);\n  useOnValueChange(id, () => sortable.id = id);\n  useIsomorphicLayoutEffect(() => {\n    batch(() => {\n      sortable.group = group;\n      sortable.index = index;\n    });\n  }, [sortable, group, index]);\n  useOnValueChange(type, () => sortable.type = type);\n  useOnValueChange(\n    accept,\n    () => sortable.accept = accept,\n    void 0,\n    deepEqual\n  );\n  useOnValueChange(data, () => data && (sortable.data = data));\n  useOnValueChange(\n    index,\n    () => {\n      var _a;\n      if (((_a = sortable.manager) == null ? void 0 : _a.dragOperation.status.idle) && (transition == null ? void 0 : transition.idle)) {\n        sortable.refreshShape();\n      }\n    },\n    useImmediateEffect\n  );\n  useOnElementChange(handle, (handle2) => sortable.handle = handle2);\n  useOnElementChange(element, (element2) => sortable.element = element2);\n  useOnElementChange(target, (target2) => sortable.target = target2);\n  useOnValueChange(disabled, () => sortable.disabled = disabled === true);\n  useOnValueChange(sensors, () => sortable.sensors = sensors);\n  useOnValueChange(\n    collisionDetector,\n    () => sortable.collisionDetector = collisionDetector\n  );\n  useOnValueChange(\n    collisionPriority,\n    () => sortable.collisionPriority = collisionPriority\n  );\n  useOnValueChange(feedback, () => sortable.feedback = feedback != null ? feedback : \"default\");\n  useOnValueChange(\n    transition,\n    () => sortable.transition = transition,\n    void 0,\n    deepEqual\n  );\n  useOnValueChange(\n    modifiers,\n    () => sortable.modifiers = modifiers,\n    void 0,\n    deepEqual\n  );\n  useOnValueChange(\n    input.alignment,\n    () => sortable.alignment = input.alignment\n  );\n  return {\n    sortable: trackedSortable,\n    get isDragging() {\n      return trackedSortable.isDragging;\n    },\n    get isDropping() {\n      return trackedSortable.isDropping;\n    },\n    get isDragSource() {\n      return trackedSortable.isDragSource;\n    },\n    get isDropTarget() {\n      return trackedSortable.isDropTarget;\n    },\n    handleRef: useCallback(\n      (element2) => {\n        sortable.handle = element2 != null ? element2 : void 0;\n      },\n      [sortable]\n    ),\n    ref: useCallback(\n      (element2) => {\n        var _a, _b;\n        if (!element2 && ((_a = sortable.element) == null ? void 0 : _a.isConnected) && !((_b = sortable.manager) == null ? void 0 : _b.dragOperation.status.idle)) {\n          return;\n        }\n        sortable.element = element2 != null ? element2 : void 0;\n      },\n      [sortable]\n    ),\n    sourceRef: useCallback(\n      (element2) => {\n        var _a, _b;\n        if (!element2 && ((_a = sortable.source) == null ? void 0 : _a.isConnected) && !((_b = sortable.manager) == null ? void 0 : _b.dragOperation.status.idle)) {\n          return;\n        }\n        sortable.source = element2 != null ? element2 : void 0;\n      },\n      [sortable]\n    ),\n    targetRef: useCallback(\n      (element2) => {\n        var _a, _b;\n        if (!element2 && ((_a = sortable.target) == null ? void 0 : _a.isConnected) && !((_b = sortable.manager) == null ? void 0 : _b.dragOperation.status.idle)) {\n          return;\n        }\n        sortable.target = element2 != null ? element2 : void 0;\n      },\n      [sortable]\n    )\n  };\n}\nfunction shouldUpdateSynchronously(key, oldValue, newValue) {\n  if (key === \"isDragSource\" && !newValue && oldValue) return true;\n  return false;\n}\n\nexport { useSortable };\n//# sourceMappingURL=sortable.js.map\n//# sourceMappingURL=sortable.js.map", "import type {Droppable, Draggable} from '@dnd-kit/dom';\n\nimport {SortableDroppable, SortableDraggable} from './sortable.ts';\n\nexport function isSortable(\n  element: Draggable | Droppable | null\n): element is SortableDroppable<any> | SortableDraggable<any> {\n  return (\n    element instanceof SortableDroppable || element instanceof SortableDraggable\n  );\n}\n", "import {batch, CleanupFunction, effect} from '@dnd-kit/state';\nimport {Plugin} from '@dnd-kit/abstract';\nimport {closestCorners} from '@dnd-kit/collision';\nimport {\n  DOMRectangle,\n  getVisibleBoundingRectangle,\n  isKeyboardEvent,\n  scrollIntoViewIfNeeded,\n} from '@dnd-kit/dom/utilities';\nimport {Rectangle, type Coordinates} from '@dnd-kit/geometry';\nimport {Scroller} from '@dnd-kit/dom';\nimport type {DragDropManager, Droppable} from '@dnd-kit/dom';\n\nimport {isSortable} from '../utilities.ts';\n\nconst TOLERANCE = 10;\n\nexport class SortableKeyboardPlugin extends Plugin<DragDropManager> {\n  constructor(manager: DragDropManager) {\n    super(manager);\n\n    const cleanupEffect = effect(() => {\n      const {dragOperation} = manager;\n\n      if (!isKeyboardEvent(dragOperation.activatorEvent)) {\n        return;\n      }\n\n      if (!isSortable(dragOperation.source)) {\n        return;\n      }\n\n      if (dragOperation.status.initialized) {\n        const scroller = manager.registry.plugins.get(Scroller);\n\n        if (scroller) {\n          scroller.disable();\n\n          return () => scroller.enable();\n        }\n      }\n    });\n\n    const unsubscribe = manager.monitor.addEventListener(\n      'dragmove',\n      (event, manager: DragDropManager) => {\n        queueMicrotask(() => {\n          if (this.disabled || event.defaultPrevented || !event.nativeEvent) {\n            return;\n          }\n\n          const {dragOperation} = manager;\n\n          if (!isKeyboardEvent(event.nativeEvent)) {\n            return;\n          }\n\n          if (!isSortable(dragOperation.source)) {\n            return;\n          }\n\n          if (!dragOperation.shape) {\n            return;\n          }\n\n          const {actions, collisionObserver, registry} = manager;\n          const {by} = event;\n\n          if (!by) {\n            return;\n          }\n\n          const direction = getDirection(by);\n          const {source, target} = dragOperation;\n          const {center} = dragOperation.shape.current;\n          const potentialTargets: Droppable[] = [];\n          const cleanup: CleanupFunction[] = [];\n\n          batch(() => {\n            for (const droppable of registry.droppables) {\n              const {id} = droppable;\n\n              if (\n                !droppable.accepts(source) ||\n                (id === target?.id && isSortable(droppable)) ||\n                !droppable.element\n              ) {\n                continue;\n              }\n\n              let previousShape = droppable.shape;\n              const shape = new DOMRectangle(droppable.element, {\n                getBoundingClientRect: (element) =>\n                  getVisibleBoundingRectangle(element, undefined, 0.2),\n              });\n\n              if (!shape.height || !shape.width) continue;\n\n              if (\n                (direction == 'down' &&\n                  center.y + TOLERANCE < shape.center.y) ||\n                (direction == 'up' && center.y - TOLERANCE > shape.center.y) ||\n                (direction == 'left' &&\n                  center.x - TOLERANCE > shape.center.x) ||\n                (direction == 'right' && center.x + TOLERANCE < shape.center.x)\n              ) {\n                potentialTargets.push(droppable);\n                droppable.shape = shape;\n                cleanup.push(() => (droppable.shape = previousShape));\n              }\n            }\n          });\n\n          event.preventDefault();\n          collisionObserver.disable();\n\n          const collisions = collisionObserver.computeCollisions(\n            potentialTargets,\n            closestCorners\n          );\n          batch(() => cleanup.forEach((clean) => clean()));\n\n          const [firstCollision] = collisions;\n\n          if (!firstCollision) {\n            return;\n          }\n\n          const {id} = firstCollision;\n          const {index, group} = source.sortable;\n\n          actions.setDropTarget(id).then(() => {\n            // Wait until optimistic sorting has a chance to update the DOM\n            const {source, target, shape} = dragOperation;\n\n            if (!source || !isSortable(source) || !shape) {\n              return;\n            }\n\n            const {\n              index: newIndex,\n              group: newGroup,\n              target: targetElement,\n            } = source.sortable;\n            const updated = index !== newIndex || group !== newGroup;\n\n            const element = updated ? targetElement : target?.element;\n\n            if (!element) return;\n\n            scrollIntoViewIfNeeded(element);\n            const updatedShape = new DOMRectangle(element);\n\n            if (!updatedShape) {\n              return;\n            }\n\n            const delta = Rectangle.delta(\n              updatedShape,\n              Rectangle.from(shape.current.boundingRectangle),\n              source.alignment\n            );\n\n            actions.move({\n              by: delta,\n            });\n\n            if (updated) {\n              actions\n                .setDropTarget(source.id)\n                .then(() => collisionObserver.enable());\n            } else {\n              collisionObserver.enable();\n            }\n          });\n        });\n      }\n    );\n\n    this.destroy = () => {\n      unsubscribe();\n      cleanupEffect();\n    };\n  }\n}\n\nfunction getDirection(delta: Coordinates) {\n  const {x, y} = delta;\n\n  if (x > 0) {\n    return 'right';\n  } else if (x < 0) {\n    return 'left';\n  } else if (y > 0) {\n    return 'down';\n  } else if (y < 0) {\n    return 'up';\n  }\n}\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/move.ts\nfunction arrayMove(array, from, to) {\n  if (from === to) {\n    return array;\n  }\n  const newArray = array.slice();\n  newArray.splice(to, 0, newArray.splice(from, 1)[0]);\n  return newArray;\n}\nfunction arraySwap(array, from, to) {\n  if (from === to) {\n    return array;\n  }\n  const newArray = array.slice();\n  const item = newArray[from];\n  newArray[from] = newArray[to];\n  newArray[to] = item;\n  return newArray;\n}\nfunction mutate(items, event, mutation) {\n  var _a, _b;\n  const { source, target, canceled } = event.operation;\n  if (!source || !target || canceled) {\n    if (\"preventDefault\" in event) event.preventDefault();\n    return items;\n  }\n  const findIndex = (item, id) => item === id || typeof item === \"object\" && \"id\" in item && item.id === id;\n  if (Array.isArray(items)) {\n    const sourceIndex2 = items.findIndex((item) => findIndex(item, source.id));\n    const targetIndex2 = items.findIndex((item) => findIndex(item, target.id));\n    if (sourceIndex2 === -1 || targetIndex2 === -1) {\n      return items;\n    }\n    if (!canceled && \"index\" in source && typeof source.index === \"number\") {\n      const projectedSourceIndex = source.index;\n      if (projectedSourceIndex !== sourceIndex2) {\n        return mutation(items, sourceIndex2, projectedSourceIndex);\n      }\n    }\n    return mutation(items, sourceIndex2, targetIndex2);\n  }\n  const entries = Object.entries(items);\n  let sourceIndex = -1;\n  let sourceParent;\n  let targetIndex = -1;\n  let targetParent;\n  for (const [id, children] of entries) {\n    if (sourceIndex === -1) {\n      sourceIndex = children.findIndex((item) => findIndex(item, source.id));\n      if (sourceIndex !== -1) {\n        sourceParent = id;\n      }\n    }\n    if (targetIndex === -1) {\n      targetIndex = children.findIndex((item) => findIndex(item, target.id));\n      if (targetIndex !== -1) {\n        targetParent = id;\n      }\n    }\n    if (sourceIndex !== -1 && targetIndex !== -1) {\n      break;\n    }\n  }\n  if (!source.manager) return items;\n  const { dragOperation } = source.manager;\n  const position = (_b = (_a = dragOperation.shape) == null ? void 0 : _a.current.center) != null ? _b : dragOperation.position.current;\n  if (targetParent == null) {\n    if (target.id in items) {\n      const insertionIndex = target.shape && position.y > target.shape.center.y ? items[target.id].length : 0;\n      targetParent = target.id;\n      targetIndex = insertionIndex;\n    }\n  }\n  if (sourceParent == null || targetParent == null || sourceParent === targetParent && sourceIndex === targetIndex) {\n    if (\"preventDefault\" in event) event.preventDefault();\n    return items;\n  }\n  if (sourceParent === targetParent) {\n    return __spreadProps(__spreadValues({}, items), {\n      [sourceParent]: mutation(items[sourceParent], sourceIndex, targetIndex)\n    });\n  }\n  const isBelowTarget = target.shape && Math.round(position.y) > Math.round(target.shape.center.y);\n  const modifier = isBelowTarget ? 1 : 0;\n  const sourceItem = items[sourceParent][sourceIndex];\n  return __spreadProps(__spreadValues({}, items), {\n    [sourceParent]: [\n      ...items[sourceParent].slice(0, sourceIndex),\n      ...items[sourceParent].slice(sourceIndex + 1)\n    ],\n    [targetParent]: [\n      ...items[targetParent].slice(0, targetIndex + modifier),\n      sourceItem,\n      ...items[targetParent].slice(targetIndex + modifier)\n    ]\n  });\n}\nfunction move(items, event) {\n  return mutate(items, event, arrayMove);\n}\nfunction swap(items, event) {\n  return mutate(items, event, arraySwap);\n}\nexport {\n  arrayMove,\n  arraySwap,\n  move,\n  swap\n};\n", "import {Plugin, type UniqueIdentifier} from '@dnd-kit/abstract';\nimport type {DragDropManager} from '@dnd-kit/dom';\nimport {move} from '@dnd-kit/helpers';\nimport {batch} from '@dnd-kit/state';\n\nimport {Sortable, SortableDroppable} from '../sortable.ts';\nimport {isSortable} from '../utilities.ts';\n\nconst defaultGroup = '__default__';\n\nexport class OptimisticSortingPlugin extends Plugin<DragDropManager> {\n  constructor(manager: DragDropManager) {\n    super(manager);\n\n    const getSortableInstances = () => {\n      const sortableInstances = new Map<\n        UniqueIdentifier | undefined,\n        Set<Sortable>\n      >();\n\n      for (const droppable of manager.registry.droppables) {\n        if (droppable instanceof SortableDroppable) {\n          const {sortable} = droppable;\n          const {group} = sortable;\n\n          let instances = sortableInstances.get(group);\n\n          if (!instances) {\n            instances = new Set();\n            sortableInstances.set(group, instances);\n          }\n\n          instances.add(sortable);\n        }\n      }\n\n      for (const [group, instances] of sortableInstances) {\n        sortableInstances.set(group, new Set(sort(instances)));\n      }\n\n      return sortableInstances;\n    };\n\n    const unsubscribe = [\n      manager.monitor.addEventListener('dragover', (event, manager) => {\n        if (this.disabled) {\n          return;\n        }\n\n        const {dragOperation} = manager;\n        const {source, target} = dragOperation;\n\n        if (!isSortable(source) || !isSortable(target)) {\n          return;\n        }\n\n        if (source.sortable === target.sortable) {\n          return;\n        }\n\n        const instances = getSortableInstances();\n        const sameGroup = source.sortable.group === target.sortable.group;\n        const sourceInstances = instances.get(source.sortable.group);\n        const targetInstances = sameGroup\n          ? sourceInstances\n          : instances.get(target.sortable.group);\n\n        if (!sourceInstances || !targetInstances) return;\n\n        queueMicrotask(() => {\n          if (event.defaultPrevented) return;\n\n          // Wait for the renderer to handle the event before attempting to optimistically update\n          manager.renderer.rendering.then(() => {\n            const newInstances = getSortableInstances();\n\n            for (const [group, sortableInstances] of instances.entries()) {\n              const entries = Array.from(sortableInstances).entries();\n\n              for (const [index, sortable] of entries) {\n                if (\n                  sortable.index !== index ||\n                  sortable.group !== group ||\n                  !newInstances.get(group)?.has(sortable)\n                ) {\n                  // At least one index or group was changed so we should abort optimistic updates\n                  return;\n                }\n              }\n            }\n\n            const sourceElement = source.sortable.element;\n            const targetElement = target.sortable.element;\n\n            if (!targetElement || !sourceElement) {\n              return;\n            }\n\n            if (!sameGroup && target.id === source.sortable.group) {\n              return;\n            }\n\n            const orderedSourceSortables = sort(sourceInstances);\n            const orderedTargetSortables = sameGroup\n              ? orderedSourceSortables\n              : sort(targetInstances);\n            const sourceGroup = source.sortable.group ?? defaultGroup;\n            const targetGroup = target.sortable.group ?? defaultGroup;\n            const state = {\n              [sourceGroup]: orderedSourceSortables,\n              [targetGroup]: orderedTargetSortables,\n            };\n            const newState = move(state, event);\n\n            if (state === newState) return;\n\n            const sourceIndex = newState[targetGroup].indexOf(source.sortable);\n            const targetIndex = newState[targetGroup].indexOf(target.sortable);\n\n            manager.collisionObserver.disable();\n\n            reorder(sourceElement, sourceIndex, targetElement, targetIndex);\n\n            batch(() => {\n              for (const [index, sortable] of newState[sourceGroup].entries()) {\n                sortable.index = index;\n              }\n\n              if (!sameGroup) {\n                for (const [index, sortable] of newState[\n                  targetGroup\n                ].entries()) {\n                  sortable.group = target.sortable.group;\n                  sortable.index = index;\n                }\n              }\n            });\n\n            manager.actions\n              .setDropTarget(source.id)\n              .then(() => manager.collisionObserver.enable());\n          });\n        });\n      }),\n      manager.monitor.addEventListener('dragend', (event, manager) => {\n        if (!event.canceled) {\n          return;\n        }\n\n        const {dragOperation} = manager;\n        const {source} = dragOperation;\n\n        if (!isSortable(source)) {\n          return;\n        }\n\n        if (\n          source.sortable.initialIndex === source.sortable.index &&\n          source.sortable.initialGroup === source.sortable.group\n        ) {\n          return;\n        }\n\n        queueMicrotask(() => {\n          const instances = getSortableInstances();\n          const initialGroupInstances = instances.get(\n            source.sortable.initialGroup\n          );\n\n          if (!initialGroupInstances) return;\n\n          // Wait for the renderer to handle the event before attempting to optimistically update\n          manager.renderer.rendering.then(() => {\n            for (const [group, sortableInstances] of instances.entries()) {\n              const entries = Array.from(sortableInstances).entries();\n\n              for (const [index, sortable] of entries) {\n                if (sortable.index !== index || sortable.group !== group) {\n                  // At least one index or group was changed so we should abort optimistic updates\n                  return;\n                }\n              }\n            }\n\n            const initialGroup = sort(initialGroupInstances);\n            const sourceElement = source.sortable.element;\n            const target = initialGroup[source.sortable.initialIndex];\n            const targetElement = target?.element;\n\n            if (!target || !targetElement || !sourceElement) {\n              return;\n            }\n\n            reorder(sourceElement, target.index, targetElement, source.index);\n\n            batch(() => {\n              for (const [_, sortableInstances] of instances.entries()) {\n                const entries = Array.from(sortableInstances).values();\n\n                for (const sortable of entries) {\n                  sortable.index = sortable.initialIndex;\n                  sortable.group = sortable.initialGroup;\n                }\n              }\n            });\n          });\n        });\n      }),\n    ];\n\n    this.destroy = () => {\n      for (const unsubscribeListener of unsubscribe) {\n        unsubscribeListener();\n      }\n    };\n  }\n}\n\nfunction reorder(\n  sourceElement: Element,\n  sourceIndex: number,\n  targetElement: Element,\n  targetIndex: number\n) {\n  const position = targetIndex < sourceIndex ? 'afterend' : 'beforebegin';\n\n  targetElement.insertAdjacentElement(position, sourceElement);\n}\n\nfunction sortByIndex(a: Sortable, b: Sortable) {\n  return a.index - b.index;\n}\n\nfunction sort(instances: Set<Sortable>) {\n  return Array.from(instances).sort(sortByIndex);\n}\n", "import {batch, reactive, untracked, WeakStore} from '@dnd-kit/state';\nimport type {CollisionPriority, Modifiers} from '@dnd-kit/abstract';\nimport type {\n  Data,\n  PluginConstructor,\n  Type,\n  UniqueIdentifier,\n} from '@dnd-kit/abstract';\nimport {\n  defaultCollisionDetection,\n  type CollisionDetector,\n} from '@dnd-kit/collision';\nimport type {Alignment} from '@dnd-kit/geometry';\nimport {Draggable, Droppable} from '@dnd-kit/dom';\nimport type {\n  DraggableInput,\n  FeedbackType,\n  DroppableInput,\n  Sensors,\n  DragDropManager,\n} from '@dnd-kit/dom';\nimport {\n  animateTransform,\n  getComputedStyles,\n  computeTranslate,\n  ProxiedElements,\n} from '@dnd-kit/dom/utilities';\n\nimport {SortableKeyboardPlugin} from './plugins/SortableKeyboardPlugin.ts';\nimport {OptimisticSortingPlugin} from './plugins/OptimisticSortingPlugin.ts';\n\nexport interface SortableTransition {\n  /**\n   * The duration of the transition in milliseconds.\n   * @default 300\n   */\n  duration?: number;\n  /**\n   * The easing function to use for the transition.\n   * @default 'cubic-bezier(0.25, 1, 0.5, 1)'\n   */\n  easing?: string;\n  /**\n   * Whether the sortable item should transition when its index changes,\n   * but there is no drag operation in progress.\n   * @default false\n   **/\n  idle?: boolean;\n}\n\nconst defaultPlugins: PluginConstructor[] = [\n  SortableKeyboardPlugin,\n  OptimisticSortingPlugin,\n];\n\nexport interface SortableInput<T extends Data>\n  extends DraggableInput<T>,\n    DroppableInput<T> {\n  /**\n   * The index of the sortable item within its group.\n   */\n  index: number;\n\n  /**\n   * The element that should be used as the droppable target for this sortable item.\n   */\n  target?: Element;\n\n  /**\n   * The optional unique identifier of the group that the sortable item belongs to.\n   */\n  group?: UniqueIdentifier;\n  /**\n   * The transition configuration to use when the index of the sortable item changes.\n   */\n  transition?: SortableTransition | null;\n  /**\n   * Plugins to register when sortable item is instantiated.\n   * @default [SortableKeyboardPlugin, OptimisticSortingPlugin]\n   */\n  plugins?: PluginConstructor[];\n}\n\nexport const defaultSortableTransition: SortableTransition = {\n  duration: 250,\n  easing: 'cubic-bezier(0.25, 1, 0.5, 1)',\n  idle: false,\n};\n\ninterface TemporaryState {\n  initialIndex: number;\n  initialGroup: UniqueIdentifier | undefined;\n}\n\nconst store = new WeakStore<\n  DragDropManager,\n  UniqueIdentifier,\n  TemporaryState\n>();\n\nexport class Sortable<T extends Data = Data> {\n  public draggable: Draggable<T>;\n  public droppable: Droppable<T>;\n\n  @reactive\n  public accessor index: number;\n\n  #previousGroup: UniqueIdentifier | undefined;\n\n  #previousIndex: number;\n\n  get initialIndex() {\n    return store.get(this.manager, this.id)?.initialIndex ?? this.index;\n  }\n\n  get initialGroup() {\n    return store.get(this.manager, this.id)?.initialGroup ?? this.group;\n  }\n\n  @reactive\n  public accessor group: UniqueIdentifier | undefined;\n\n  transition: SortableTransition | null;\n\n  constructor(\n    {\n      effects: inputEffects = () => [],\n      group,\n      index,\n      sensors,\n      type,\n      transition = defaultSortableTransition,\n      plugins = defaultPlugins,\n      ...input\n    }: SortableInput<T>,\n    manager: DragDropManager<any, any> | undefined\n  ) {\n    this.droppable = new SortableDroppable<T>(input, manager, this);\n    this.draggable = new SortableDraggable<T>(\n      {\n        ...input,\n        effects: () => [\n          () => {\n            const status = this.manager?.dragOperation.status;\n\n            if (\n              status?.initializing &&\n              this.id === this.manager?.dragOperation.source?.id\n            ) {\n              store.clear(this.manager);\n            }\n\n            if (status?.dragging) {\n              store.set(\n                this.manager,\n                this.id,\n                untracked(() => ({\n                  initialIndex: this.index,\n                  initialGroup: this.group,\n                }))\n              );\n            }\n          },\n          () => {\n            const {index, group, manager: _} = this;\n            const previousIndex = this.#previousIndex;\n            const previousGroup = this.#previousGroup;\n\n            // Re-run this effect whenever the index changes\n            if (index !== previousIndex || group !== previousGroup) {\n              this.#previousIndex = index;\n              this.#previousGroup = group;\n\n              this.animate();\n            }\n          },\n          () => {\n            const {target} = this;\n            const {feedback, isDragSource} = this.draggable;\n\n            if (feedback == 'move' && isDragSource) {\n              this.droppable.disabled = !target;\n            }\n          },\n          () => {\n            const {manager} = this;\n\n            for (const plugin of plugins) {\n              manager?.registry.register(plugin);\n            }\n          },\n          ...inputEffects(),\n        ],\n        type,\n        sensors,\n      },\n      manager,\n      this\n    );\n\n    this.#element = input.element;\n    this.manager = manager;\n    this.index = index;\n    this.#previousIndex = index;\n    this.group = group;\n    this.#previousGroup = group;\n    this.type = type;\n    this.transition = transition;\n  }\n\n  protected animate() {\n    untracked(() => {\n      const {manager, transition} = this;\n      const {shape} = this.droppable;\n\n      if (!manager) return;\n\n      const {idle} = manager.dragOperation.status;\n\n      if (!shape || !transition || (idle && !transition.idle)) {\n        return;\n      }\n\n      manager.renderer.rendering.then(() => {\n        const {element} = this;\n\n        if (!element) {\n          return;\n        }\n\n        const updatedShape = this.refreshShape();\n\n        if (!updatedShape) {\n          return;\n        }\n\n        const delta = {\n          x: shape.boundingRectangle.left - updatedShape.boundingRectangle.left,\n          y: shape.boundingRectangle.top - updatedShape.boundingRectangle.top,\n        };\n\n        const {translate} = getComputedStyles(element);\n        const currentTranslate = computeTranslate(element, translate, false);\n        const finalTranslate = computeTranslate(element, translate);\n\n        if (delta.x || delta.y) {\n          animateTransform({\n            element,\n            keyframes: {\n              translate: [\n                `${currentTranslate.x + delta.x}px ${currentTranslate.y + delta.y}px ${currentTranslate.z}`,\n                `${finalTranslate.x}px ${finalTranslate.y}px ${finalTranslate.z}`,\n              ],\n            },\n            options: transition,\n          }).then(() => {\n            if (!manager.dragOperation.status.dragging) {\n              this.droppable.shape = undefined;\n            }\n          });\n        }\n      });\n    });\n  }\n\n  public get manager(): DragDropManager<any, any> | undefined {\n    return this.draggable.manager as any;\n  }\n\n  public set manager(manager: DragDropManager<any, any> | undefined) {\n    batch(() => {\n      this.draggable.manager = manager as any;\n      this.droppable.manager = manager as any;\n    });\n  }\n\n  #element: Element | undefined;\n\n  public set element(element: Element | undefined) {\n    batch(() => {\n      const previousElement = this.#element;\n      const droppableElement = this.droppable.element;\n      const draggableElement = this.draggable.element;\n\n      if (!droppableElement || droppableElement === previousElement) {\n        this.droppable.element = element;\n      }\n\n      if (!draggableElement || draggableElement === previousElement) {\n        this.draggable.element = element;\n      }\n\n      this.#element = element;\n    });\n  }\n\n  public get element() {\n    const element = this.#element;\n\n    if (!element) return;\n\n    return ProxiedElements.get(element) ?? element ?? this.droppable.element;\n  }\n\n  public set target(target: Element | undefined) {\n    this.droppable.element = target;\n  }\n\n  public get target() {\n    return this.droppable.element;\n  }\n\n  public set source(source: Element | undefined) {\n    this.draggable.element = source;\n  }\n\n  public get source() {\n    return this.draggable.element;\n  }\n\n  public get disabled() {\n    return this.draggable.disabled && this.droppable.disabled;\n  }\n\n  public set feedback(value: FeedbackType) {\n    this.draggable.feedback = value;\n  }\n\n  public set disabled(value: boolean) {\n    batch(() => {\n      this.droppable.disabled = value;\n      this.draggable.disabled = value;\n    });\n  }\n\n  public set data(data: T) {\n    batch(() => {\n      this.droppable.data = data;\n      this.draggable.data = data;\n    });\n  }\n\n  public set handle(handle: Element | undefined) {\n    this.draggable.handle = handle;\n  }\n\n  public set id(id: UniqueIdentifier) {\n    batch(() => {\n      this.droppable.id = id;\n      this.draggable.id = id;\n    });\n  }\n\n  public get id() {\n    return this.droppable.id;\n  }\n\n  public set sensors(value: Sensors | undefined) {\n    this.draggable.sensors = value;\n  }\n\n  public set modifiers(value: Modifiers | undefined) {\n    this.draggable.modifiers = value;\n  }\n\n  public set collisionPriority(value: CollisionPriority | number | undefined) {\n    this.droppable.collisionPriority = value;\n  }\n\n  public set collisionDetector(value: CollisionDetector | undefined) {\n    this.droppable.collisionDetector = value ?? defaultCollisionDetection;\n  }\n\n  public set alignment(value: Alignment | undefined) {\n    this.draggable.alignment = value;\n  }\n\n  public get alignment() {\n    return this.draggable.alignment;\n  }\n\n  public set type(type: Type | undefined) {\n    batch(() => {\n      this.droppable.type = type;\n      this.draggable.type = type;\n    });\n  }\n\n  public get type() {\n    return this.draggable.type;\n  }\n\n  public set accept(value: Droppable['accept']) {\n    this.droppable.accept = value;\n  }\n\n  public get accept() {\n    return this.droppable.accept;\n  }\n\n  public get isDropTarget() {\n    return this.droppable.isDropTarget;\n  }\n\n  /**\n   * A boolean indicating whether the sortable item is the source of a drag operation.\n   */\n  public get isDragSource() {\n    return this.draggable.isDragSource;\n  }\n\n  /**\n   * A boolean indicating whether the sortable item is being dragged.\n   */\n  public get isDragging() {\n    return this.draggable.isDragging;\n  }\n\n  /**\n   * A boolean indicating whether the sortable item is being dropped.\n   */\n  public get isDropping() {\n    return this.draggable.isDropping;\n  }\n\n  public get status() {\n    return this.draggable.status;\n  }\n\n  public refreshShape() {\n    return this.droppable.refreshShape();\n  }\n\n  public accepts(draggable: Draggable): boolean {\n    return this.droppable.accepts(draggable);\n  }\n\n  public register = () => {\n    batch(() => {\n      this.manager?.registry.register(this.droppable);\n      this.manager?.registry.register(this.draggable);\n    });\n\n    return () => this.unregister();\n  };\n\n  public unregister = () => {\n    batch(() => {\n      this.manager?.registry.unregister(this.droppable);\n      this.manager?.registry.unregister(this.draggable);\n    });\n  };\n\n  public destroy = () => {\n    batch(() => {\n      this.droppable.destroy();\n      this.draggable.destroy();\n    });\n  };\n}\n\nexport class SortableDraggable<T extends Data> extends Draggable<T> {\n  constructor(\n    input: DraggableInput<T>,\n    manager: DragDropManager | undefined,\n    public sortable: Sortable<T>\n  ) {\n    super(input, manager);\n  }\n\n  get index() {\n    return this.sortable.index;\n  }\n}\n\nexport class SortableDroppable<T extends Data> extends Droppable<T> {\n  constructor(\n    input: DraggableInput<T>,\n    manager: DragDropManager | undefined,\n    public sortable: Sortable<T>\n  ) {\n    super(input, manager);\n  }\n}\n"],
  "mappings": "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",
  "names": ["e", "t", "r", "o", "i", "u", "s", "n", "a", "w", "b", "m", "c", "d", "h", "p", "g", "y", "l", "f", "v", "_", "S", "import_react", "import_jsx_runtime", "_a", "_b", "_a2", "_b2", "_c", "_", "_a3", "useMemo2", "RichTextRender", "m", "jsx2", "jsx3", "import_react", "import_react", "React", "import_react", "import_jsx_runtime", "import_react", "import_jsx_runtime", "import_react", "BRAND_SYMBOL", "Symbol", "endBatch", "batchDepth", "error", "hasError", "batchedEffect", "effect", "batchIteration", "next", "_nextBatchedEffect", "_flags", "needsToRecompute", "_callback", "err", "batch", "fn", "evalContext", "untracked", "prevContext", "capturedEffects", "globalVersion", "addDependency", "signal", "node", "_node", "_target", "_version", "_source", "_prevSource", "_sources", "_nextSource", "_prevTarget", "_nextTarget", "_rollbackNode", "_subscribe", "Signal", "value", "options", "this", "_value", "_targets", "_watched", "watched", "_unwatched", "unwatched", "name", "prototype", "brand", "_refresh", "_this", "targets", "_this$_watched", "call", "_unsubscribe", "_this2", "prev", "_this2$_unwatched", "subscribe", "_this3", "valueOf", "toString", "toJSON", "peek", "Object", "defineProperty", "get", "set", "Error", "_notify", "target", "prepareSources", "rollbackNode", "cleanupSources", "head", "Computed", "undefined", "_fn", "_globalVersion", "OUTDATED", "computed", "cleanupEffect", "cleanup", "_cleanup", "disposeEffect", "endEffect", "Effect", "push", "finish", "_start", "bind", "_dispose", "dispose", "__spreadValues", "a", "b", "__spreadProps", "_a2", "self", "i", "n", "s", "p", "y", "deepEqual", "_", "c", "_value", "descriptor", "__create", "__defProp", "__getOwnPropDesc", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__knownSymbol", "__typeError", "__defNormalProp", "__spreadValues", "a", "b", "__name", "__decoratorStart", "_a2", "__decoratorStrings", "__expectFn", "__decoratorContext", "__decoratorMetadata", "__runInitializers", "self", "i", "n", "__decorateElement", "s", "p", "__privateGet", "__privateSet", "__privateIn", "__privateMethod", "y", "__accessCheck", "__privateAdd", "_a", "_init", "Axis2", "options", "_init", "__privateAdd", "__runInitializers", "__privateGet", "__decoratorStart", "__decorateElement", "__decoratorMetadata", "descriptor", "__privateSet", "a", "b", "c", "untracked", "Monitor", "__spreadProps", "__spreadValues", "effects", "_a", "CollisionPriority", "CollisionType", "_current_dec", "reactive", "_b", "_c", "_d", "effect", "_disabled_dec", "_disabled", "id", "manager", "signal", "currentValue", "cleanup", "derived", "__objRest", "_type_dec", "_type", "_modifiers_dec", "_shape_dec", "_manager", "_shape", "_modifiers", "y", "batch", "animations", "_a", "_b", "_c", "document", "y", "options", "descriptor", "target", "a", "b", "__privateGet", "__privateSet", "__privateAdd", "_", "element", "root", "__privateMethod", "cached", "callback", "listeners", "_disconnected", "window", "y", "scheduler", "styles", "options", "_a", "_b", "_c", "_d", "ScrollDirection", "Rectangle", "threshold", "w", "h", "keyframe", "translate", "clear", "document", "animations", "PointerEvent", "_a", "options", "manager", "_a", "timeout", "Plugin", "document", "generateUniqueId", "_init", "_Feedback", "__privateAdd", "__runInitializers", "__privateMethod", "__decoratorStart", "_b", "_c", "styles", "untracked", "tX", "tY", "showPopover", "element", "transform", "status", "initialTranslate", "translate", "delta", "__spreadProps", "__spreadValues", "getDocument", "__decorateElement", "__decoratorMetadata", "_dec", "reactive", "Direction", "c", "effect", "a", "b", "__privateGet", "__privateSet", "Axes", "y", "scheduler", "computed", "deepEqual", "isKeyboardEvent", "ScrollDirection", "Scheduler", "_", "canScroll", "CorePlugin", "_cleanupFunctions", "_KeyboardSensor", "isElement", "DOMRectangle", "event", "configurator", "defaults", "_PointerSensor", "Sensor", "Listeners", "signal", "isHTMLElement", "getFrameTransform", "window", "DragDropManager", "AbstractDragDropManager", "Draggable", "AbstractDraggable", "effects", "__objRest", "_element_dec", "_element", "Droppable", "AbstractDroppable", "import_react", "_a", "canUseDOM", "_a", "_", "import_jsx_runtime", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "a", "b", "__spreadProps", "__objRest", "DragDropManager", "_a2", "deepEqual", "_b", "_a3", "_a4", "Draggable", "__create", "__defProp2", "__getOwnPropDesc", "__knownSymbol", "__typeError", "__defNormalProp2", "__decoratorStart", "_a2", "__decoratorStrings", "__expectFn", "__decoratorContext", "__decoratorMetadata", "__runInitializers", "self", "i", "n", "__decorateElement", "s", "p", "__accessCheck", "__privateGet", "__privateAdd", "__privateSet", "Point", "_Point", "y", "a", "b", "_direction_dec", "_delta_dec", "_a", "_timestamp", "_init", "Position", "Axis", "Axis2", "pointerIntersection", "shapeIntersection", "defaultCollisionDetection", "Droppable", "__spreadProps", "__spreadValues", "deepEqual", "_b", "import_react", "import_react", "manager", "getDirection", "id", "source", "target", "y", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "a", "b", "__spreadProps", "_a", "_b", "Plugin", "_c", "reorder", "batch", "_", "_init", "_element", "Sortable", "__privateAdd", "__runInitializers", "__objRest", "index", "group", "__privateGet", "__privateSet", "__decoratorStart", "__decorateElement", "__decoratorMetadata", "Draggable", "Droppable", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "__spreadValues", "a", "b", "__spreadProps", "shouldUpdateSynchronously", "deepEqual", "_a", "_b", "import_jsx_runtime", "import_react", "import_react_dom", "import_react", "import_jsx_runtime", "import_react", "import_react", "import_react_dom", "import_jsx_runtime", "import_react", "import_jsx_runtime", "import_react", "import_react", "import_react", "import_jsx_runtime", "import_react", "import_react", "import_jsx_runtime", "import_jsx_runtime", "import_jsx_runtime", "import_react", "import_jsx_runtime", "import_react", "import_react_dom", "import_jsx_runtime", "import_react", "import_jsx_runtime", "import_react", "import_react", "import_jsx_runtime", "import_react", "import_jsx_runtime", "styles_module_default", "styles_module_default2", "store", "useContext2", "getClassName", "jsx2", "useState2", "_a", "timeout", "a", "b", "_b", "getDirection", "pointerIntersection", "closestCorners", "_c", "_d", "jsx3", "createContext2", "useContext3", "jsx4", "jsx5", "getClassName2", "s", "useMemo2", "memo2", "jsx6", "e", "Label", "useState3", "move", "useState4", "useCallback2", "useEffect2", "jsx7", "jsxs2", "Fragment2", "useState5", "useEffect3", "jsx8", "jsx9", "useState6", "useEffect4", "jsxs3", "jsx10", "useState7", "useMemo3", "useCallback3", "jsxs4", "useEffect5", "jsx11", "Fragment3", "i", "useEffect6", "jsx12", "jsx13", "jsxs5", "jsx14", "jsx15", "memo3", "jsx16", "m", "jsx17", "Fragment4", "jsx18", "React2", "useState8", "jsxs6", "jsx19", "Fragment5", "useMemo4", "_a2", "useContext4", "useMemo5", "useCallback4", "jsx20", "useEffect7", "createContext3", "jsx21", "useCallback5", "useMemo6", "Fragment6", "n", "t", "useCallback6", "jsxs7", "jsx22", "Fragment7", "useContext5", "useState10", "useCallback7", "useMemo7", "useEffect9", "useRef2", "isVisible", "_", "startTransition", "createPortal2", "useState11", "useRef3", "_a3", "useEffect10", "useCallback8", "useContext6", "useState12", "useEffect11", "useState13", "useCallback9", "useEffect12", "jsx23", "React3", "jsx24", "useMemo8", "useRef4", "useMemo9", "useRef5", "useEffect13", "useState14", "jsx25", "memo4", "jsx26", "lazy2", "memo5", "useRef6", "useEffect14", "useCallback10", "jsx27", "Suspense2", "jsx28", "memo6", "jsx29", "useContext7", "useMemo10", "jsxs8", "memo7", "useEffect15", "useRef7", "useCallback11", "Fragment8", "timeout2", "throttle", "getZoneId", "options", "resolveComponentData", "d", "createContext4", "useContext8", "useEffect16", "useRef8", "useCallback12", "useState15", "useMemo11", "jsx30", "_b2", "DragDropContext", "useMemo12", "jsx31", "jsxs9", "useState16", "jsx32", "Fragment9", "useCallback13", "useContext9", "useEffect17", "useMemo13", "memo8", "jsxs10", "useEffect18", "jsx33", "jsxs11", "useState17", "useEffect19", "jsx34", "useMemo14", "jsx35", "useEffect20", "hash", "jsx36", "Fragment10", "createContext5", "useContext10", "useState18", "createPortal3", "useEffect21", "useCallback14", "jsx37", "Fragment11", "useMemo15", "useRef9", "useCallback15", "useContext11", "jsxs12", "jsx38", "Fragment12", "useMemo16", "jsx39", "useMemo17", "createContext6", "useState19", "useEffect22", "useContext12", "useState20", "useEffect23", "jsx40", "Fragment13", "useCallback16", "getClassName22", "jsx41", "jsxs13", "Fragment14", "useMemo18", "jsx42", "useState21", "useCallback17", "Fragment15", "jsxs14", "memo9", "useMemo19", "jsxs15", "jsx43", "jsxs16", "jsx44", "jsx45", "useMemo20", "useState22", "useEffect24", "jsxs17", "styles_module_default22", "createContext7", "useRef10", "useMemo21", "jsx46", "useContext13", "useState23", "useRef11", "useMemo22", "jsx47", "Fragment16", "useCallback18", "useEffect25", "v", "jsxs18", "useState24", "useRef12", "useEffect26", "useCallback19", "useRef13", "useCallback20", "jsx48", "jsxs19", "Fragment17", "jsx49", "useCallback21", "jsx50", "jsxs20", "jsx51", "jsx52", "jsxs21", "jsx53", "jsx54", "useMemo23", "useEffect28", "useState25", "p", "defaultPlugins", "jsxs22", "createContext8", "jsx55", "useContext14", "useMemo24", "useState26", "useCallback22", "useEffect29", "useRef14", "jsxs23", "jsx56"]
}
