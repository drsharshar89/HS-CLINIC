import {
  useEditorState
} from "./chunk-4KRKOSZH.js";
import "./chunk-O7OUVIV2.js";
import {
  useHeadingOptions
} from "./chunk-KICM4HCZ.js";
import {
  Heading,
  SelectControl,
  useControlContext
} from "./chunk-7KYHB24E.js";
import {
  init_react_import
} from "./chunk-WYPKQIXO.js";
import {
  require_jsx_runtime
} from "./chunk-4MC7CHVX.js";
import "./chunk-VNKJSTVO.js";
import {
  __toESM
} from "./chunk-BXKINJMQ.js";

// node_modules/@puckeditor/core/dist/loaded-DIHUQBWF.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
init_react_import();
function HeadingSelectLoaded() {
  const { options } = useControlContext();
  const headingOptions = useHeadingOptions(options);
  const { editor } = useControlContext();
  const currentValue = useEditorState({
    editor,
    selector: (ctx) => {
      var _a, _b;
      if ((_a = ctx.editor) == null ? void 0 : _a.isActive("paragraph")) return "p";
      for (let level = 1; level <= 6; level++) {
        if ((_b = ctx.editor) == null ? void 0 : _b.isActive("heading", { level })) {
          return `h${level}`;
        }
      }
      return "p";
    }
  });
  const handleChange = (val) => {
    const chain = editor == null ? void 0 : editor.chain();
    if (val === "p") {
      chain == null ? void 0 : chain.focus().setParagraph().run();
    } else {
      const level = parseInt(val.replace("h", ""), 10);
      chain == null ? void 0 : chain.focus().toggleHeading({ level }).run();
    }
  };
  return (0, import_jsx_runtime.jsx)(
    SelectControl,
    {
      options: headingOptions,
      onChange: handleChange,
      value: currentValue != null ? currentValue : "p",
      defaultValue: "p",
      renderDefaultIcon: Heading
    }
  );
}
export {
  HeadingSelectLoaded
};
//# sourceMappingURL=loaded-DIHUQBWF-HLI2GJ6N.js.map
