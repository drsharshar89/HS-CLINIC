import{l as J,r as b,R as x,j as w,m as ne}from"./index-ozPIfLL2.js";import{A as oe}from"./index-DRuuEOaq.js";var D={exports:{}},I={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G;function ie(){if(G)return I;G=1;var t=J();function e(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function a(l,f){var m=f(),S=r({inst:{value:m,getSnapshot:f}}),y=S[0].inst,u=S[1];return i(function(){y.value=m,y.getSnapshot=f,h(y)&&u({inst:y})},[l,m,f]),o(function(){return h(y)&&u({inst:y}),l(function(){h(y)&&u({inst:y})})},[l]),s(m),m}function h(l){var f=l.getSnapshot;l=l.value;try{var m=f();return!n(l,m)}catch{return!0}}function E(l,f){return f()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E:a;return I.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,I}var z;function X(){return z||(z=1,D.exports=ie()),D.exports}var Z=X();const{getOwnPropertyNames:se,getOwnPropertySymbols:ue}=Object,{hasOwnProperty:ae}=Object.prototype;function N(t,e){return function(r,o,i){return t(r,o,i)&&e(r,o,i)}}function q(t){return function(n,r,o){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,o);const{cache:i}=o,s=i.get(n),a=i.get(r);if(s&&a)return s===r&&a===n;i.set(n,r),i.set(r,n);const h=t(n,r,o);return i.delete(n),i.delete(r),h}}function ce(t){return t!=null?t[Symbol.toStringTag]:void 0}function W(t){return se(t).concat(ue(t))}const le=Object.hasOwn||((t,e)=>ae.call(t,e));function T(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const de="__v",fe="__o",he="_owner",{getOwnPropertyDescriptor:L,keys:F}=Object;function pe(t,e){return t.byteLength===e.byteLength&&O(new Uint8Array(t),new Uint8Array(e))}function me(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Ee(t,e){return t.byteLength===e.byteLength&&O(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function ve(t,e){return T(t.getTime(),e.getTime())}function ye(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function be(t,e){return t===e}function k(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const o=new Array(r),i=t.entries();let s,a,h=0;for(;(s=i.next())&&!s.done;){const E=e.entries();let p=!1,l=0;for(;(a=E.next())&&!a.done;){if(o[l]){l++;continue}const f=s.value,m=a.value;if(n.equals(f[0],m[0],h,l,t,e,n)&&n.equals(f[1],m[1],f[0],m[0],t,e,n)){p=o[l]=!0;break}l++}if(!p)return!1;h++}return!0}const Se=T;function ge(t,e,n){const r=F(t);let o=r.length;if(F(e).length!==o)return!1;for(;o-- >0;)if(!H(t,e,n,r[o]))return!1;return!0}function j(t,e,n){const r=W(t);let o=r.length;if(W(e).length!==o)return!1;let i,s,a;for(;o-- >0;)if(i=r[o],!H(t,e,n,i)||(s=L(t,i),a=L(e,i),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Ce(t,e){return T(t.valueOf(),e.valueOf())}function we(t,e){return t.source===e.source&&t.flags===e.flags}function $(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const o=new Array(r),i=t.values();let s,a;for(;(s=i.next())&&!s.done;){const h=e.values();let E=!1,p=0;for(;(a=h.next())&&!a.done;){if(!o[p]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){E=o[p]=!0;break}p++}if(!E)return!1}return!0}function O(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Re(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function H(t,e,n,r){return(r===he||r===fe||r===de)&&(t.$$typeof||e.$$typeof)?!0:le(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const _e="[object ArrayBuffer]",Ae="[object Arguments]",xe="[object Boolean]",Te="[object DataView]",je="[object Date]",qe="[object Error]",Oe="[object Map]",De="[object Number]",Ie="[object Object]",Ne="[object RegExp]",Me="[object Set]",Ue="[object String]",Pe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Ve="[object URL]",Be=Object.prototype.toString;function Ge({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:o,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:h,arePrimitiveWrappersEqual:E,areRegExpsEqual:p,areSetsEqual:l,areTypedArraysEqual:f,areUrlsEqual:m,unknownTagComparators:S}){return function(u,c,d){if(u===c)return!0;if(u==null||c==null)return!1;const R=typeof u;if(R!==typeof c)return!1;if(R!=="object")return R==="number"?a(u,c,d):R==="function"?i(u,c,d):!1;const C=u.constructor;if(C!==c.constructor)return!1;if(C===Object)return h(u,c,d);if(Array.isArray(u))return e(u,c,d);if(C===Date)return r(u,c,d);if(C===RegExp)return p(u,c,d);if(C===Map)return s(u,c,d);if(C===Set)return l(u,c,d);const v=Be.call(u);if(v===je)return r(u,c,d);if(v===Ne)return p(u,c,d);if(v===Oe)return s(u,c,d);if(v===Me)return l(u,c,d);if(v===Ie)return typeof u.then!="function"&&typeof c.then!="function"&&h(u,c,d);if(v===Ve)return m(u,c,d);if(v===qe)return o(u,c,d);if(v===Ae)return h(u,c,d);if(Pe[v])return f(u,c,d);if(v===_e)return t(u,c,d);if(v===Te)return n(u,c,d);if(v===xe||v===De||v===Ue)return E(u,c,d);if(S){let g=S[v];if(!g){const _=ce(u);_&&(g=S[_])}if(g)return g(u,c,d)}return!1}}function ze({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:pe,areArraysEqual:n?j:me,areDataViewsEqual:Ee,areDatesEqual:ve,areErrorsEqual:ye,areFunctionsEqual:be,areMapsEqual:n?N(k,j):k,areNumbersEqual:Se,areObjectsEqual:n?j:ge,arePrimitiveWrappersEqual:Ce,areRegExpsEqual:we,areSetsEqual:n?N($,j):$,areTypedArraysEqual:n?N(O,j):O,areUrlsEqual:Re,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const o=q(r.areArraysEqual),i=q(r.areMapsEqual),s=q(r.areObjectsEqual),a=q(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:a})}return r}function We(t){return function(e,n,r,o,i,s,a){return t(e,n,a)}}function Le({circular:t,comparator:e,createState:n,equals:r,strict:o}){if(n)return function(a,h){const{cache:E=t?new WeakMap:void 0,meta:p}=n();return e(a,h,{cache:E,equals:r,meta:p,strict:o})};if(t)return function(a,h){return e(a,h,{cache:new WeakMap,equals:r,meta:void 0,strict:o})};const i={cache:void 0,equals:r,meta:void 0,strict:o};return function(a,h){return e(a,h,i)}}const Fe=A();A({strict:!0});A({circular:!0});A({circular:!0,strict:!0});A({createInternalComparator:()=>T});A({strict:!0,createInternalComparator:()=>T});A({circular:!0,createInternalComparator:()=>T});A({circular:!0,createInternalComparator:()=>T,strict:!0});function A(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:o=!1}=t,i=ze(t),s=Ge(i),a=n?n(s):We(s);return Le({circular:e,comparator:s,createState:r,equals:a,strict:o})}var M={exports:{}},U={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K;function ke(){if(K)return U;K=1;var t=J(),e=X();function n(E,p){return E===p&&(E!==0||1/E===1/p)||E!==E&&p!==p}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,h=t.useDebugValue;return U.useSyncExternalStoreWithSelector=function(E,p,l,f,m){var S=i(null);if(S.current===null){var y={hasValue:!1,value:null};S.current=y}else y=S.current;S=a(function(){function c(g){if(!d){if(d=!0,R=g,g=f(g),m!==void 0&&y.hasValue){var _=y.value;if(m(_,g))return C=_}return C=g}if(_=C,r(R,g))return _;var B=f(g);return m!==void 0&&m(_,B)?(R=g,_):(R=g,C=B)}var d=!1,R,C,v=l===void 0?null:l;return[function(){return c(p())},v===null?void 0:function(){return c(v())}]},[p,l,f,m]);var u=o(E,S[0],S[1]);return s(function(){y.hasValue=!0,y.value=u},[u]),h(u),u},U}var Y;function $e(){return Y||(Y=1,M.exports=ke()),M.exports}var Ke=$e(),Ye=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Je=({contentComponent:t})=>{const e=Z.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return w.jsx(w.Fragment,{children:Object.values(e)})};function Xe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:ne.createPortal(r.reactElement,r.element,n)},t.forEach(o=>o())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(o=>o())}}}var Ze=class extends x.Component{constructor(t){var e;super(t),this.editorContentRef=x.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=Xe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return w.jsxs(w.Fragment,{children:[w.jsx("div",{ref:Ye(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&w.jsx(Je,{contentComponent:t.contentComponent})]})}},He=b.forwardRef((t,e)=>{const n=x.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return x.createElement(Ze,{key:n,innerRef:e,...t})}),Qe=x.memo(He),et=typeof window<"u"?b.useLayoutEffect:b.useEffect,tt=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function rt(t){var e;const[n]=b.useState(()=>new tt(t.editor)),r=Ke.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Fe);return et(()=>n.watch(t.editor),[t.editor,n]),b.useDebugValue(r),r}var nt=!1,P=typeof window>"u",ot=P||!!(typeof window<"u"&&window.next),it=class Q{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?P||ot?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,i;return(i=(o=this.options.current).onBeforeCreate)==null?void 0:i.call(o,...r)},onBlur:(...r)=>{var o,i;return(i=(o=this.options.current).onBlur)==null?void 0:i.call(o,...r)},onCreate:(...r)=>{var o,i;return(i=(o=this.options.current).onCreate)==null?void 0:i.call(o,...r)},onDestroy:(...r)=>{var o,i;return(i=(o=this.options.current).onDestroy)==null?void 0:i.call(o,...r)},onFocus:(...r)=>{var o,i;return(i=(o=this.options.current).onFocus)==null?void 0:i.call(o,...r)},onSelectionUpdate:(...r)=>{var o,i;return(i=(o=this.options.current).onSelectionUpdate)==null?void 0:i.call(o,...r)},onTransaction:(...r)=>{var o,i;return(i=(o=this.options.current).onTransaction)==null?void 0:i.call(o,...r)},onUpdate:(...r)=>{var o,i;return(i=(o=this.options.current).onUpdate)==null?void 0:i.call(o,...r)},onContentError:(...r)=>{var o,i;return(i=(o=this.options.current).onContentError)==null?void 0:i.call(o,...r)},onDrop:(...r)=>{var o,i;return(i=(o=this.options.current).onDrop)==null?void 0:i.call(o,...r)},onPaste:(...r)=>{var o,i;return(i=(o=this.options.current).onPaste)==null?void 0:i.call(o,...r)},onDelete:(...r)=>{var o,i;return(i=(o=this.options.current).onDelete)==null?void 0:i.call(o,...r)}};return new oe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((o,i)=>{var s;return o===((s=n.extensions)==null?void 0:s[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Q.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function dt(t={},e=[]){const n=b.useRef(t);n.current=t;const[r]=b.useState(()=>new it(n)),o=Z.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return b.useDebugValue(o),b.useEffect(r.onRender(e)),rt({editor:o,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),o}var ee=b.createContext({editor:null});ee.Consumer;var st=b.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),ut=()=>b.useContext(st);x.forwardRef((t,e)=>{const{onDragStart:n}=ut(),r=t.as||"div";return w.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});x.createContext({markViewContentRef:()=>{}});var V=b.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});V.displayName="TiptapContext";var at=()=>b.useContext(V);function te({editor:t,instance:e,children:n}){const r=t??e;if(!r)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const o=b.useMemo(()=>({editor:r}),[r]),i=b.useMemo(()=>({editor:r}),[r]);return w.jsx(ee.Provider,{value:i,children:w.jsx(V.Provider,{value:o,children:n})})}te.displayName="Tiptap";function re({...t}){const{editor:e}=at();return w.jsx(Qe,{editor:e,...t})}re.displayName="Tiptap.Content";Object.assign(te,{Content:re});export{Qe as E,rt as a,dt as u};
