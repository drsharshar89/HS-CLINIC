import{P as u}from"./chunk-2CNEFIQP-CnFhdlY-.js";import{r as s,j as m,g as p,s as f,i as l}from"./index-ByL8Ev4r.js";import{g as d,D as h,N as w,a as g}from"./index-DRuuEOaq.js";function y(e,t,r){if(typeof window>"u")throw new Error("getHTMLFromFragment can only be used in a browser environment\nIf you want to use this in a Node environment, use the `@tiptap/html/server` import instead.");const n=g.fromSchema(t).serializeFragment(e.content,{document:window.document});return new XMLSerializer().serializeToString(n)}function x(e,t){if(typeof window>"u")throw new Error("generateHTML can only be used in a browser environment\nIf you want to use this in a Node environment, use the `@tiptap/html/server` import instead.");const r=d(t),n=w.fromJSON(r,e);return y(n,r)}function v(e,t,r){if(typeof window>"u")throw new Error("generateJSON can only be used in a browser environment\nIf you want to use this in a Node environment, use the `@tiptap/html/server` import instead.");const n=d(t),o=new window.DOMParser().parseFromString(e,"text/html");if(!o)throw new Error("Failed to parse HTML string");return h.fromSchema(n).parse(o.body,r).toJSON()}l();var M=p("RichTextEditor",f);function b({content:e,field:t}){const{tiptap:r={},options:n}=t,{extensions:o=[]}=r,i=s.useMemo(()=>[u.configure(n),...o],[t,o]),a=s.useMemo(()=>typeof e=="object"&&(e==null?void 0:e.type)==="doc"?e:typeof e=="string"?/<\/?[a-z][\s\S]*>/i.test(e)?v(e,i):{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:e}]}]}:{type:"doc",content:[]},[e,i]),c=s.useMemo(()=>x(a,i),[a,i]);return m.jsx("div",{className:M(),children:m.jsx("div",{className:"rich-text",dangerouslySetInnerHTML:{__html:c}})})}export{b as RichTextRender};
